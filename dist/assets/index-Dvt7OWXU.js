(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const p of d)if(p.type==="childList")for(const _ of p.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&u(_)}).observe(document,{childList:!0,subtree:!0});function o(d){const p={};return d.integrity&&(p.integrity=d.integrity),d.referrerPolicy&&(p.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?p.credentials="include":d.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(d){if(d.ep)return;d.ep=!0;const p=o(d);fetch(d.href,p)}})();function hf(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Rh={exports:{}},Ro={};var gp;function Xg(){if(gp)return Ro;gp=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function o(u,d,p){var _=null;if(p!==void 0&&(_=""+p),d.key!==void 0&&(_=""+d.key),"key"in d){p={};for(var w in d)w!=="key"&&(p[w]=d[w])}else p=d;return d=p.ref,{$$typeof:l,type:u,key:_,ref:d!==void 0?d:null,props:p}}return Ro.Fragment=a,Ro.jsx=o,Ro.jsxs=o,Ro}var vp;function Jg(){return vp||(vp=1,Rh.exports=Xg()),Rh.exports}var b=Jg(),Lh={exports:{}},xt={};var yp;function Qg(){if(yp)return xt;yp=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),_=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.iterator;function z(C){return C===null||typeof C!="object"?null:(C=M&&C[M]||C["@@iterator"],typeof C=="function"?C:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,H={};function W(C,$,tt){this.props=C,this.context=$,this.refs=H,this.updater=tt||B}W.prototype.isReactComponent={},W.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},W.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function X(){}X.prototype=W.prototype;function I(C,$,tt){this.props=C,this.context=$,this.refs=H,this.updater=tt||B}var dt=I.prototype=new X;dt.constructor=I,Z(dt,W.prototype),dt.isPureReactComponent=!0;var zt=Array.isArray;function _t(){}var lt={H:null,A:null,T:null,S:null},$t=Object.prototype.hasOwnProperty;function ee(C,$,tt){var et=tt.ref;return{$$typeof:l,type:C,key:$,ref:et!==void 0?et:null,props:tt}}function Rn(C,$){return ee(C.type,$,C.props)}function Qt(C){return typeof C=="object"&&C!==null&&C.$$typeof===l}function Wt(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(tt){return $[tt]})}var ui=/\/+/g;function Ee(C,$){return typeof C=="object"&&C!==null&&C.key!=null?Wt(""+C.key):$.toString(36)}function ln(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(_t,_t):(C.status="pending",C.then(function($){C.status==="pending"&&(C.status="fulfilled",C.value=$)},function($){C.status==="pending"&&(C.status="rejected",C.reason=$)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function V(C,$,tt,et,ot){var rt=typeof C;(rt==="undefined"||rt==="boolean")&&(C=null);var Ot=!1;if(C===null)Ot=!0;else switch(rt){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(C.$$typeof){case l:case a:Ot=!0;break;case E:return Ot=C._init,V(Ot(C._payload),$,tt,et,ot)}}if(Ot)return ot=ot(C),Ot=et===""?"."+Ee(C,0):et,zt(ot)?(tt="",Ot!=null&&(tt=Ot.replace(ui,"$&/")+"/"),V(ot,$,tt,"",function(ci){return ci})):ot!=null&&(Qt(ot)&&(ot=Rn(ot,tt+(ot.key==null||C&&C.key===ot.key?"":(""+ot.key).replace(ui,"$&/")+"/")+Ot)),$.push(ot)),1;Ot=0;var se=et===""?".":et+":";if(zt(C))for(var re=0;re<C.length;re++)et=C[re],rt=se+Ee(et,re),Ot+=V(et,$,tt,rt,ot);else if(re=z(C),typeof re=="function")for(C=re.call(C),re=0;!(et=C.next()).done;)et=et.value,rt=se+Ee(et,re++),Ot+=V(et,$,tt,rt,ot);else if(rt==="object"){if(typeof C.then=="function")return V(ln(C),$,tt,et,ot);throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function it(C,$,tt){if(C==null)return C;var et=[],ot=0;return V(C,et,"","",function(rt){return $.call(tt,rt,ot++)}),et}function F(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(tt){(C._status===0||C._status===-1)&&(C._status=1,C._result=tt)},function(tt){(C._status===0||C._status===-1)&&(C._status=2,C._result=tt)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var Ht=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},st={map:it,forEach:function(C,$,tt){it(C,function(){$.apply(this,arguments)},tt)},count:function(C){var $=0;return it(C,function(){$++}),$},toArray:function(C){return it(C,function($){return $})||[]},only:function(C){if(!Qt(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return xt.Activity=N,xt.Children=st,xt.Component=W,xt.Fragment=o,xt.Profiler=d,xt.PureComponent=I,xt.StrictMode=u,xt.Suspense=y,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,xt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return lt.H.useMemoCache(C)}},xt.cache=function(C){return function(){return C.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(C,$,tt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var et=Z({},C.props),ot=C.key;if($!=null)for(rt in $.key!==void 0&&(ot=""+$.key),$)!$t.call($,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&$.ref===void 0||(et[rt]=$[rt]);var rt=arguments.length-2;if(rt===1)et.children=tt;else if(1<rt){for(var Ot=Array(rt),se=0;se<rt;se++)Ot[se]=arguments[se+2];et.children=Ot}return ee(C.type,ot,et)},xt.createContext=function(C){return C={$$typeof:_,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:p,_context:C},C},xt.createElement=function(C,$,tt){var et,ot={},rt=null;if($!=null)for(et in $.key!==void 0&&(rt=""+$.key),$)$t.call($,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ot[et]=$[et]);var Ot=arguments.length-2;if(Ot===1)ot.children=tt;else if(1<Ot){for(var se=Array(Ot),re=0;re<Ot;re++)se[re]=arguments[re+2];ot.children=se}if(C&&C.defaultProps)for(et in Ot=C.defaultProps,Ot)ot[et]===void 0&&(ot[et]=Ot[et]);return ee(C,rt,ot)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(C){return{$$typeof:w,render:C}},xt.isValidElement=Qt,xt.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:F}},xt.memo=function(C,$){return{$$typeof:x,type:C,compare:$===void 0?null:$}},xt.startTransition=function(C){var $=lt.T,tt={};lt.T=tt;try{var et=C(),ot=lt.S;ot!==null&&ot(tt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(_t,Ht)}catch(rt){Ht(rt)}finally{$!==null&&tt.types!==null&&($.types=tt.types),lt.T=$}},xt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},xt.use=function(C){return lt.H.use(C)},xt.useActionState=function(C,$,tt){return lt.H.useActionState(C,$,tt)},xt.useCallback=function(C,$){return lt.H.useCallback(C,$)},xt.useContext=function(C){return lt.H.useContext(C)},xt.useDebugValue=function(){},xt.useDeferredValue=function(C,$){return lt.H.useDeferredValue(C,$)},xt.useEffect=function(C,$){return lt.H.useEffect(C,$)},xt.useEffectEvent=function(C){return lt.H.useEffectEvent(C)},xt.useId=function(){return lt.H.useId()},xt.useImperativeHandle=function(C,$,tt){return lt.H.useImperativeHandle(C,$,tt)},xt.useInsertionEffect=function(C,$){return lt.H.useInsertionEffect(C,$)},xt.useLayoutEffect=function(C,$){return lt.H.useLayoutEffect(C,$)},xt.useMemo=function(C,$){return lt.H.useMemo(C,$)},xt.useOptimistic=function(C,$){return lt.H.useOptimistic(C,$)},xt.useReducer=function(C,$,tt){return lt.H.useReducer(C,$,tt)},xt.useRef=function(C){return lt.H.useRef(C)},xt.useState=function(C){return lt.H.useState(C)},xt.useSyncExternalStore=function(C,$,tt){return lt.H.useSyncExternalStore(C,$,tt)},xt.useTransition=function(){return lt.H.useTransition()},xt.version="19.2.3",xt}var bp;function ff(){return bp||(bp=1,Lh.exports=Qg()),Lh.exports}var at=ff();const Eu=hf(at);var Mh={exports:{}},Lo={},zh={exports:{}},Dh={};var wp;function Wg(){return wp||(wp=1,(function(l){function a(V,it){var F=V.length;V.push(it);t:for(;0<F;){var Ht=F-1>>>1,st=V[Ht];if(0<d(st,it))V[Ht]=it,V[F]=st,F=Ht;else break t}}function o(V){return V.length===0?null:V[0]}function u(V){if(V.length===0)return null;var it=V[0],F=V.pop();if(F!==it){V[0]=F;t:for(var Ht=0,st=V.length,C=st>>>1;Ht<C;){var $=2*(Ht+1)-1,tt=V[$],et=$+1,ot=V[et];if(0>d(tt,F))et<st&&0>d(ot,tt)?(V[Ht]=ot,V[et]=F,Ht=et):(V[Ht]=tt,V[$]=F,Ht=$);else if(et<st&&0>d(ot,F))V[Ht]=ot,V[et]=F,Ht=et;else break t}}return it}function d(V,it){var F=V.sortIndex-it.sortIndex;return F!==0?F:V.id-it.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;l.unstable_now=function(){return p.now()}}else{var _=Date,w=_.now();l.unstable_now=function(){return _.now()-w}}var y=[],x=[],E=1,N=null,M=3,z=!1,B=!1,Z=!1,H=!1,W=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function dt(V){for(var it=o(x);it!==null;){if(it.callback===null)u(x);else if(it.startTime<=V)u(x),it.sortIndex=it.expirationTime,a(y,it);else break;it=o(x)}}function zt(V){if(Z=!1,dt(V),!B)if(o(y)!==null)B=!0,_t||(_t=!0,Wt());else{var it=o(x);it!==null&&ln(zt,it.startTime-V)}}var _t=!1,lt=-1,$t=5,ee=-1;function Rn(){return H?!0:!(l.unstable_now()-ee<$t)}function Qt(){if(H=!1,_t){var V=l.unstable_now();ee=V;var it=!0;try{t:{B=!1,Z&&(Z=!1,X(lt),lt=-1),z=!0;var F=M;try{e:{for(dt(V),N=o(y);N!==null&&!(N.expirationTime>V&&Rn());){var Ht=N.callback;if(typeof Ht=="function"){N.callback=null,M=N.priorityLevel;var st=Ht(N.expirationTime<=V);if(V=l.unstable_now(),typeof st=="function"){N.callback=st,dt(V),it=!0;break e}N===o(y)&&u(y),dt(V)}else u(y);N=o(y)}if(N!==null)it=!0;else{var C=o(x);C!==null&&ln(zt,C.startTime-V),it=!1}}break t}finally{N=null,M=F,z=!1}it=void 0}}finally{it?Wt():_t=!1}}}var Wt;if(typeof I=="function")Wt=function(){I(Qt)};else if(typeof MessageChannel<"u"){var ui=new MessageChannel,Ee=ui.port2;ui.port1.onmessage=Qt,Wt=function(){Ee.postMessage(null)}}else Wt=function(){W(Qt,0)};function ln(V,it){lt=W(function(){V(l.unstable_now())},it)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(V){V.callback=null},l.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$t=0<V?Math.floor(1e3/V):5},l.unstable_getCurrentPriorityLevel=function(){return M},l.unstable_next=function(V){switch(M){case 1:case 2:case 3:var it=3;break;default:it=M}var F=M;M=it;try{return V()}finally{M=F}},l.unstable_requestPaint=function(){H=!0},l.unstable_runWithPriority=function(V,it){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var F=M;M=V;try{return it()}finally{M=F}},l.unstable_scheduleCallback=function(V,it,F){var Ht=l.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Ht+F:Ht):F=Ht,V){case 1:var st=-1;break;case 2:st=250;break;case 5:st=1073741823;break;case 4:st=1e4;break;default:st=5e3}return st=F+st,V={id:E++,callback:it,priorityLevel:V,startTime:F,expirationTime:st,sortIndex:-1},F>Ht?(V.sortIndex=F,a(x,V),o(y)===null&&V===o(x)&&(Z?(X(lt),lt=-1):Z=!0,ln(zt,F-Ht))):(V.sortIndex=st,a(y,V),B||z||(B=!0,_t||(_t=!0,Wt()))),V},l.unstable_shouldYield=Rn,l.unstable_wrapCallback=function(V){var it=M;return function(){var F=M;M=it;try{return V.apply(this,arguments)}finally{M=F}}}})(Dh)),Dh}var xp;function Fg(){return xp||(xp=1,zh.exports=Wg()),zh.exports}var Uh={exports:{}},Ie={};var Sp;function tv(){if(Sp)return Ie;Sp=1;var l=ff();function a(y){var x="https://react.dev/errors/"+y;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)x+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var u={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},d=Symbol.for("react.portal");function p(y,x,E){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:N==null?null:""+N,children:y,containerInfo:x,implementation:E}}var _=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function w(y,x){if(y==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Ie.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,Ie.createPortal=function(y,x){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(a(299));return p(y,x,null,E)},Ie.flushSync=function(y){var x=_.T,E=u.p;try{if(_.T=null,u.p=2,y)return y()}finally{_.T=x,u.p=E,u.d.f()}},Ie.preconnect=function(y,x){typeof y=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,u.d.C(y,x))},Ie.prefetchDNS=function(y){typeof y=="string"&&u.d.D(y)},Ie.preinit=function(y,x){if(typeof y=="string"&&x&&typeof x.as=="string"){var E=x.as,N=w(E,x.crossOrigin),M=typeof x.integrity=="string"?x.integrity:void 0,z=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;E==="style"?u.d.S(y,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:N,integrity:M,fetchPriority:z}):E==="script"&&u.d.X(y,{crossOrigin:N,integrity:M,fetchPriority:z,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Ie.preinitModule=function(y,x){if(typeof y=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var E=w(x.as,x.crossOrigin);u.d.M(y,{crossOrigin:E,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&u.d.M(y)},Ie.preload=function(y,x){if(typeof y=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var E=x.as,N=w(E,x.crossOrigin);u.d.L(y,E,{crossOrigin:N,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Ie.preloadModule=function(y,x){if(typeof y=="string")if(x){var E=w(x.as,x.crossOrigin);u.d.m(y,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:E,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else u.d.m(y)},Ie.requestFormReset=function(y){u.d.r(y)},Ie.unstable_batchedUpdates=function(y,x){return y(x)},Ie.useFormState=function(y,x,E){return _.H.useFormState(y,x,E)},Ie.useFormStatus=function(){return _.H.useHostTransitionStatus()},Ie.version="19.2.3",Ie}var Tp;function Fp(){if(Tp)return Uh.exports;Tp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Uh.exports=tv(),Uh.exports}var Ep;function ev(){if(Ep)return Lo;Ep=1;var l=Fg(),a=ff(),o=Fp();function u(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function _(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function w(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(p(t)!==t)throw Error(u(188))}function x(t){var e=t.alternate;if(!e){if(e=p(t),e===null)throw Error(u(188));return e!==t?null:t}for(var i=t,r=e;;){var h=i.return;if(h===null)break;var f=h.alternate;if(f===null){if(r=h.return,r!==null){i=r;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===i)return y(h),t;if(f===r)return y(h),e;f=f.sibling}throw Error(u(188))}if(i.return!==r.return)i=h,r=f;else{for(var v=!1,T=h.child;T;){if(T===i){v=!0,i=h,r=f;break}if(T===r){v=!0,r=h,i=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===i){v=!0,i=f,r=h;break}if(T===r){v=!0,r=f,i=h;break}T=T.sibling}if(!v)throw Error(u(189))}}if(i.alternate!==r)throw Error(u(190))}if(i.tag!==3)throw Error(u(188));return i.stateNode.current===i?t:e}function E(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=E(t),e!==null)return e;t=t.sibling}return null}var N=Object.assign,M=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),I=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),zt=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),lt=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),Rn=Symbol.for("react.memo_cache_sentinel"),Qt=Symbol.iterator;function Wt(t){return t===null||typeof t!="object"?null:(t=Qt&&t[Qt]||t["@@iterator"],typeof t=="function"?t:null)}var ui=Symbol.for("react.client.reference");function Ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ui?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case W:return"Profiler";case H:return"StrictMode";case zt:return"Suspense";case _t:return"SuspenseList";case ee:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case I:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case dt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lt:return e=t.displayName||null,e!==null?e:Ee(t.type)||"Memo";case $t:e=t._payload,t=t._init;try{return Ee(t(e))}catch{}}return null}var ln=Array.isArray,V=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},Ht=[],st=-1;function C(t){return{current:t}}function $(t){0>st||(t.current=Ht[st],Ht[st]=null,st--)}function tt(t,e){st++,Ht[st]=t.current,t.current=e}var et=C(null),ot=C(null),rt=C(null),Ot=C(null);function se(t,e){switch(tt(rt,e),tt(ot,t),tt(et,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?qm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=qm(e),t=Hm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(et),tt(et,t)}function re(){$(et),$(ot),$(rt)}function ci(t){t.memoizedState!==null&&tt(Ot,t);var e=et.current,i=Hm(e,t.type);e!==i&&(tt(ot,t),tt(et,i))}function Pi(t){ot.current===t&&($(et),$(ot)),Ot.current===t&&($(Ot),Co._currentValue=F)}var hi,ws;function fi(t){if(hi===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);hi=e&&e[1]||"",ws=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hi+t+ws}var xs=!1;function Ss(t,e){if(!t||xs)return"";xs=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(G){var q=G}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(G){q=G}t.call(Q.prototype)}}else{try{throw Error()}catch(G){q=G}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var A=v.split(`
`),U=T.split(`
`);for(h=r=0;r<A.length&&!A[r].includes("DetermineComponentFrameRoot");)r++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(r===A.length||h===U.length)for(r=A.length-1,h=U.length-1;1<=r&&0<=h&&A[r]!==U[h];)h--;for(;1<=r&&0<=h;r--,h--)if(A[r]!==U[h]){if(r!==1||h!==1)do if(r--,h--,0>h||A[r]!==U[h]){var K=`
`+A[r].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=r&&0<=h);break}}}finally{xs=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?fi(i):""}function Er(t,e){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return t.child!==e&&e!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Ss(t.type,!1);case 11:return Ss(t.type.render,!1);case 1:return Ss(t.type,!0);case 31:return fi("Activity");default:return""}}function Oa(t){try{var e="",i=null;do e+=Er(t,i),i=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Or=Object.prototype.hasOwnProperty,Ts=l.unstable_scheduleCallback,Aa=l.unstable_cancelCallback,$o=l.unstable_shouldYield,Ko=l.unstable_requestPaint,Ge=l.unstable_now,Mu=l.unstable_getCurrentPriorityLevel,Es=l.unstable_ImmediatePriority,Ar=l.unstable_UserBlockingPriority,Ca=l.unstable_NormalPriority,zu=l.unstable_LowPriority,Cr=l.unstable_IdlePriority,Yo=l.log,Du=l.unstable_setDisableYieldValue,qi=null,Me=null;function Ln(t){if(typeof Yo=="function"&&Du(t),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(qi,t)}catch{}}var Ve=Math.clz32?Math.clz32:Bu,Na=Math.log,Uu=Math.LN2;function Bu(t){return t>>>=0,t===0?32:31-(Na(t)/Uu|0)|0}var ka=256,ja=262144,Ra=4194304;function di(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Os(t,e,i){var r=t.pendingLanes;if(r===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=r&134217727;return T!==0?(r=T&~f,r!==0?h=di(r):(v&=T,v!==0?h=di(v):i||(i=T&~t,i!==0&&(h=di(i))))):(T=r&~f,T!==0?h=di(T):v!==0?h=di(v):i||(i=r&~t,i!==0&&(h=di(i)))),h===0?0:e!==0&&e!==h&&(e&f)===0&&(f=h&-h,i=e&-e,f>=i||f===32&&(i&4194048)!==0)?e:h}function La(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Pu(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var t=Ra;return Ra<<=1,(Ra&62914560)===0&&(Ra=4194304),t}function Nr(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function mi(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qu(t,e,i,r,h,f){var v=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var T=t.entanglements,A=t.expirationTimes,U=t.hiddenUpdates;for(i=v&~i;0<i;){var K=31-Ve(i),Q=1<<K;T[K]=0,A[K]=-1;var q=U[K];if(q!==null)for(U[K]=null,K=0;K<q.length;K++){var G=q[K];G!==null&&(G.lane&=-536870913)}i&=~Q}r!==0&&Jo(t,r,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~e))}function Jo(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Ve(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|i&261930}function Qo(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-Ve(i),h=1<<r;h&e|t[r]&e&&(t[r]|=e),i&=~h}}function Wo(t,e){var i=e&-e;return i=(i&42)!==0?1:Xe(i),(i&(t.suspendedLanes|e))!==0?0:i}function Xe(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ht(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function kr(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:cp(t.type))}function jr(t,e){var i=it.p;try{return it.p=t,e()}finally{it.p=i}}var Mn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Mn,ke="__reactProps$"+Mn,pi="__reactContainer$"+Mn,Kn="__reactEvents$"+Mn,Fo="__reactListeners$"+Mn,Hu="__reactHandles$"+Mn,tl="__reactResources$"+Mn,Ma="__reactMarker$"+Mn;function Rr(t){delete t[ve],delete t[ke],delete t[Kn],delete t[Fo],delete t[Hu]}function _i(t){var e=t[ve];if(e)return e;for(var i=t.parentNode;i;){if(e=i[pi]||i[ve]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Ym(t);t!==null;){if(i=t[ve])return i;t=Ym(t)}return e}t=i,i=t.parentNode}return null}function Hi(t){if(t=t[ve]||t[pi]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Yn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(u(33))}function Zi(t){var e=t[tl];return e||(e=t[tl]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ye(t){t[Ma]=!0}var el=new Set,nl={};function gi(t,e){Xn(t,e),Xn(t+"Capture",e)}function Xn(t,e){for(nl[t]=e,t=0;t<e.length;t++)el.add(e[t])}var za=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lr={},Mr={};function Da(t){return Or.call(Mr,t)?!0:Or.call(Lr,t)?!1:za.test(t)?Mr[t]=!0:(Lr[t]=!0,!1)}function Ct(t,e,i){if(Da(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function Kt(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function Je(t,e,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+r)}}function Oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vi(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zr(t,e,i){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return h.call(this)},set:function(v){i=""+v,f.call(this,v)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wt(t){if(!t._valueTracker){var e=vi(t)?"checked":"value";t._valueTracker=zr(t,e,""+t[e])}}function oe(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=vi(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function Ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var As=/[\n"\\]/g;function ie(t){return t.replace(As,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Dr(t,e,i,r,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),e!=null?v==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Oe(e)):t.value!==""+Oe(e)&&(t.value=""+Oe(e)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),e!=null?zn(t,v,Oe(e)):i!=null?zn(t,v,Oe(i)):r!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Oe(T):t.removeAttribute("name")}function Ua(t,e,i,r,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||e!=null)){wt(t);return}i=i!=null?""+Oe(i):"",e=e!=null?""+Oe(e):i,T||e===t.value||(t.value=e),t.defaultValue=e}r=r??h,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=T?t.checked:!!r,t.defaultChecked=!!r,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),wt(t)}function zn(t,e,i){e==="number"&&Ii(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Ft(t,e,i,r){if(t=t.options,e){e={};for(var h=0;h<i.length;h++)e["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=e.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&r&&(t[i].defaultSelected=!0)}else{for(i=""+Oe(i),e=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,r&&(t[h].defaultSelected=!0);return}e!==null||t[h].disabled||(e=t[h])}e!==null&&(e.selected=!0)}}function Jn(t,e,i){if(e!=null&&(e=""+Oe(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Oe(i):""}function Gi(t,e,i,r){if(e==null){if(r!=null){if(i!=null)throw Error(u(92));if(ln(r)){if(1<r.length)throw Error(u(93));r=r[0]}i=r}i==null&&(i=""),e=i}i=Oe(e),t.defaultValue=i,r=t.textContent,r===i&&r!==""&&r!==null&&(t.value=r),wt(t)}function wn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Ur=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vi(t,e,i){var r=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,i):typeof i!="number"||i===0||Ur.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Cs(t,e,i){if(e!=null&&typeof e!="object")throw Error(u(62));if(t=t.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var h in e)r=e[h],e.hasOwnProperty(h)&&i[h]!==r&&Vi(t,h,r)}else for(var f in e)e.hasOwnProperty(f)&&Vi(t,f,e[f])}function Ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ns=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $i(t){return Br.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qe(){}var ks=null;function Pa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,bt=null;function un(t){var e=Hi(t);if(e&&(t=e.stateNode)){var i=t[ke]||null;t:switch(t=e.stateNode,e.type){case"input":if(Dr(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ie(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var h=r[ke]||null;if(!h)throw Error(u(90));Dr(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(e=0;e<i.length;e++)r=i[e],r.form===t.form&&oe(r)}break t;case"textarea":Jn(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Ft(t,!!i.multiple,e,!1)}}}var It=!1;function Pr(t,e,i){if(It)return t(e,i);It=!0;try{var r=t(e);return r}finally{if(It=!1,(Ki!==null||bt!==null)&&(Wl(),Ki&&(e=Ki,t=bt,bt=Ki=null,un(e),t)))for(e=0;e<t.length;e++)un(t[e])}}function yi(t,e){var i=t.stateNode;if(i===null)return null;var r=i[ke]||null;if(r===null)return null;i=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(u(231,e,typeof i));return i}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qa=!1;if(cn)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){qa=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{qa=!1}var xn=null,bi=null,he=null;function Qn(){if(he)return he;var t,e=bi,i=e.length,r,h="value"in xn?xn.value:xn.textContent,f=h.length;for(t=0;t<i&&e[t]===h[t];t++);var v=i-t;for(r=1;r<=v&&e[i-r]===h[f-r];r++);return he=h.slice(t,1<r?1-r:void 0)}function Ha(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Za(){return!0}function il(){return!1}function ze(t){function e(i,r,h,f,v){this._reactName=i,this._targetInst=h,this.type=r,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(i=t[T],this[T]=i?i(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Za:il,this.isPropagationStopped=il,this}return N(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),e}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=ze(Dn),Yi=N({},Dn,{view:0,detail:0}),Rt=ze(Yi),qr,$e,Un,Ia=N({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Un&&(Un&&t.type==="mousemove"?(qr=t.screenX-Un.screenX,$e=t.screenY-Un.screenY):$e=qr=0,Un=t),qr)},movementY:function(t){return"movementY"in t?t.movementY:$e}}),al=ze(Ia),Hr=N({},Ia,{dataTransfer:0}),Zu=ze(Hr),sl=N({},Yi,{relatedTarget:0}),Zr=ze(sl),Iu=N({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ir=ze(Iu),Gu=N({},Dn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sn=ze(Gu),Vu=N({},Dn,{data:0}),Gr=ze(Vu),Wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ol={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ol[t])?!!e[t]:!1}function $r(){return Vr}var ll=N({},Yi,{key:function(t){if(t.key){var e=Wn[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ha(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(t){return t.type==="keypress"?Ha(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ha(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ul=ze(ll),$u=N({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=ze($u),Kr=N({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),Ku=ze(Kr),hl=N({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),fl=ze(hl),Rs=N({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wi=ze(Rs),Yu=N({},Dn,{newState:0,oldState:0}),Ga=ze(Yu),We=[9,13,27,32],Ls=cn&&"CompositionEvent"in window,Xi=null;cn&&"documentMode"in document&&(Xi=document.documentMode);var Xu=cn&&"TextEvent"in window&&!Xi,Ms=cn&&(!Ls||Xi&&8<Xi&&11>=Xi),zs=" ",dl=!1;function ml(t,e){switch(t){case"keyup":return We.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ji=!1;function fn(t,e){switch(t){case"compositionend":return Yr(e);case"keypress":return e.which!==32?null:(dl=!0,zs);case"textInput":return t=e.data,t===zs&&dl?null:t;default:return null}}function Qi(t,e){if(Ji)return t==="compositionend"||!Ls&&ml(t,e)?(t=Qn(),he=bi=xn=null,Ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ms&&e.locale!=="ko"?null:e.data;default:return null}}var Ju={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ju[t.type]:e==="textarea"}function pl(t,e,i,r){Ki?bt?bt.push(r):bt=[r]:Ki=r,e=su(e,"onChange"),0<e.length&&(i=new js("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var En=null,Va=null;function $a(t){Mm(t,0)}function Ka(t){var e=Yn(t);if(oe(e))return t}function Ya(t,e){if(t==="change")return e}var _l=!1;if(cn){var On;if(cn){var Wi="oninput"in document;if(!Wi){var gl=document.createElement("div");gl.setAttribute("oninput","return;"),Wi=typeof gl.oninput=="function"}On=Wi}else On=!1;_l=On&&(!document.documentMode||9<document.documentMode)}function Ds(){En&&(En.detachEvent("onpropertychange",vl),Va=En=null)}function vl(t){if(t.propertyName==="value"&&Ka(Va)){var e=[];pl(e,Va,t,Pa(t)),Pr($a,e)}}function Bn(t,e,i){t==="focusin"?(Ds(),En=e,Va=i,En.attachEvent("onpropertychange",vl)):t==="focusout"&&Ds()}function Qu(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ka(Va)}function Fi(t,e){if(t==="click")return Ka(e)}function Wu(t,e){if(t==="input"||t==="change")return Ka(e)}function Pn(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var je=typeof Object.is=="function"?Object.is:Pn;function ta(t,e){if(je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var h=i[r];if(!Or.call(e,h)||!je(t[h],e[h]))return!1}return!0}function Us(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xa(t,e){var i=Us(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Us(i)}}function Bs(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bs(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ja(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ii(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Ii(t.document)}return e}function Fn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Ps=cn&&"documentMode"in document&&11>=document.documentMode,ti=null,qs=null,Qa=null,ea=!1;function yl(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ea||ti==null||ti!==Ii(r)||(r=ti,"selectionStart"in r&&Fn(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qa&&ta(Qa,r)||(Qa=r,r=su(qs,"onSelect"),0<r.length&&(e=new js("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=ti)))}function ei(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var na={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionrun:ei("Transition","TransitionRun"),transitionstart:ei("Transition","TransitionStart"),transitioncancel:ei("Transition","TransitionCancel"),transitionend:ei("Transition","TransitionEnd")},Hs={},bl={};cn&&(bl=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function Re(t){if(Hs[t])return Hs[t];if(!na[t])return t;var e=na[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in bl)return Hs[t]=e[i];return t}var Wa=Re("animationend"),wl=Re("animationiteration"),Fa=Re("animationstart"),Fu=Re("transitionrun"),xl=Re("transitionstart"),tc=Re("transitioncancel"),ia=Re("transitionend"),Sl=new Map,ni="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ni.push("scrollEnd");function Fe(t,e){Sl.set(t,e),gi(e,[t])}var ts=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},tn=[],He=0,Zs=0;function es(){for(var t=He,e=Zs=He=0;e<t;){var i=tn[e];tn[e++]=null;var r=tn[e];tn[e++]=null;var h=tn[e];tn[e++]=null;var f=tn[e];if(tn[e++]=null,r!==null&&h!==null){var v=r.pending;v===null?h.next=h:(h.next=v.next,v.next=h),r.pending=h}f!==0&&aa(i,h,f)}}function ii(t,e,i,r){tn[He++]=t,tn[He++]=e,tn[He++]=i,tn[He++]=r,Zs|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Xr(t,e,i,r){return ii(t,e,i,r),ns(t)}function An(t,e){return ii(t,null,null,e),ns(t)}function aa(t,e,i){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i);for(var h=!1,f=t.return;f!==null;)f.childLanes|=i,r=f.alternate,r!==null&&(r.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&e!==null&&(h=31-Ve(i),t=f.hiddenUpdates,r=t[h],r===null?t[h]=[e]:r.push(e),e.lane=i|536870912),f):null}function ns(t){if(50<wo)throw wo=0,nh=null,Error(u(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var xi={};function ec(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(t,e,i,r){return new ec(t,e,i,r)}function Is(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cn(t,e){var i=t.alternate;return i===null?(i=Ze(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Jr(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function is(t,e,i,r,h,f){var v=0;if(r=t,typeof t=="function")Is(t)&&(v=1);else if(typeof t=="string")v=Ug(t,i,et.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case ee:return t=Ze(31,i,e,h),t.elementType=ee,t.lanes=f,t;case Z:return Si(i.children,h,f,e);case H:v=8,h|=24;break;case W:return t=Ze(12,i,e,h|2),t.elementType=W,t.lanes=f,t;case zt:return t=Ze(13,i,e,h),t.elementType=zt,t.lanes=f,t;case _t:return t=Ze(19,i,e,h),t.elementType=_t,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I:v=10;break t;case X:v=9;break t;case dt:v=11;break t;case lt:v=14;break t;case $t:v=16,r=null;break t}v=29,i=Error(u(130,t===null?"null":typeof t,"")),r=null}return e=Ze(v,i,e,h),e.elementType=t,e.type=r,e.lanes=f,e}function Si(t,e,i,r){return t=Ze(7,t,r,e),t.lanes=i,t}function Gs(t,e,i){return t=Ze(6,t,null,e),t.lanes=i,t}function Qr(t){var e=Ze(18,null,null,0);return e.stateNode=t,e}function Wr(t,e,i){return e=Ze(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var n=new WeakMap;function s(t,e){if(typeof t=="object"&&t!==null){var i=n.get(t);return i!==void 0?i:(e={value:t,source:e,stack:Oa(e)},n.set(t,e),e)}return{value:t,source:e,stack:Oa(e)}}var c=[],m=0,g=null,S=0,O=[],R=0,P=null,J=1,nt="";function ft(t,e){c[m++]=S,c[m++]=g,g=t,S=e}function Tt(t,e,i){O[R++]=J,O[R++]=nt,O[R++]=P,P=t;var r=J;t=nt;var h=32-Ve(r)-1;r&=~(1<<h),i+=1;var f=32-Ve(e)+h;if(30<f){var v=h-h%5;f=(r&(1<<v)-1).toString(32),r>>=v,h-=v,J=1<<32-Ve(e)+h|i<<h|r,nt=f+t}else J=1<<f|i<<h|r,nt=t}function Ae(t){t.return!==null&&(ft(t,1),Tt(t,1,0))}function fe(t){for(;t===g;)g=c[--m],c[m]=null,S=c[--m],c[m]=null;for(;t===P;)P=O[--R],O[R]=null,nt=O[--R],O[R]=null,J=O[--R],O[R]=null}function Ke(t,e){O[R++]=J,O[R++]=nt,O[R++]=P,J=e.id,nt=e.overflow,P=t}var Ut=null,Bt=null,Nt=!1,ai=null,en=!1,Vs=Error(u(519));function si(t){var e=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw as(s(e,t)),Vs}function Fr(t){var e=t.stateNode,i=t.type,r=t.memoizedProps;switch(e[ve]=t,e[ke]=r,i){case"dialog":jt("cancel",e),jt("close",e);break;case"iframe":case"object":case"embed":jt("load",e);break;case"video":case"audio":for(i=0;i<So.length;i++)jt(So[i],e);break;case"source":jt("error",e);break;case"img":case"image":case"link":jt("error",e),jt("load",e);break;case"details":jt("toggle",e);break;case"input":jt("invalid",e),Ua(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":jt("invalid",e);break;case"textarea":jt("invalid",e),Gi(e,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||r.suppressHydrationWarning===!0||Bm(e.textContent,i)?(r.popover!=null&&(jt("beforetoggle",e),jt("toggle",e)),r.onScroll!=null&&jt("scroll",e),r.onScrollEnd!=null&&jt("scrollend",e),r.onClick!=null&&(e.onclick=Qe),e=!0):e=!1,e||si(t,!0)}function ue(t){for(Ut=t.return;Ut;)switch(Ut.tag){case 5:case 31:case 13:en=!1;return;case 27:case 3:en=!0;return;default:Ut=Ut.return}}function qn(t){if(t!==Ut)return!1;if(!Nt)return ue(t),Nt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||gh(t.type,t.memoizedProps)),i=!i),i&&Bt&&si(t),ue(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));Bt=Km(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));Bt=Km(t)}else e===27?(e=Bt,va(t.type)?(t=xh,xh=null,Bt=t):Bt=e):Bt=Ut?kn(t.stateNode.nextSibling):null;return!0}function Ti(){Bt=Ut=null,Nt=!1}function to(){var t=ai;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),ai=null),t}function as(t){ai===null?ai=[t]:ai.push(t)}var ss=C(null),ri=null,Hn=null;function sa(t,e,i){tt(ss,e._currentValue),e._currentValue=i}function Ei(t){t._currentValue=ss.current,$(ss)}function nc(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function ic(t,e,i,r){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var A=0;A<e.length;A++)if(T.context===e[A]){f.lanes|=i,T=f.alternate,T!==null&&(T.lanes|=i),nc(f.return,i,t),r||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(u(341));v.lanes|=i,f=v.alternate,f!==null&&(f.lanes|=i),nc(v,i,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function $s(t,e,i,r){t=null;for(var h=e,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(u(387));if(v=v.memoizedProps,v!==null){var T=h.type;je(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ot.current){if(v=h.alternate,v===null)throw Error(u(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Co):t=[Co])}h=h.return}t!==null&&ic(e,t,i,r),e.flags|=262144}function Tl(t){for(t=t.firstContext;t!==null;){if(!je(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rs(t){ri=t,Hn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function De(t){return Sf(ri,t)}function El(t,e){return ri===null&&rs(t),Sf(t,e)}function Sf(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Hn===null){if(t===null)throw Error(u(308));Hn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Hn=Hn.next=e;return i}var L_=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},M_=l.unstable_scheduleCallback,z_=l.unstable_NormalPriority,be={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ac(){return{controller:new L_,data:new Map,refCount:0}}function eo(t){t.refCount--,t.refCount===0&&M_(z_,function(){t.controller.abort()})}var no=null,sc=0,Ks=0,Ys=null;function D_(t,e){if(no===null){var i=no=[];sc=0,Ks=lh(),Ys={status:"pending",value:void 0,then:function(r){i.push(r)}}}return sc++,e.then(Tf,Tf),e}function Tf(){if(--sc===0&&no!==null){Ys!==null&&(Ys.status="fulfilled");var t=no;no=null,Ks=0,Ys=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function U_(t,e){var i=[],r={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var h=0;h<i.length;h++)(0,i[h])(e)},function(h){for(r.status="rejected",r.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),r}var Ef=V.S;V.S=function(t,e){lm=Ge(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&D_(t,e),Ef!==null&&Ef(t,e)};var os=C(null);function rc(){var t=os.current;return t!==null?t:te.pooledCache}function Ol(t,e){e===null?tt(os,os.current):tt(os,e.pool)}function Of(){var t=rc();return t===null?null:{parent:be._currentValue,pool:t}}var Xs=Error(u(460)),oc=Error(u(474)),Al=Error(u(542)),Cl={then:function(){}};function Af(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cf(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Qe,Qe),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,kf(t),t;default:if(typeof e.status=="string")e.then(Qe,Qe);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(u(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var h=e;h.status="fulfilled",h.value=r}},function(r){if(e.status==="pending"){var h=e;h.status="rejected",h.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,kf(t),t}throw us=e,Xs}}function ls(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(us=i,Xs):i}}var us=null;function Nf(){if(us===null)throw Error(u(459));var t=us;return us=null,t}function kf(t){if(t===Xs||t===Al)throw Error(u(483))}var Js=null,io=0;function Nl(t){var e=io;return io+=1,Js===null&&(Js=[]),Cf(Js,t,e)}function ao(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function kl(t,e){throw e.$$typeof===M?Error(u(525)):(t=Object.prototype.toString.call(e),Error(u(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function jf(t){function e(j,k){if(t){var D=j.deletions;D===null?(j.deletions=[k],j.flags|=16):D.push(k)}}function i(j,k){if(!t)return null;for(;k!==null;)e(j,k),k=k.sibling;return null}function r(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function h(j,k){return j=Cn(j,k),j.index=0,j.sibling=null,j}function f(j,k,D){return j.index=D,t?(D=j.alternate,D!==null?(D=D.index,D<k?(j.flags|=67108866,k):D):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,k,D,Y){return k===null||k.tag!==6?(k=Gs(D,j.mode,Y),k.return=j,k):(k=h(k,D),k.return=j,k)}function A(j,k,D,Y){var pt=D.type;return pt===Z?K(j,k,D.props.children,Y,D.key):k!==null&&(k.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===$t&&ls(pt)===k.type)?(k=h(k,D.props),ao(k,D),k.return=j,k):(k=is(D.type,D.key,D.props,null,j.mode,Y),ao(k,D),k.return=j,k)}function U(j,k,D,Y){return k===null||k.tag!==4||k.stateNode.containerInfo!==D.containerInfo||k.stateNode.implementation!==D.implementation?(k=Wr(D,j.mode,Y),k.return=j,k):(k=h(k,D.children||[]),k.return=j,k)}function K(j,k,D,Y,pt){return k===null||k.tag!==7?(k=Si(D,j.mode,Y,pt),k.return=j,k):(k=h(k,D),k.return=j,k)}function Q(j,k,D){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Gs(""+k,j.mode,D),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case z:return D=is(k.type,k.key,k.props,null,j.mode,D),ao(D,k),D.return=j,D;case B:return k=Wr(k,j.mode,D),k.return=j,k;case $t:return k=ls(k),Q(j,k,D)}if(ln(k)||Wt(k))return k=Si(k,j.mode,D,null),k.return=j,k;if(typeof k.then=="function")return Q(j,Nl(k),D);if(k.$$typeof===I)return Q(j,El(j,k),D);kl(j,k)}return null}function q(j,k,D,Y){var pt=k!==null?k.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return pt!==null?null:T(j,k,""+D,Y);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case z:return D.key===pt?A(j,k,D,Y):null;case B:return D.key===pt?U(j,k,D,Y):null;case $t:return D=ls(D),q(j,k,D,Y)}if(ln(D)||Wt(D))return pt!==null?null:K(j,k,D,Y,null);if(typeof D.then=="function")return q(j,k,Nl(D),Y);if(D.$$typeof===I)return q(j,k,El(j,D),Y);kl(j,D)}return null}function G(j,k,D,Y,pt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return j=j.get(D)||null,T(k,j,""+Y,pt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case z:return j=j.get(Y.key===null?D:Y.key)||null,A(k,j,Y,pt);case B:return j=j.get(Y.key===null?D:Y.key)||null,U(k,j,Y,pt);case $t:return Y=ls(Y),G(j,k,D,Y,pt)}if(ln(Y)||Wt(Y))return j=j.get(D)||null,K(k,j,Y,pt,null);if(typeof Y.then=="function")return G(j,k,D,Nl(Y),pt);if(Y.$$typeof===I)return G(j,k,D,El(k,Y),pt);kl(k,Y)}return null}function ut(j,k,D,Y){for(var pt=null,Pt=null,ct=k,Et=k=0,Mt=null;ct!==null&&Et<D.length;Et++){ct.index>Et?(Mt=ct,ct=null):Mt=ct.sibling;var qt=q(j,ct,D[Et],Y);if(qt===null){ct===null&&(ct=Mt);break}t&&ct&&qt.alternate===null&&e(j,ct),k=f(qt,k,Et),Pt===null?pt=qt:Pt.sibling=qt,Pt=qt,ct=Mt}if(Et===D.length)return i(j,ct),Nt&&ft(j,Et),pt;if(ct===null){for(;Et<D.length;Et++)ct=Q(j,D[Et],Y),ct!==null&&(k=f(ct,k,Et),Pt===null?pt=ct:Pt.sibling=ct,Pt=ct);return Nt&&ft(j,Et),pt}for(ct=r(ct);Et<D.length;Et++)Mt=G(ct,j,Et,D[Et],Y),Mt!==null&&(t&&Mt.alternate!==null&&ct.delete(Mt.key===null?Et:Mt.key),k=f(Mt,k,Et),Pt===null?pt=Mt:Pt.sibling=Mt,Pt=Mt);return t&&ct.forEach(function(Sa){return e(j,Sa)}),Nt&&ft(j,Et),pt}function gt(j,k,D,Y){if(D==null)throw Error(u(151));for(var pt=null,Pt=null,ct=k,Et=k=0,Mt=null,qt=D.next();ct!==null&&!qt.done;Et++,qt=D.next()){ct.index>Et?(Mt=ct,ct=null):Mt=ct.sibling;var Sa=q(j,ct,qt.value,Y);if(Sa===null){ct===null&&(ct=Mt);break}t&&ct&&Sa.alternate===null&&e(j,ct),k=f(Sa,k,Et),Pt===null?pt=Sa:Pt.sibling=Sa,Pt=Sa,ct=Mt}if(qt.done)return i(j,ct),Nt&&ft(j,Et),pt;if(ct===null){for(;!qt.done;Et++,qt=D.next())qt=Q(j,qt.value,Y),qt!==null&&(k=f(qt,k,Et),Pt===null?pt=qt:Pt.sibling=qt,Pt=qt);return Nt&&ft(j,Et),pt}for(ct=r(ct);!qt.done;Et++,qt=D.next())qt=G(ct,j,Et,qt.value,Y),qt!==null&&(t&&qt.alternate!==null&&ct.delete(qt.key===null?Et:qt.key),k=f(qt,k,Et),Pt===null?pt=qt:Pt.sibling=qt,Pt=qt);return t&&ct.forEach(function(Yg){return e(j,Yg)}),Nt&&ft(j,Et),pt}function Jt(j,k,D,Y){if(typeof D=="object"&&D!==null&&D.type===Z&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case z:t:{for(var pt=D.key;k!==null;){if(k.key===pt){if(pt=D.type,pt===Z){if(k.tag===7){i(j,k.sibling),Y=h(k,D.props.children),Y.return=j,j=Y;break t}}else if(k.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===$t&&ls(pt)===k.type){i(j,k.sibling),Y=h(k,D.props),ao(Y,D),Y.return=j,j=Y;break t}i(j,k);break}else e(j,k);k=k.sibling}D.type===Z?(Y=Si(D.props.children,j.mode,Y,D.key),Y.return=j,j=Y):(Y=is(D.type,D.key,D.props,null,j.mode,Y),ao(Y,D),Y.return=j,j=Y)}return v(j);case B:t:{for(pt=D.key;k!==null;){if(k.key===pt)if(k.tag===4&&k.stateNode.containerInfo===D.containerInfo&&k.stateNode.implementation===D.implementation){i(j,k.sibling),Y=h(k,D.children||[]),Y.return=j,j=Y;break t}else{i(j,k);break}else e(j,k);k=k.sibling}Y=Wr(D,j.mode,Y),Y.return=j,j=Y}return v(j);case $t:return D=ls(D),Jt(j,k,D,Y)}if(ln(D))return ut(j,k,D,Y);if(Wt(D)){if(pt=Wt(D),typeof pt!="function")throw Error(u(150));return D=pt.call(D),gt(j,k,D,Y)}if(typeof D.then=="function")return Jt(j,k,Nl(D),Y);if(D.$$typeof===I)return Jt(j,k,El(j,D),Y);kl(j,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,k!==null&&k.tag===6?(i(j,k.sibling),Y=h(k,D),Y.return=j,j=Y):(i(j,k),Y=Gs(D,j.mode,Y),Y.return=j,j=Y),v(j)):i(j,k)}return function(j,k,D,Y){try{io=0;var pt=Jt(j,k,D,Y);return Js=null,pt}catch(ct){if(ct===Xs||ct===Al)throw ct;var Pt=Ze(29,ct,null,j.mode);return Pt.lanes=Y,Pt.return=j,Pt}}}var cs=jf(!0),Rf=jf(!1),ra=!1;function lc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function oa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function la(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Zt&2)!==0){var h=r.pending;return h===null?e.next=e:(e.next=h.next,h.next=e),r.pending=e,e=ns(t),aa(t,null,i),e}return ii(t,r,e,i),ns(t)}function so(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,Qo(t,i)}}function cc(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var h=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,i=i.next}while(i!==null);f===null?h=f=e:f=f.next=e}else h=f=e;i={baseState:r.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var hc=!1;function ro(){if(hc){var t=Ys;if(t!==null)throw t}}function oo(t,e,i,r){hc=!1;var h=t.updateQueue;ra=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var A=T,U=A.next;A.next=null,v===null?f=U:v.next=U,v=A;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==v&&(T===null?K.firstBaseUpdate=U:T.next=U,K.lastBaseUpdate=A))}if(f!==null){var Q=h.baseState;v=0,K=U=A=null,T=f;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(Lt&q)===q:(r&q)===q){q!==0&&q===Ks&&(hc=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ut=t,gt=T;q=e;var Jt=i;switch(gt.tag){case 1:if(ut=gt.payload,typeof ut=="function"){Q=ut.call(Jt,Q,q);break t}Q=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=gt.payload,q=typeof ut=="function"?ut.call(Jt,Q,q):ut,q==null)break t;Q=N({},Q,q);break t;case 2:ra=!0}}q=T.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(U=K=G,A=Q):K=K.next=G,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);K===null&&(A=Q),h.baseState=A,h.firstBaseUpdate=U,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),da|=v,t.lanes=v,t.memoizedState=Q}}function Lf(t,e){if(typeof t!="function")throw Error(u(191,t));t.call(e)}function Mf(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Lf(i[t],e)}var Qs=C(null),jl=C(0);function zf(t,e){t=Mi,tt(jl,t),tt(Qs,e),Mi=t|e.baseLanes}function fc(){tt(jl,Mi),tt(Qs,Qs.current)}function dc(){Mi=jl.current,$(Qs),$(jl)}var dn=C(null),Nn=null;function ua(t){var e=t.alternate;tt(_e,_e.current&1),tt(dn,t),Nn===null&&(e===null||Qs.current!==null||e.memoizedState!==null)&&(Nn=t)}function mc(t){tt(_e,_e.current),tt(dn,t),Nn===null&&(Nn=t)}function Df(t){t.tag===22?(tt(_e,_e.current),tt(dn,t),Nn===null&&(Nn=t)):ca()}function ca(){tt(_e,_e.current),tt(dn,dn.current)}function mn(t){$(dn),Nn===t&&(Nn=null),$(_e)}var _e=C(0);function Rl(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||bh(i)||wh(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Oi=0,St=null,Yt=null,we=null,Ll=!1,Ws=!1,hs=!1,Ml=0,lo=0,Fs=null,B_=0;function de(){throw Error(u(321))}function pc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!je(t[i],e[i]))return!1;return!0}function _c(t,e,i,r,h,f){return Oi=f,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,V.H=t===null||t.memoizedState===null?yd:jc,hs=!1,f=i(r,h),hs=!1,Ws&&(f=Bf(e,i,r,h)),Uf(t),f}function Uf(t){V.H=ho;var e=Yt!==null&&Yt.next!==null;if(Oi=0,we=Yt=St=null,Ll=!1,lo=0,Fs=null,e)throw Error(u(300));t===null||xe||(t=t.dependencies,t!==null&&Tl(t)&&(xe=!0))}function Bf(t,e,i,r){St=t;var h=0;do{if(Ws&&(Fs=null),lo=0,Ws=!1,25<=h)throw Error(u(301));if(h+=1,we=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}V.H=bd,f=e(i,r)}while(Ws);return f}function P_(){var t=V.H,e=t.useState()[0];return e=typeof e.then=="function"?uo(e):e,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(St.flags|=1024),e}function gc(){var t=Ml!==0;return Ml=0,t}function vc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function yc(t){if(Ll){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ll=!1}Oi=0,we=Yt=St=null,Ws=!1,lo=Ml=0,Fs=null}function Ye(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?St.memoizedState=we=t:we=we.next=t,we}function ge(){if(Yt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=we===null?St.memoizedState:we.next;if(e!==null)we=e,Yt=t;else{if(t===null)throw St.alternate===null?Error(u(467)):Error(u(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},we===null?St.memoizedState=we=t:we=we.next=t}return we}function zl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uo(t){var e=lo;return lo+=1,Fs===null&&(Fs=[]),t=Cf(Fs,t,e),e=St,(we===null?e.memoizedState:we.next)===null&&(e=e.alternate,V.H=e===null||e.memoizedState===null?yd:jc),t}function Dl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return uo(t);if(t.$$typeof===I)return De(t)}throw Error(u(438,String(t)))}function bc(t){var e=null,i=St.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var r=St.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(h){return h.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=zl(),St.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),r=0;r<t;r++)i[r]=Rn;return e.index++,i}function Ai(t,e){return typeof e=="function"?e(t):e}function Ul(t){var e=ge();return wc(e,Yt,t)}function wc(t,e,i){var r=t.queue;if(r===null)throw Error(u(311));r.lastRenderedReducer=i;var h=t.baseQueue,f=r.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}e.baseQueue=h=f,r.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{e=h.next;var T=v=null,A=null,U=e,K=!1;do{var Q=U.lane&-536870913;if(Q!==U.lane?(Lt&Q)===Q:(Oi&Q)===Q){var q=U.revertLane;if(q===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Q===Ks&&(K=!0);else if((Oi&q)===q){U=U.next,q===Ks&&(K=!0);continue}else Q={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(T=A=Q,v=f):A=A.next=Q,St.lanes|=q,da|=q;Q=U.action,hs&&i(f,Q),f=U.hasEagerState?U.eagerState:i(f,Q)}else q={lane:Q,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(T=A=q,v=f):A=A.next=q,St.lanes|=Q,da|=Q;U=U.next}while(U!==null&&U!==e);if(A===null?v=f:A.next=T,!je(f,t.memoizedState)&&(xe=!0,K&&(i=Ys,i!==null)))throw i;t.memoizedState=f,t.baseState=v,t.baseQueue=A,r.lastRenderedState=f}return h===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function xc(t){var e=ge(),i=e.queue;if(i===null)throw Error(u(311));i.lastRenderedReducer=t;var r=i.dispatch,h=i.pending,f=e.memoizedState;if(h!==null){i.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);je(f,e.memoizedState)||(xe=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),i.lastRenderedState=f}return[f,r]}function Pf(t,e,i){var r=St,h=ge(),f=Nt;if(f){if(i===void 0)throw Error(u(407));i=i()}else i=e();var v=!je((Yt||h).memoizedState,i);if(v&&(h.memoizedState=i,xe=!0),h=h.queue,Ec(Zf.bind(null,r,h,t),[t]),h.getSnapshot!==e||v||we!==null&&we.memoizedState.tag&1){if(r.flags|=2048,tr(9,{destroy:void 0},Hf.bind(null,r,h,i,e),null),te===null)throw Error(u(349));f||(Oi&127)!==0||qf(r,e,i)}return i}function qf(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=St.updateQueue,e===null?(e=zl(),St.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Hf(t,e,i,r){e.value=i,e.getSnapshot=r,If(e)&&Gf(t)}function Zf(t,e,i){return i(function(){If(e)&&Gf(t)})}function If(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!je(t,i)}catch{return!0}}function Gf(t){var e=An(t,2);e!==null&&on(e,t,2)}function Sc(t){var e=Ye();if(typeof t=="function"){var i=t;if(t=i(),hs){Ln(!0);try{i()}finally{Ln(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},e}function Vf(t,e,i,r){return t.baseState=i,wc(t,Yt,typeof r=="function"?r:Ai)}function q_(t,e,i,r,h){if(ql(t))throw Error(u(485));if(t=e.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};V.T!==null?i(!0):f.isTransition=!1,r(f),i=e.pending,i===null?(f.next=e.pending=f,$f(e,f)):(f.next=i.next,e.pending=i.next=f)}}function $f(t,e){var i=e.action,r=e.payload,h=t.state;if(e.isTransition){var f=V.T,v={};V.T=v;try{var T=i(h,r),A=V.S;A!==null&&A(v,T),Kf(t,e,T)}catch(U){Tc(t,e,U)}finally{f!==null&&v.types!==null&&(f.types=v.types),V.T=f}}else try{f=i(h,r),Kf(t,e,f)}catch(U){Tc(t,e,U)}}function Kf(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Yf(t,e,r)},function(r){return Tc(t,e,r)}):Yf(t,e,i)}function Yf(t,e,i){e.status="fulfilled",e.value=i,Xf(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,$f(t,i)))}function Tc(t,e,i){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=i,Xf(e),e=e.next;while(e!==r)}t.action=null}function Xf(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Jf(t,e){return e}function Qf(t,e){if(Nt){var i=te.formState;if(i!==null){t:{var r=St;if(Nt){if(Bt){e:{for(var h=Bt,f=en;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Bt=kn(h.nextSibling),r=h.data==="F!";break t}}si(r)}r=!1}r&&(e=i[0])}}return i=Ye(),i.memoizedState=i.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jf,lastRenderedState:e},i.queue=r,i=_d.bind(null,St,r),r.dispatch=i,r=Sc(!1),f=kc.bind(null,St,!1,r.queue),r=Ye(),h={state:e,dispatch:null,action:t,pending:null},r.queue=h,i=q_.bind(null,St,h,f,i),h.dispatch=i,r.memoizedState=t,[e,i,!1]}function Wf(t){var e=ge();return Ff(e,Yt,t)}function Ff(t,e,i){if(e=wc(t,e,Jf)[0],t=Ul(Ai)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=uo(e)}catch(v){throw v===Xs?Al:v}else r=e;e=ge();var h=e.queue,f=h.dispatch;return i!==e.memoizedState&&(St.flags|=2048,tr(9,{destroy:void 0},H_.bind(null,h,i),null)),[r,f,t]}function H_(t,e){t.action=e}function td(t){var e=ge(),i=Yt;if(i!==null)return Ff(e,i,t);ge(),e=e.memoizedState,i=ge();var r=i.queue.dispatch;return i.memoizedState=t,[e,r,!1]}function tr(t,e,i,r){return t={tag:t,create:i,deps:r,inst:e,next:null},e=St.updateQueue,e===null&&(e=zl(),St.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t),t}function ed(){return ge().memoizedState}function Bl(t,e,i,r){var h=Ye();St.flags|=t,h.memoizedState=tr(1|e,{destroy:void 0},i,r===void 0?null:r)}function Pl(t,e,i,r){var h=ge();r=r===void 0?null:r;var f=h.memoizedState.inst;Yt!==null&&r!==null&&pc(r,Yt.memoizedState.deps)?h.memoizedState=tr(e,f,i,r):(St.flags|=t,h.memoizedState=tr(1|e,f,i,r))}function nd(t,e){Bl(8390656,8,t,e)}function Ec(t,e){Pl(2048,8,t,e)}function Z_(t){St.flags|=4;var e=St.updateQueue;if(e===null)e=zl(),St.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function id(t){var e=ge().memoizedState;return Z_({ref:e,nextImpl:t}),function(){if((Zt&2)!==0)throw Error(u(440));return e.impl.apply(void 0,arguments)}}function ad(t,e){return Pl(4,2,t,e)}function sd(t,e){return Pl(4,4,t,e)}function rd(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function od(t,e,i){i=i!=null?i.concat([t]):null,Pl(4,4,rd.bind(null,e,t),i)}function Oc(){}function ld(t,e){var i=ge();e=e===void 0?null:e;var r=i.memoizedState;return e!==null&&pc(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function ud(t,e){var i=ge();e=e===void 0?null:e;var r=i.memoizedState;if(e!==null&&pc(e,r[1]))return r[0];if(r=t(),hs){Ln(!0);try{t()}finally{Ln(!1)}}return i.memoizedState=[r,e],r}function Ac(t,e,i){return i===void 0||(Oi&1073741824)!==0&&(Lt&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=cm(),St.lanes|=t,da|=t,i)}function cd(t,e,i,r){return je(i,e)?i:Qs.current!==null?(t=Ac(t,i,r),je(t,e)||(xe=!0),t):(Oi&42)===0||(Oi&1073741824)!==0&&(Lt&261930)===0?(xe=!0,t.memoizedState=i):(t=cm(),St.lanes|=t,da|=t,e)}function hd(t,e,i,r,h){var f=it.p;it.p=f!==0&&8>f?f:8;var v=V.T,T={};V.T=T,kc(t,!1,e,i);try{var A=h(),U=V.S;if(U!==null&&U(T,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var K=U_(A,r);co(t,e,K,gn(t))}else co(t,e,r,gn(t))}catch(Q){co(t,e,{then:function(){},status:"rejected",reason:Q},gn())}finally{it.p=f,v!==null&&T.types!==null&&(v.types=T.types),V.T=v}}function I_(){}function Cc(t,e,i,r){if(t.tag!==5)throw Error(u(476));var h=fd(t).queue;hd(t,h,e,F,i===null?I_:function(){return dd(t),i(r)})}function fd(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:F},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function dd(t){var e=fd(t);e.next===null&&(e=t.alternate.memoizedState),co(t,e.next.queue,{},gn())}function Nc(){return De(Co)}function md(){return ge().memoizedState}function pd(){return ge().memoizedState}function G_(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=gn();t=oa(i);var r=la(e,t,i);r!==null&&(on(r,e,i),so(r,e,i)),e={cache:ac()},t.payload=e;return}e=e.return}}function V_(t,e,i){var r=gn();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ql(t)?gd(e,i):(i=Xr(t,e,i,r),i!==null&&(on(i,t,r),vd(i,e,r)))}function _d(t,e,i){var r=gn();co(t,e,i,r)}function co(t,e,i,r){var h={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(ql(t))gd(e,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var v=e.lastRenderedState,T=f(v,i);if(h.hasEagerState=!0,h.eagerState=T,je(T,v))return ii(t,e,h,0),te===null&&es(),!1}catch{}if(i=Xr(t,e,h,r),i!==null)return on(i,t,r),vd(i,e,r),!0}return!1}function kc(t,e,i,r){if(r={lane:2,revertLane:lh(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ql(t)){if(e)throw Error(u(479))}else e=Xr(t,i,r,2),e!==null&&on(e,t,2)}function ql(t){var e=t.alternate;return t===St||e!==null&&e===St}function gd(t,e){Ws=Ll=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function vd(t,e,i){if((i&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,Qo(t,i)}}var ho={readContext:De,use:Dl,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};ho.useEffectEvent=de;var yd={readContext:De,use:Dl,useCallback:function(t,e){return Ye().memoizedState=[t,e===void 0?null:e],t},useContext:De,useEffect:nd,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Bl(4194308,4,rd.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Bl(4194308,4,t,e)},useInsertionEffect:function(t,e){Bl(4,2,t,e)},useMemo:function(t,e){var i=Ye();e=e===void 0?null:e;var r=t();if(hs){Ln(!0);try{t()}finally{Ln(!1)}}return i.memoizedState=[r,e],r},useReducer:function(t,e,i){var r=Ye();if(i!==void 0){var h=i(e);if(hs){Ln(!0);try{i(e)}finally{Ln(!1)}}}else h=e;return r.memoizedState=r.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},r.queue=t,t=t.dispatch=V_.bind(null,St,t),[r.memoizedState,t]},useRef:function(t){var e=Ye();return t={current:t},e.memoizedState=t},useState:function(t){t=Sc(t);var e=t.queue,i=_d.bind(null,St,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:Oc,useDeferredValue:function(t,e){var i=Ye();return Ac(i,t,e)},useTransition:function(){var t=Sc(!1);return t=hd.bind(null,St,t.queue,!0,!1),Ye().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var r=St,h=Ye();if(Nt){if(i===void 0)throw Error(u(407));i=i()}else{if(i=e(),te===null)throw Error(u(349));(Lt&127)!==0||qf(r,e,i)}h.memoizedState=i;var f={value:i,getSnapshot:e};return h.queue=f,nd(Zf.bind(null,r,f,t),[t]),r.flags|=2048,tr(9,{destroy:void 0},Hf.bind(null,r,f,i,e),null),i},useId:function(){var t=Ye(),e=te.identifierPrefix;if(Nt){var i=nt,r=J;i=(r&~(1<<32-Ve(r)-1)).toString(32)+i,e="_"+e+"R_"+i,i=Ml++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=B_++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Nc,useFormState:Qf,useActionState:Qf,useOptimistic:function(t){var e=Ye();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=kc.bind(null,St,!0,i),i.dispatch=e,[t,e]},useMemoCache:bc,useCacheRefresh:function(){return Ye().memoizedState=G_.bind(null,St)},useEffectEvent:function(t){var e=Ye(),i={impl:t};return e.memoizedState=i,function(){if((Zt&2)!==0)throw Error(u(440));return i.impl.apply(void 0,arguments)}}},jc={readContext:De,use:Dl,useCallback:ld,useContext:De,useEffect:Ec,useImperativeHandle:od,useInsertionEffect:ad,useLayoutEffect:sd,useMemo:ud,useReducer:Ul,useRef:ed,useState:function(){return Ul(Ai)},useDebugValue:Oc,useDeferredValue:function(t,e){var i=ge();return cd(i,Yt.memoizedState,t,e)},useTransition:function(){var t=Ul(Ai)[0],e=ge().memoizedState;return[typeof t=="boolean"?t:uo(t),e]},useSyncExternalStore:Pf,useId:md,useHostTransitionStatus:Nc,useFormState:Wf,useActionState:Wf,useOptimistic:function(t,e){var i=ge();return Vf(i,Yt,t,e)},useMemoCache:bc,useCacheRefresh:pd};jc.useEffectEvent=id;var bd={readContext:De,use:Dl,useCallback:ld,useContext:De,useEffect:Ec,useImperativeHandle:od,useInsertionEffect:ad,useLayoutEffect:sd,useMemo:ud,useReducer:xc,useRef:ed,useState:function(){return xc(Ai)},useDebugValue:Oc,useDeferredValue:function(t,e){var i=ge();return Yt===null?Ac(i,t,e):cd(i,Yt.memoizedState,t,e)},useTransition:function(){var t=xc(Ai)[0],e=ge().memoizedState;return[typeof t=="boolean"?t:uo(t),e]},useSyncExternalStore:Pf,useId:md,useHostTransitionStatus:Nc,useFormState:td,useActionState:td,useOptimistic:function(t,e){var i=ge();return Yt!==null?Vf(i,Yt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:bc,useCacheRefresh:pd};bd.useEffectEvent=id;function Rc(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:N({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Lc={enqueueSetState:function(t,e,i){t=t._reactInternals;var r=gn(),h=oa(r);h.payload=e,i!=null&&(h.callback=i),e=la(t,h,r),e!==null&&(on(e,t,r),so(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=gn(),h=oa(r);h.tag=1,h.payload=e,i!=null&&(h.callback=i),e=la(t,h,r),e!==null&&(on(e,t,r),so(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=gn(),r=oa(i);r.tag=2,e!=null&&(r.callback=e),e=la(t,r,i),e!==null&&(on(e,t,i),so(e,t,i))}};function wd(t,e,i,r,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,f,v):e.prototype&&e.prototype.isPureReactComponent?!ta(i,r)||!ta(h,f):!0}function xd(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&Lc.enqueueReplaceState(e,e.state,null)}function fs(t,e){var i=e;if("ref"in e){i={};for(var r in e)r!=="ref"&&(i[r]=e[r])}if(t=t.defaultProps){i===e&&(i=N({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}function Sd(t){ts(t)}function Td(t){console.error(t)}function Ed(t){ts(t)}function Hl(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function Od(t,e,i){try{var r=t.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mc(t,e,i){return i=oa(i),i.tag=3,i.payload={element:null},i.callback=function(){Hl(t,e)},i}function Ad(t){return t=oa(t),t.tag=3,t}function Cd(t,e,i,r){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var f=r.value;t.payload=function(){return h(f)},t.callback=function(){Od(e,i,r)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Od(e,i,r),typeof h!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var T=r.stack;this.componentDidCatch(r.value,{componentStack:T!==null?T:""})})}function $_(t,e,i,r,h){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=i.alternate,e!==null&&$s(e,i,h,!0),i=dn.current,i!==null){switch(i.tag){case 31:case 13:return Nn===null?Fl():i.alternate===null&&me===0&&(me=3),i.flags&=-257,i.flags|=65536,i.lanes=h,r===Cl?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([r]):e.add(r),sh(t,r,h)),!1;case 22:return i.flags|=65536,r===Cl?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([r]):i.add(r)),sh(t,r,h)),!1}throw Error(u(435,i.tag))}return sh(t,r,h),Fl(),!1}if(Nt)return e=dn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=h,r!==Vs&&(t=Error(u(422),{cause:r}),as(s(t,i)))):(r!==Vs&&(e=Error(u(423),{cause:r}),as(s(e,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,r=s(r,i),h=Mc(t.stateNode,r,h),cc(t,h),me!==4&&(me=2)),!1;var f=Error(u(520),{cause:r});if(f=s(f,i),bo===null?bo=[f]:bo.push(f),me!==4&&(me=2),e===null)return!0;r=s(r,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=Mc(i.stateNode,r,t),cc(i,t),!1;case 1:if(e=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ma===null||!ma.has(f))))return i.flags|=65536,h&=-h,i.lanes|=h,h=Ad(h),Cd(h,t,i,r),cc(i,h),!1}i=i.return}while(i!==null);return!1}var zc=Error(u(461)),xe=!1;function Ue(t,e,i,r){e.child=t===null?Rf(e,null,i,r):cs(e,t.child,i,r)}function Nd(t,e,i,r,h){i=i.render;var f=e.ref;if("ref"in r){var v={};for(var T in r)T!=="ref"&&(v[T]=r[T])}else v=r;return rs(e),r=_c(t,e,i,v,f,h),T=gc(),t!==null&&!xe?(vc(t,e,h),Ci(t,e,h)):(Nt&&T&&Ae(e),e.flags|=1,Ue(t,e,r,h),e.child)}function kd(t,e,i,r,h){if(t===null){var f=i.type;return typeof f=="function"&&!Is(f)&&f.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=f,jd(t,e,f,r,h)):(t=is(i.type,null,r,e,e.mode,h),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!Ic(t,h)){var v=f.memoizedProps;if(i=i.compare,i=i!==null?i:ta,i(v,r)&&t.ref===e.ref)return Ci(t,e,h)}return e.flags|=1,t=Cn(f,r),t.ref=e.ref,t.return=e,e.child=t}function jd(t,e,i,r,h){if(t!==null){var f=t.memoizedProps;if(ta(f,r)&&t.ref===e.ref)if(xe=!1,e.pendingProps=r=f,Ic(t,h))(t.flags&131072)!==0&&(xe=!0);else return e.lanes=t.lanes,Ci(t,e,h)}return Dc(t,e,i,r,h)}function Rd(t,e,i,r){var h=r.children,f=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((e.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,t!==null){for(r=e.child=t.child,h=0;r!==null;)h=h|r.lanes|r.childLanes,r=r.sibling;r=h&~f}else r=0,e.child=null;return Ld(t,e,f,i,r)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ol(e,f!==null?f.cachePool:null),f!==null?zf(e,f):fc(),Df(e);else return r=e.lanes=536870912,Ld(t,e,f!==null?f.baseLanes|i:i,i,r)}else f!==null?(Ol(e,f.cachePool),zf(e,f),ca(),e.memoizedState=null):(t!==null&&Ol(e,null),fc(),ca());return Ue(t,e,h,i),e.child}function fo(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Ld(t,e,i,r,h){var f=rc();return f=f===null?null:{parent:be._currentValue,pool:f},e.memoizedState={baseLanes:i,cachePool:f},t!==null&&Ol(e,null),fc(),Df(e),t!==null&&$s(t,e,r,!0),e.childLanes=h,null}function Zl(t,e){return e=Gl({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Md(t,e,i){return cs(e,t.child,null,i),t=Zl(e,e.pendingProps),t.flags|=2,mn(e),e.memoizedState=null,t}function K_(t,e,i){var r=e.pendingProps,h=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Nt){if(r.mode==="hidden")return t=Zl(e,r),e.lanes=536870912,fo(null,t);if(mc(e),(t=Bt)?(t=$m(t,en),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:P!==null?{id:J,overflow:nt}:null,retryLane:536870912,hydrationErrors:null},i=Qr(t),i.return=e,e.child=i,Ut=e,Bt=null)):t=null,t===null)throw si(e);return e.lanes=536870912,null}return Zl(e,r)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(mc(e),h)if(e.flags&256)e.flags&=-257,e=Md(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(u(558));else if(xe||$s(t,e,i,!1),h=(i&t.childLanes)!==0,xe||h){if(r=te,r!==null&&(v=Wo(r,i),v!==0&&v!==f.retryLane))throw f.retryLane=v,An(t,v),on(r,t,v),zc;Fl(),e=Md(t,e,i)}else t=f.treeContext,Bt=kn(v.nextSibling),Ut=e,Nt=!0,ai=null,en=!1,t!==null&&Ke(e,t),e=Zl(e,r),e.flags|=4096;return e}return t=Cn(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Il(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(u(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Dc(t,e,i,r,h){return rs(e),i=_c(t,e,i,r,void 0,h),r=gc(),t!==null&&!xe?(vc(t,e,h),Ci(t,e,h)):(Nt&&r&&Ae(e),e.flags|=1,Ue(t,e,i,h),e.child)}function zd(t,e,i,r,h,f){return rs(e),e.updateQueue=null,i=Bf(e,r,i,h),Uf(t),r=gc(),t!==null&&!xe?(vc(t,e,f),Ci(t,e,f)):(Nt&&r&&Ae(e),e.flags|=1,Ue(t,e,i,f),e.child)}function Dd(t,e,i,r,h){if(rs(e),e.stateNode===null){var f=xi,v=i.contextType;typeof v=="object"&&v!==null&&(f=De(v)),f=new i(r,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lc,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=r,f.state=e.memoizedState,f.refs={},lc(e),v=i.contextType,f.context=typeof v=="object"&&v!==null?De(v):xi,f.state=e.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Rc(e,i,v,r),f.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Lc.enqueueReplaceState(f,f.state,null),oo(e,r,f,h),ro(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){f=e.stateNode;var T=e.memoizedProps,A=fs(i,T);f.props=A;var U=f.context,K=i.contextType;v=xi,typeof K=="object"&&K!==null&&(v=De(K));var Q=i.getDerivedStateFromProps;K=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=e.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||U!==v)&&xd(e,f,r,v),ra=!1;var q=e.memoizedState;f.state=q,oo(e,r,f,h),ro(),U=e.memoizedState,T||q!==U||ra?(typeof Q=="function"&&(Rc(e,i,Q,r),U=e.memoizedState),(A=ra||wd(e,i,A,r,q,U,v))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=U),f.props=r,f.state=U,f.context=v,r=A):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{f=e.stateNode,uc(t,e),v=e.memoizedProps,K=fs(i,v),f.props=K,Q=e.pendingProps,q=f.context,U=i.contextType,A=xi,typeof U=="object"&&U!==null&&(A=De(U)),T=i.getDerivedStateFromProps,(U=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Q||q!==A)&&xd(e,f,r,A),ra=!1,q=e.memoizedState,f.state=q,oo(e,r,f,h),ro();var G=e.memoizedState;v!==Q||q!==G||ra||t!==null&&t.dependencies!==null&&Tl(t.dependencies)?(typeof T=="function"&&(Rc(e,i,T,r),G=e.memoizedState),(K=ra||wd(e,i,K,r,q,G,A)||t!==null&&t.dependencies!==null&&Tl(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,G,A),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,G,A)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=G),f.props=r,f.state=G,f.context=A,r=K):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(e.flags|=1024),r=!1)}return f=r,Il(t,e),r=(e.flags&128)!==0,f||r?(f=e.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&r?(e.child=cs(e,t.child,null,h),e.child=cs(e,null,i,h)):Ue(t,e,i,h),e.memoizedState=f.state,t=e.child):t=Ci(t,e,h),t}function Ud(t,e,i,r){return Ti(),e.flags|=256,Ue(t,e,i,r),e.child}var Uc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bc(t){return{baseLanes:t,cachePool:Of()}}function Pc(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=_n),t}function Bd(t,e,i){var r=e.pendingProps,h=!1,f=(e.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(_e.current&2)!==0),v&&(h=!0,e.flags&=-129),v=(e.flags&32)!==0,e.flags&=-33,t===null){if(Nt){if(h?ua(e):ca(),(t=Bt)?(t=$m(t,en),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:P!==null?{id:J,overflow:nt}:null,retryLane:536870912,hydrationErrors:null},i=Qr(t),i.return=e,e.child=i,Ut=e,Bt=null)):t=null,t===null)throw si(e);return wh(t)?e.lanes=32:e.lanes=536870912,null}var T=r.children;return r=r.fallback,h?(ca(),h=e.mode,T=Gl({mode:"hidden",children:T},h),r=Si(r,h,i,null),T.return=e,r.return=e,T.sibling=r,e.child=T,r=e.child,r.memoizedState=Bc(i),r.childLanes=Pc(t,v,i),e.memoizedState=Uc,fo(null,r)):(ua(e),qc(e,T))}var A=t.memoizedState;if(A!==null&&(T=A.dehydrated,T!==null)){if(f)e.flags&256?(ua(e),e.flags&=-257,e=Hc(t,e,i)):e.memoizedState!==null?(ca(),e.child=t.child,e.flags|=128,e=null):(ca(),T=r.fallback,h=e.mode,r=Gl({mode:"visible",children:r.children},h),T=Si(T,h,i,null),T.flags|=2,r.return=e,T.return=e,r.sibling=T,e.child=r,cs(e,t.child,null,i),r=e.child,r.memoizedState=Bc(i),r.childLanes=Pc(t,v,i),e.memoizedState=Uc,e=fo(null,r));else if(ua(e),wh(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var U=v.dgst;v=U,r=Error(u(419)),r.stack="",r.digest=v,as({value:r,source:null,stack:null}),e=Hc(t,e,i)}else if(xe||$s(t,e,i,!1),v=(i&t.childLanes)!==0,xe||v){if(v=te,v!==null&&(r=Wo(v,i),r!==0&&r!==A.retryLane))throw A.retryLane=r,An(t,r),on(v,t,r),zc;bh(T)||Fl(),e=Hc(t,e,i)}else bh(T)?(e.flags|=192,e.child=t.child,e=null):(t=A.treeContext,Bt=kn(T.nextSibling),Ut=e,Nt=!0,ai=null,en=!1,t!==null&&Ke(e,t),e=qc(e,r.children),e.flags|=4096);return e}return h?(ca(),T=r.fallback,h=e.mode,A=t.child,U=A.sibling,r=Cn(A,{mode:"hidden",children:r.children}),r.subtreeFlags=A.subtreeFlags&65011712,U!==null?T=Cn(U,T):(T=Si(T,h,i,null),T.flags|=2),T.return=e,r.return=e,r.sibling=T,e.child=r,fo(null,r),r=e.child,T=t.child.memoizedState,T===null?T=Bc(i):(h=T.cachePool,h!==null?(A=be._currentValue,h=h.parent!==A?{parent:A,pool:A}:h):h=Of(),T={baseLanes:T.baseLanes|i,cachePool:h}),r.memoizedState=T,r.childLanes=Pc(t,v,i),e.memoizedState=Uc,fo(t.child,r)):(ua(e),i=t.child,t=i.sibling,i=Cn(i,{mode:"visible",children:r.children}),i.return=e,i.sibling=null,t!==null&&(v=e.deletions,v===null?(e.deletions=[t],e.flags|=16):v.push(t)),e.child=i,e.memoizedState=null,i)}function qc(t,e){return e=Gl({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Gl(t,e){return t=Ze(22,t,null,e),t.lanes=0,t}function Hc(t,e,i){return cs(e,t.child,null,i),t=qc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Pd(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nc(t.return,e,i)}function Zc(t,e,i,r,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:h,treeForkCount:f}:(v.isBackwards=e,v.rendering=null,v.renderingStartTime=0,v.last=r,v.tail=i,v.tailMode=h,v.treeForkCount=f)}function qd(t,e,i){var r=e.pendingProps,h=r.revealOrder,f=r.tail;r=r.children;var v=_e.current,T=(v&2)!==0;if(T?(v=v&1|2,e.flags|=128):v&=1,tt(_e,v),Ue(t,e,r,i),r=Nt?S:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pd(t,i,e);else if(t.tag===19)Pd(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(i=e.child,h=null;i!==null;)t=i.alternate,t!==null&&Rl(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=e.child,e.child=null):(h=i.sibling,i.sibling=null),Zc(e,!1,h,i,f,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=e.child,e.child=null;h!==null;){if(t=h.alternate,t!==null&&Rl(t)===null){e.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Zc(e,!0,i,null,f,r);break;case"together":Zc(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Ci(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),da|=e.lanes,(i&e.childLanes)===0)if(t!==null){if($s(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(u(153));if(e.child!==null){for(t=e.child,i=Cn(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Cn(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Ic(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Tl(t)))}function Y_(t,e,i){switch(e.tag){case 3:se(e,e.stateNode.containerInfo),sa(e,be,t.memoizedState.cache),Ti();break;case 27:case 5:ci(e);break;case 4:se(e,e.stateNode.containerInfo);break;case 10:sa(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,mc(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(ua(e),e.flags|=128,null):(i&e.child.childLanes)!==0?Bd(t,e,i):(ua(e),t=Ci(t,e,i),t!==null?t.sibling:null);ua(e);break;case 19:var h=(t.flags&128)!==0;if(r=(i&e.childLanes)!==0,r||($s(t,e,i,!1),r=(i&e.childLanes)!==0),h){if(r)return qd(t,e,i);e.flags|=128}if(h=e.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(_e,_e.current),r)break;return null;case 22:return e.lanes=0,Rd(t,e,i,e.pendingProps);case 24:sa(e,be,t.memoizedState.cache)}return Ci(t,e,i)}function Hd(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)xe=!0;else{if(!Ic(t,i)&&(e.flags&128)===0)return xe=!1,Y_(t,e,i);xe=(t.flags&131072)!==0}else xe=!1,Nt&&(e.flags&1048576)!==0&&Tt(e,S,e.index);switch(e.lanes=0,e.tag){case 16:t:{var r=e.pendingProps;if(t=ls(e.elementType),e.type=t,typeof t=="function")Is(t)?(r=fs(t,r),e.tag=1,e=Dd(null,e,t,r,i)):(e.tag=0,e=Dc(null,e,t,r,i));else{if(t!=null){var h=t.$$typeof;if(h===dt){e.tag=11,e=Nd(null,e,t,r,i);break t}else if(h===lt){e.tag=14,e=kd(null,e,t,r,i);break t}}throw e=Ee(t)||t,Error(u(306,e,""))}}return e;case 0:return Dc(t,e,e.type,e.pendingProps,i);case 1:return r=e.type,h=fs(r,e.pendingProps),Dd(t,e,r,h,i);case 3:t:{if(se(e,e.stateNode.containerInfo),t===null)throw Error(u(387));r=e.pendingProps;var f=e.memoizedState;h=f.element,uc(t,e),oo(e,r,null,i);var v=e.memoizedState;if(r=v.cache,sa(e,be,r),r!==f.cache&&ic(e,[be],i,!0),ro(),r=v.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:v.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=Ud(t,e,r,i);break t}else if(r!==h){h=s(Error(u(424)),e),as(h),e=Ud(t,e,r,i);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Bt=kn(t.firstChild),Ut=e,Nt=!0,ai=null,en=!0,i=Rf(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ti(),r===h){e=Ci(t,e,i);break t}Ue(t,e,r,i)}e=e.child}return e;case 26:return Il(t,e),t===null?(i=Wm(e.type,null,e.pendingProps,null))?e.memoizedState=i:Nt||(i=e.type,t=e.pendingProps,r=ru(rt.current).createElement(i),r[ve]=e,r[ke]=t,Be(r,i,t),ye(r),e.stateNode=r):e.memoizedState=Wm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return ci(e),t===null&&Nt&&(r=e.stateNode=Xm(e.type,e.pendingProps,rt.current),Ut=e,en=!0,h=Bt,va(e.type)?(xh=h,Bt=kn(r.firstChild)):Bt=h),Ue(t,e,e.pendingProps.children,i),Il(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Nt&&((h=r=Bt)&&(r=Tg(r,e.type,e.pendingProps,en),r!==null?(e.stateNode=r,Ut=e,Bt=kn(r.firstChild),en=!1,h=!0):h=!1),h||si(e)),ci(e),h=e.type,f=e.pendingProps,v=t!==null?t.memoizedProps:null,r=f.children,gh(h,f)?r=null:v!==null&&gh(h,v)&&(e.flags|=32),e.memoizedState!==null&&(h=_c(t,e,P_,null,null,i),Co._currentValue=h),Il(t,e),Ue(t,e,r,i),e.child;case 6:return t===null&&Nt&&((t=i=Bt)&&(i=Eg(i,e.pendingProps,en),i!==null?(e.stateNode=i,Ut=e,Bt=null,t=!0):t=!1),t||si(e)),null;case 13:return Bd(t,e,i);case 4:return se(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cs(e,null,r,i):Ue(t,e,r,i),e.child;case 11:return Nd(t,e,e.type,e.pendingProps,i);case 7:return Ue(t,e,e.pendingProps,i),e.child;case 8:return Ue(t,e,e.pendingProps.children,i),e.child;case 12:return Ue(t,e,e.pendingProps.children,i),e.child;case 10:return r=e.pendingProps,sa(e,e.type,r.value),Ue(t,e,r.children,i),e.child;case 9:return h=e.type._context,r=e.pendingProps.children,rs(e),h=De(h),r=r(h),e.flags|=1,Ue(t,e,r,i),e.child;case 14:return kd(t,e,e.type,e.pendingProps,i);case 15:return jd(t,e,e.type,e.pendingProps,i);case 19:return qd(t,e,i);case 31:return K_(t,e,i);case 22:return Rd(t,e,i,e.pendingProps);case 24:return rs(e),r=De(be),t===null?(h=rc(),h===null&&(h=te,f=ac(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=i),h=f),e.memoizedState={parent:r,cache:h},lc(e),sa(e,be,h)):((t.lanes&i)!==0&&(uc(t,e),oo(e,null,null,i),ro()),h=t.memoizedState,f=e.memoizedState,h.parent!==r?(h={parent:r,cache:r},e.memoizedState=h,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=h),sa(e,be,r)):(r=f.cache,sa(e,be,r),r!==h.cache&&ic(e,[be],i,!0))),Ue(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(u(156,e.tag))}function Ni(t){t.flags|=4}function Gc(t,e,i,r,h){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(mm())t.flags|=8192;else throw us=Cl,oc}else t.flags&=-16777217}function Zd(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ip(e))if(mm())t.flags|=8192;else throw us=Cl,oc}function Vl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Xo():536870912,t.lanes|=e,ar|=e)}function mo(t,e){if(!Nt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,r|=h.subtreeFlags&65011712,r|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,r|=h.subtreeFlags,r|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function X_(t,e,i){var r=e.pendingProps;switch(fe(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(e),null;case 1:return ae(e),null;case 3:return i=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ei(be),re(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(qn(e)?Ni(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,to())),ae(e),null;case 26:var h=e.type,f=e.memoizedState;return t===null?(Ni(e),f!==null?(ae(e),Zd(e,f)):(ae(e),Gc(e,h,null,r,i))):f?f!==t.memoizedState?(Ni(e),ae(e),Zd(e,f)):(ae(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Ni(e),ae(e),Gc(e,h,t,r,i)),null;case 27:if(Pi(e),i=rt.current,h=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ni(e);else{if(!r){if(e.stateNode===null)throw Error(u(166));return ae(e),null}t=et.current,qn(e)?Fr(e):(t=Xm(h,r,i),e.stateNode=t,Ni(e))}return ae(e),null;case 5:if(Pi(e),h=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ni(e);else{if(!r){if(e.stateNode===null)throw Error(u(166));return ae(e),null}if(f=et.current,qn(e))Fr(e);else{var v=ru(rt.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?v.createElement("select",{is:r.is}):v.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?v.createElement(h,{is:r.is}):v.createElement(h)}}f[ve]=e,f[ke]=r;t:for(v=e.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break t;for(;v.sibling===null;){if(v.return===null||v.return===e)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}e.stateNode=f;t:switch(Be(f,h,r),h){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Ni(e)}}return ae(e),Gc(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ni(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(u(166));if(t=rt.current,qn(e)){if(t=e.stateNode,i=e.memoizedProps,r=null,h=Ut,h!==null)switch(h.tag){case 27:case 5:r=h.memoizedProps}t[ve]=e,t=!!(t.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Bm(t.nodeValue,i)),t||si(e,!0)}else t=ru(t).createTextNode(r),t[ve]=e,e.stateNode=t}return ae(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(r=qn(e),i!==null){if(t===null){if(!r)throw Error(u(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(557));t[ve]=e}else Ti(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ae(e),t=!1}else i=to(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(mn(e),e):(mn(e),null);if((e.flags&128)!==0)throw Error(u(558))}return ae(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=qn(e),r!==null&&r.dehydrated!==null){if(t===null){if(!h)throw Error(u(318));if(h=e.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(u(317));h[ve]=e}else Ti(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ae(e),h=!1}else h=to(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return e.flags&256?(mn(e),e):(mn(e),null)}return mn(e),(e.flags&128)!==0?(e.lanes=i,e):(i=r!==null,t=t!==null&&t.memoizedState!==null,i&&(r=e.child,h=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(h=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==h&&(r.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),Vl(e,e.updateQueue),ae(e),null);case 4:return re(),t===null&&fh(e.stateNode.containerInfo),ae(e),null;case 10:return Ei(e.type),ae(e),null;case 19:if($(_e),r=e.memoizedState,r===null)return ae(e),null;if(h=(e.flags&128)!==0,f=r.rendering,f===null)if(h)mo(r,!1);else{if(me!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=Rl(t),f!==null){for(e.flags|=128,mo(r,!1),t=f.updateQueue,e.updateQueue=t,Vl(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Jr(i,t),i=i.sibling;return tt(_e,_e.current&1|2),Nt&&ft(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Ge()>Jl&&(e.flags|=128,h=!0,mo(r,!1),e.lanes=4194304)}else{if(!h)if(t=Rl(f),t!==null){if(e.flags|=128,h=!0,t=t.updateQueue,e.updateQueue=t,Vl(e,t),mo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!Nt)return ae(e),null}else 2*Ge()-r.renderingStartTime>Jl&&i!==536870912&&(e.flags|=128,h=!0,mo(r,!1),e.lanes=4194304);r.isBackwards?(f.sibling=e.child,e.child=f):(t=r.last,t!==null?t.sibling=f:e.child=f,r.last=f)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ge(),t.sibling=null,i=_e.current,tt(_e,h?i&1|2:i&1),Nt&&ft(e,r.treeForkCount),t):(ae(e),null);case 22:case 23:return mn(e),dc(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(i&536870912)!==0&&(e.flags&128)===0&&(ae(e),e.subtreeFlags&6&&(e.flags|=8192)):ae(e),i=e.updateQueue,i!==null&&Vl(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==i&&(e.flags|=2048),t!==null&&$(os),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Ei(be),ae(e),null;case 25:return null;case 30:return null}throw Error(u(156,e.tag))}function J_(t,e){switch(fe(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ei(be),re(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Pi(e),null;case 31:if(e.memoizedState!==null){if(mn(e),e.alternate===null)throw Error(u(340));Ti()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(mn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(u(340));Ti()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $(_e),null;case 4:return re(),null;case 10:return Ei(e.type),null;case 22:case 23:return mn(e),dc(),t!==null&&$(os),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ei(be),null;case 25:return null;default:return null}}function Id(t,e){switch(fe(e),e.tag){case 3:Ei(be),re();break;case 26:case 27:case 5:Pi(e);break;case 4:re();break;case 31:e.memoizedState!==null&&mn(e);break;case 13:mn(e);break;case 19:$(_e);break;case 10:Ei(e.type);break;case 22:case 23:mn(e),dc(),t!==null&&$(os);break;case 24:Ei(be)}}function po(t,e){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var h=r.next;i=h;do{if((i.tag&t)===t){r=void 0;var f=i.create,v=i.inst;r=f(),v.destroy=r}i=i.next}while(i!==h)}}catch(T){Vt(e,e.return,T)}}function ha(t,e,i){try{var r=e.updateQueue,h=r!==null?r.lastEffect:null;if(h!==null){var f=h.next;r=f;do{if((r.tag&t)===t){var v=r.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=e;var A=i,U=T;try{U()}catch(K){Vt(h,A,K)}}}r=r.next}while(r!==f)}}catch(K){Vt(e,e.return,K)}}function Gd(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{Mf(e,i)}catch(r){Vt(t,t.return,r)}}}function Vd(t,e,i){i.props=fs(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(r){Vt(t,e,r)}}function _o(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof i=="function"?t.refCleanup=i(r):i.current=r}}catch(h){Vt(t,e,h)}}function oi(t,e){var i=t.ref,r=t.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(h){Vt(t,e,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){Vt(t,e,h)}else i.current=null}function $d(t){var e=t.type,i=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break t;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(h){Vt(t,t.return,h)}}function Vc(t,e,i){try{var r=t.stateNode;vg(r,t.type,i,e),r[ke]=e}catch(h){Vt(t,t.return,h)}}function Kd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&va(t.type)||t.tag===4}function $c(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Kd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&va(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kc(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Qe));else if(r!==4&&(r===27&&va(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Kc(t,e,i),t=t.sibling;t!==null;)Kc(t,e,i),t=t.sibling}function $l(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(r===27&&va(t.type)&&(i=t.stateNode),t=t.child,t!==null))for($l(t,e,i),t=t.sibling;t!==null;)$l(t,e,i),t=t.sibling}function Yd(t){var e=t.stateNode,i=t.memoizedProps;try{for(var r=t.type,h=e.attributes;h.length;)e.removeAttributeNode(h[0]);Be(e,r,i),e[ve]=t,e[ke]=i}catch(f){Vt(t,t.return,f)}}var ki=!1,Se=!1,Yc=!1,Xd=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Q_(t,e){if(t=t.containerInfo,ph=du,t=Ja(t),Fn(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var h=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break t}var v=0,T=-1,A=-1,U=0,K=0,Q=t,q=null;e:for(;;){for(var G;Q!==i||h!==0&&Q.nodeType!==3||(T=v+h),Q!==f||r!==0&&Q.nodeType!==3||(A=v+r),Q.nodeType===3&&(v+=Q.nodeValue.length),(G=Q.firstChild)!==null;)q=Q,Q=G;for(;;){if(Q===t)break e;if(q===i&&++U===h&&(T=v),q===f&&++K===r&&(A=v),(G=Q.nextSibling)!==null)break;Q=q,q=Q.parentNode}Q=G}i=T===-1||A===-1?null:{start:T,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(_h={focusedElem:t,selectionRange:i},du=!1,Le=e;Le!==null;)if(e=Le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Le=t;else for(;Le!==null;){switch(e=Le,f=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)h=t[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=e,h=f.memoizedProps,f=f.memoizedState,r=i.stateNode;try{var ut=fs(i.type,h);t=r.getSnapshotBeforeUpdate(ut,f),r.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Vt(i,i.return,gt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)yh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(u(163))}if(t=e.sibling,t!==null){t.return=e.return,Le=t;break}Le=e.return}}function Jd(t,e,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:Ri(t,i),r&4&&po(5,i);break;case 1:if(Ri(t,i),r&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(v){Vt(i,i.return,v)}else{var h=fs(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(h,e,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Vt(i,i.return,v)}}r&64&&Gd(i),r&512&&_o(i,i.return);break;case 3:if(Ri(t,i),r&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{Mf(t,e)}catch(v){Vt(i,i.return,v)}}break;case 27:e===null&&r&4&&Yd(i);case 26:case 5:Ri(t,i),e===null&&r&4&&$d(i),r&512&&_o(i,i.return);break;case 12:Ri(t,i);break;case 31:Ri(t,i),r&4&&Fd(t,i);break;case 13:Ri(t,i),r&4&&tm(t,i),r&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=rg.bind(null,i),Og(t,i))));break;case 22:if(r=i.memoizedState!==null||ki,!r){e=e!==null&&e.memoizedState!==null||Se,h=ki;var f=Se;ki=r,(Se=e)&&!f?Li(t,i,(i.subtreeFlags&8772)!==0):Ri(t,i),ki=h,Se=f}break;case 30:break;default:Ri(t,i)}}function Qd(t){var e=t.alternate;e!==null&&(t.alternate=null,Qd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Rr(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,nn=!1;function ji(t,e,i){for(i=i.child;i!==null;)Wd(t,e,i),i=i.sibling}function Wd(t,e,i){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(qi,i)}catch{}switch(i.tag){case 26:Se||oi(i,e),ji(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Se||oi(i,e);var r=le,h=nn;va(i.type)&&(le=i.stateNode,nn=!1),ji(t,e,i),Eo(i.stateNode),le=r,nn=h;break;case 5:Se||oi(i,e);case 6:if(r=le,h=nn,le=null,ji(t,e,i),le=r,nn=h,le!==null)if(nn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(i.stateNode)}catch(f){Vt(i,e,f)}else try{le.removeChild(i.stateNode)}catch(f){Vt(i,e,f)}break;case 18:le!==null&&(nn?(t=le,Gm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),fr(t)):Gm(le,i.stateNode));break;case 4:r=le,h=nn,le=i.stateNode.containerInfo,nn=!0,ji(t,e,i),le=r,nn=h;break;case 0:case 11:case 14:case 15:ha(2,i,e),Se||ha(4,i,e),ji(t,e,i);break;case 1:Se||(oi(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Vd(i,e,r)),ji(t,e,i);break;case 21:ji(t,e,i);break;case 22:Se=(r=Se)||i.memoizedState!==null,ji(t,e,i),Se=r;break;default:ji(t,e,i)}}function Fd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fr(t)}catch(i){Vt(e,e.return,i)}}}function tm(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fr(t)}catch(i){Vt(e,e.return,i)}}function W_(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Xd),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Xd),e;default:throw Error(u(435,t.tag))}}function Kl(t,e){var i=W_(t);e.forEach(function(r){if(!i.has(r)){i.add(r);var h=og.bind(null,t,r);r.then(h,h)}})}function an(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var h=i[r],f=t,v=e,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(va(T.type)){le=T.stateNode,nn=!1;break t}break;case 5:le=T.stateNode,nn=!1;break t;case 3:case 4:le=T.stateNode.containerInfo,nn=!0;break t}T=T.return}if(le===null)throw Error(u(160));Wd(f,v,h),le=null,nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)em(e,t),e=e.sibling}var Zn=null;function em(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(e,t),sn(t),r&4&&(ha(3,t,t.return),po(3,t),ha(5,t,t.return));break;case 1:an(e,t),sn(t),r&512&&(Se||i===null||oi(i,i.return)),r&64&&ki&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var h=Zn;if(an(e,t),sn(t),r&512&&(Se||i===null||oi(i,i.return)),r&4){var f=i!==null?i.memoizedState:null;if(r=t.memoizedState,i===null)if(r===null)if(t.stateNode===null){t:{r=t.type,i=t.memoizedProps,h=h.ownerDocument||h;e:switch(r){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ma]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(r),h.head.insertBefore(f,h.querySelector("head > title"))),Be(f,r,i),f[ve]=t,ye(f),r=f;break t;case"link":var v=ep("link","href",h).get(r+(i.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(r),Be(f,r,i),h.head.appendChild(f);break;case"meta":if(v=ep("meta","content",h).get(r+(i.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(T,1);break e}}f=h.createElement(r),Be(f,r,i),h.head.appendChild(f);break;default:throw Error(u(468,r))}f[ve]=t,ye(f),r=f}t.stateNode=r}else np(h,t.type,t.stateNode);else t.stateNode=tp(h,r,t.memoizedProps);else f!==r?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,r===null?np(h,t.type,t.stateNode):tp(h,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Vc(t,t.memoizedProps,i.memoizedProps)}break;case 27:an(e,t),sn(t),r&512&&(Se||i===null||oi(i,i.return)),i!==null&&r&4&&Vc(t,t.memoizedProps,i.memoizedProps);break;case 5:if(an(e,t),sn(t),r&512&&(Se||i===null||oi(i,i.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(ut){Vt(t,t.return,ut)}}r&4&&t.stateNode!=null&&(h=t.memoizedProps,Vc(t,h,i!==null?i.memoizedProps:h)),r&1024&&(Yc=!0);break;case 6:if(an(e,t),sn(t),r&4){if(t.stateNode===null)throw Error(u(162));r=t.memoizedProps,i=t.stateNode;try{i.nodeValue=r}catch(ut){Vt(t,t.return,ut)}}break;case 3:if(uu=null,h=Zn,Zn=ou(e.containerInfo),an(e,t),Zn=h,sn(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{fr(e.containerInfo)}catch(ut){Vt(t,t.return,ut)}Yc&&(Yc=!1,nm(t));break;case 4:r=Zn,Zn=ou(t.stateNode.containerInfo),an(e,t),sn(t),Zn=r;break;case 12:an(e,t),sn(t);break;case 31:an(e,t),sn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Kl(t,r)));break;case 13:an(e,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Xl=Ge()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Kl(t,r)));break;case 22:h=t.memoizedState!==null;var A=i!==null&&i.memoizedState!==null,U=ki,K=Se;if(ki=U||h,Se=K||A,an(e,t),Se=K,ki=U,sn(t),r&8192)t:for(e=t.stateNode,e._visibility=h?e._visibility&-2:e._visibility|1,h&&(i===null||A||ki||Se||ds(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){A=i=e;try{if(f=A.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=A.stateNode;var Q=A.memoizedProps.style,q=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ut){Vt(A,A.return,ut)}}}else if(e.tag===6){if(i===null){A=e;try{A.stateNode.nodeValue=h?"":A.memoizedProps}catch(ut){Vt(A,A.return,ut)}}}else if(e.tag===18){if(i===null){A=e;try{var G=A.stateNode;h?Vm(G,!0):Vm(A.stateNode,!1)}catch(ut){Vt(A,A.return,ut)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,Kl(t,i))));break;case 19:an(e,t),sn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Kl(t,r)));break;case 30:break;case 21:break;default:an(e,t),sn(t)}}function sn(t){var e=t.flags;if(e&2){try{for(var i,r=t.return;r!==null;){if(Kd(r)){i=r;break}r=r.return}if(i==null)throw Error(u(160));switch(i.tag){case 27:var h=i.stateNode,f=$c(t);$l(t,f,h);break;case 5:var v=i.stateNode;i.flags&32&&(wn(v,""),i.flags&=-33);var T=$c(t);$l(t,T,v);break;case 3:case 4:var A=i.stateNode.containerInfo,U=$c(t);Kc(t,U,A);break;default:throw Error(u(161))}}catch(K){Vt(t,t.return,K)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;nm(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ri(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Jd(t,e.alternate,e),e=e.sibling}function ds(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ha(4,e,e.return),ds(e);break;case 1:oi(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Vd(e,e.return,i),ds(e);break;case 27:Eo(e.stateNode);case 26:case 5:oi(e,e.return),ds(e);break;case 22:e.memoizedState===null&&ds(e);break;case 30:ds(e);break;default:ds(e)}t=t.sibling}}function Li(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,h=t,f=e,v=f.flags;switch(f.tag){case 0:case 11:case 15:Li(h,f,i),po(4,f);break;case 1:if(Li(h,f,i),r=f,h=r.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Vt(r,r.return,U)}if(r=f,h=r.updateQueue,h!==null){var T=r.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)Lf(A[h],T)}catch(U){Vt(r,r.return,U)}}i&&v&64&&Gd(f),_o(f,f.return);break;case 27:Yd(f);case 26:case 5:Li(h,f,i),i&&r===null&&v&4&&$d(f),_o(f,f.return);break;case 12:Li(h,f,i);break;case 31:Li(h,f,i),i&&v&4&&Fd(h,f);break;case 13:Li(h,f,i),i&&v&4&&tm(h,f);break;case 22:f.memoizedState===null&&Li(h,f,i),_o(f,f.return);break;case 30:break;default:Li(h,f,i)}e=e.sibling}}function Xc(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&eo(i))}function Jc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&eo(t))}function In(t,e,i,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)im(t,e,i,r),e=e.sibling}function im(t,e,i,r){var h=e.flags;switch(e.tag){case 0:case 11:case 15:In(t,e,i,r),h&2048&&po(9,e);break;case 1:In(t,e,i,r);break;case 3:In(t,e,i,r),h&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&eo(t)));break;case 12:if(h&2048){In(t,e,i,r),t=e.stateNode;try{var f=e.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Vt(e,e.return,A)}}else In(t,e,i,r);break;case 31:In(t,e,i,r);break;case 13:In(t,e,i,r);break;case 23:break;case 22:f=e.stateNode,v=e.alternate,e.memoizedState!==null?f._visibility&2?In(t,e,i,r):go(t,e):f._visibility&2?In(t,e,i,r):(f._visibility|=2,er(t,e,i,r,(e.subtreeFlags&10256)!==0||!1)),h&2048&&Xc(v,e);break;case 24:In(t,e,i,r),h&2048&&Jc(e.alternate,e);break;default:In(t,e,i,r)}}function er(t,e,i,r,h){for(h=h&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var f=t,v=e,T=i,A=r,U=v.flags;switch(v.tag){case 0:case 11:case 15:er(f,v,T,A,h),po(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?er(f,v,T,A,h):go(f,v):(K._visibility|=2,er(f,v,T,A,h)),h&&U&2048&&Xc(v.alternate,v);break;case 24:er(f,v,T,A,h),h&&U&2048&&Jc(v.alternate,v);break;default:er(f,v,T,A,h)}e=e.sibling}}function go(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,r=e,h=r.flags;switch(r.tag){case 22:go(i,r),h&2048&&Xc(r.alternate,r);break;case 24:go(i,r),h&2048&&Jc(r.alternate,r);break;default:go(i,r)}e=e.sibling}}var vo=8192;function nr(t,e,i){if(t.subtreeFlags&vo)for(t=t.child;t!==null;)am(t,e,i),t=t.sibling}function am(t,e,i){switch(t.tag){case 26:nr(t,e,i),t.flags&vo&&t.memoizedState!==null&&Bg(i,Zn,t.memoizedState,t.memoizedProps);break;case 5:nr(t,e,i);break;case 3:case 4:var r=Zn;Zn=ou(t.stateNode.containerInfo),nr(t,e,i),Zn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=vo,vo=16777216,nr(t,e,i),vo=r):nr(t,e,i));break;default:nr(t,e,i)}}function sm(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function yo(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];Le=r,om(r,t)}sm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rm(t),t=t.sibling}function rm(t){switch(t.tag){case 0:case 11:case 15:yo(t),t.flags&2048&&ha(9,t,t.return);break;case 3:yo(t);break;case 12:yo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Yl(t)):yo(t);break;default:yo(t)}}function Yl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];Le=r,om(r,t)}sm(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ha(8,e,e.return),Yl(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,Yl(e));break;default:Yl(e)}t=t.sibling}}function om(t,e){for(;Le!==null;){var i=Le;switch(i.tag){case 0:case 11:case 15:ha(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:eo(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Le=r;else t:for(i=t;Le!==null;){r=Le;var h=r.sibling,f=r.return;if(Qd(r),r===i){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var F_={getCacheForType:function(t){var e=De(be),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return De(be).controller.signal}},tg=typeof WeakMap=="function"?WeakMap:Map,Zt=0,te=null,kt=null,Lt=0,Gt=0,pn=null,fa=!1,ir=!1,Qc=!1,Mi=0,me=0,da=0,ms=0,Wc=0,_n=0,ar=0,bo=null,rn=null,Fc=!1,Xl=0,lm=0,Jl=1/0,Ql=null,ma=null,Ce=0,pa=null,sr=null,zi=0,th=0,eh=null,um=null,wo=0,nh=null;function gn(){return(Zt&2)!==0&&Lt!==0?Lt&-Lt:V.T!==null?lh():kr()}function cm(){if(_n===0)if((Lt&536870912)===0||Nt){var t=ja;ja<<=1,(ja&3932160)===0&&(ja=262144),_n=t}else _n=536870912;return t=dn.current,t!==null&&(t.flags|=32),_n}function on(t,e,i){(t===te&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(rr(t,0),_a(t,Lt,_n,!1)),mi(t,i),((Zt&2)===0||t!==te)&&(t===te&&((Zt&2)===0&&(ms|=i),me===4&&_a(t,Lt,_n,!1)),li(t))}function hm(t,e,i){if((Zt&6)!==0)throw Error(u(327));var r=!i&&(e&127)===0&&(e&t.expiredLanes)===0||La(t,e),h=r?ig(t,e):ah(t,e,!0),f=r;do{if(h===0){ir&&!r&&_a(t,e,0,!1);break}else{if(i=t.current.alternate,f&&!eg(i)){h=ah(t,e,!1),f=!1;continue}if(h===2){if(f=e,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){e=v;t:{var T=t;h=bo;var A=T.current.memoizedState.isDehydrated;if(A&&(rr(T,v).flags|=256),v=ah(T,v,!1),v!==2){if(Qc&&!A){T.errorRecoveryDisabledLanes|=f,ms|=f,h=4;break t}f=rn,rn=h,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){rr(t,0),_a(t,e,0,!0);break}t:{switch(r=t,f=h,f){case 0:case 1:throw Error(u(345));case 4:if((e&4194048)!==e)break;case 6:_a(r,e,_n,!fa);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(u(329))}if((e&62914560)===e&&(h=Xl+300-Ge(),10<h)){if(_a(r,e,_n,!fa),Os(r,0,!0)!==0)break t;zi=e,r.timeoutHandle=Zm(fm.bind(null,r,i,rn,Ql,Fc,e,_n,ms,ar,fa,f,"Throttled",-0,0),h);break t}fm(r,i,rn,Ql,Fc,e,_n,ms,ar,fa,f,null,-0,0)}}break}while(!0);li(t)}function fm(t,e,i,r,h,f,v,T,A,U,K,Q,q,G){if(t.timeoutHandle=-1,Q=e.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qe},am(e,f,Q);var ut=(f&62914560)===f?Xl-Ge():(f&4194048)===f?lm-Ge():0;if(ut=Pg(Q,ut),ut!==null){zi=f,t.cancelPendingCommit=ut(bm.bind(null,t,e,f,i,r,h,v,T,A,K,Q,null,q,G)),_a(t,f,v,!U);return}}bm(t,e,f,i,r,h,v,T,A)}function eg(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var h=i[r],f=h.getSnapshot;h=h.value;try{if(!je(f(),h))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _a(t,e,i,r){e&=~Wc,e&=~ms,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var h=e;0<h;){var f=31-Ve(h),v=1<<f;r[f]=-1,h&=~v}i!==0&&Jo(t,i,e)}function Wl(){return(Zt&6)===0?(xo(0),!1):!0}function ih(){if(kt!==null){if(Gt===0)var t=kt.return;else t=kt,Hn=ri=null,yc(t),Js=null,io=0,t=kt;for(;t!==null;)Id(t.alternate,t),t=t.return;kt=null}}function rr(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,wg(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),zi=0,ih(),te=t,kt=i=Cn(t.current,null),Lt=e,Gt=0,pn=null,fa=!1,ir=La(t,e),Qc=!1,ar=_n=Wc=ms=da=me=0,rn=bo=null,Fc=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var h=31-Ve(r),f=1<<h;e|=t[h],r&=~f}return Mi=e,es(),i}function dm(t,e){St=null,V.H=ho,e===Xs||e===Al?(e=Nf(),Gt=3):e===oc?(e=Nf(),Gt=4):Gt=e===zc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,pn=e,kt===null&&(me=1,Hl(t,s(e,t.current)))}function mm(){var t=dn.current;return t===null?!0:(Lt&4194048)===Lt?Nn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?t===Nn:!1}function pm(){var t=V.H;return V.H=ho,t===null?ho:t}function _m(){var t=V.A;return V.A=F_,t}function Fl(){me=4,fa||(Lt&4194048)!==Lt&&dn.current!==null||(ir=!0),(da&134217727)===0&&(ms&134217727)===0||te===null||_a(te,Lt,_n,!1)}function ah(t,e,i){var r=Zt;Zt|=2;var h=pm(),f=_m();(te!==t||Lt!==e)&&(Ql=null,rr(t,e)),e=!1;var v=me;t:do try{if(Gt!==0&&kt!==null){var T=kt,A=pn;switch(Gt){case 8:ih(),v=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(e=!0);var U=Gt;if(Gt=0,pn=null,or(t,T,A,U),i&&ir){v=0;break t}break;default:U=Gt,Gt=0,pn=null,or(t,T,A,U)}}ng(),v=me;break}catch(K){dm(t,K)}while(!0);return e&&t.shellSuspendCounter++,Hn=ri=null,Zt=r,V.H=h,V.A=f,kt===null&&(te=null,Lt=0,es()),v}function ng(){for(;kt!==null;)gm(kt)}function ig(t,e){var i=Zt;Zt|=2;var r=pm(),h=_m();te!==t||Lt!==e?(Ql=null,Jl=Ge()+500,rr(t,e)):ir=La(t,e);t:do try{if(Gt!==0&&kt!==null){e=kt;var f=pn;e:switch(Gt){case 1:Gt=0,pn=null,or(t,e,f,1);break;case 2:case 9:if(Af(f)){Gt=0,pn=null,vm(e);break}e=function(){Gt!==2&&Gt!==9||te!==t||(Gt=7),li(t)},f.then(e,e);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Af(f)?(Gt=0,pn=null,vm(e)):(Gt=0,pn=null,or(t,e,f,7));break;case 5:var v=null;switch(kt.tag){case 26:v=kt.memoizedState;case 5:case 27:var T=kt;if(v?ip(v):T.stateNode.complete){Gt=0,pn=null;var A=T.sibling;if(A!==null)kt=A;else{var U=T.return;U!==null?(kt=U,tu(U)):kt=null}break e}}Gt=0,pn=null,or(t,e,f,5);break;case 6:Gt=0,pn=null,or(t,e,f,6);break;case 8:ih(),me=6;break t;default:throw Error(u(462))}}ag();break}catch(K){dm(t,K)}while(!0);return Hn=ri=null,V.H=r,V.A=h,Zt=i,kt!==null?0:(te=null,Lt=0,es(),me)}function ag(){for(;kt!==null&&!$o();)gm(kt)}function gm(t){var e=Hd(t.alternate,t,Mi);t.memoizedProps=t.pendingProps,e===null?tu(t):kt=e}function vm(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=zd(i,e,e.pendingProps,e.type,void 0,Lt);break;case 11:e=zd(i,e,e.pendingProps,e.type.render,e.ref,Lt);break;case 5:yc(e);default:Id(i,e),e=kt=Jr(e,Mi),e=Hd(i,e,Mi)}t.memoizedProps=t.pendingProps,e===null?tu(t):kt=e}function or(t,e,i,r){Hn=ri=null,yc(e),Js=null,io=0;var h=e.return;try{if($_(t,h,e,i,Lt)){me=1,Hl(t,s(i,t.current)),kt=null;return}}catch(f){if(h!==null)throw kt=h,f;me=1,Hl(t,s(i,t.current)),kt=null;return}e.flags&32768?(Nt||r===1?t=!0:ir||(Lt&536870912)!==0?t=!1:(fa=t=!0,(r===2||r===9||r===3||r===6)&&(r=dn.current,r!==null&&r.tag===13&&(r.flags|=16384))),ym(e,t)):tu(e)}function tu(t){var e=t;do{if((e.flags&32768)!==0){ym(e,fa);return}t=e.return;var i=X_(e.alternate,e,Mi);if(i!==null){kt=i;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);me===0&&(me=5)}function ym(t,e){do{var i=J_(t.alternate,t);if(i!==null){i.flags&=32767,kt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){kt=t;return}kt=t=i}while(t!==null);me=6,kt=null}function bm(t,e,i,r,h,f,v,T,A){t.cancelPendingCommit=null;do eu();while(Ce!==0);if((Zt&6)!==0)throw Error(u(327));if(e!==null){if(e===t.current)throw Error(u(177));if(f=e.lanes|e.childLanes,f|=Zs,qu(t,i,f,v,T,A),t===te&&(kt=te=null,Lt=0),sr=e,pa=t,zi=i,th=f,eh=h,um=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lg(Ca,function(){return Em(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=V.T,V.T=null,h=it.p,it.p=2,v=Zt,Zt|=4;try{Q_(t,e,i)}finally{Zt=v,it.p=h,V.T=r}}Ce=1,wm(),xm(),Sm()}}function wm(){if(Ce===1){Ce=0;var t=pa,e=sr,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=V.T,V.T=null;var r=it.p;it.p=2;var h=Zt;Zt|=4;try{em(e,t);var f=_h,v=Ja(t.containerInfo),T=f.focusedElem,A=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Bs(T.ownerDocument.documentElement,T)){if(A!==null&&Fn(T)){var U=A.start,K=A.end;if(K===void 0&&(K=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(K,T.value.length);else{var Q=T.ownerDocument||document,q=Q&&Q.defaultView||window;if(q.getSelection){var G=q.getSelection(),ut=T.textContent.length,gt=Math.min(A.start,ut),Jt=A.end===void 0?gt:Math.min(A.end,ut);!G.extend&&gt>Jt&&(v=Jt,Jt=gt,gt=v);var j=Xa(T,gt),k=Xa(T,Jt);if(j&&k&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var D=Q.createRange();D.setStart(j.node,j.offset),G.removeAllRanges(),gt>Jt?(G.addRange(D),G.extend(k.node,k.offset)):(D.setEnd(k.node,k.offset),G.addRange(D))}}}}for(Q=[],G=T;G=G.parentNode;)G.nodeType===1&&Q.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var Y=Q[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}du=!!ph,_h=ph=null}finally{Zt=h,it.p=r,V.T=i}}t.current=e,Ce=2}}function xm(){if(Ce===2){Ce=0;var t=pa,e=sr,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=V.T,V.T=null;var r=it.p;it.p=2;var h=Zt;Zt|=4;try{Jd(t,e.alternate,e)}finally{Zt=h,it.p=r,V.T=i}}Ce=3}}function Sm(){if(Ce===4||Ce===3){Ce=0,Ko();var t=pa,e=sr,i=zi,r=um;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ce=5:(Ce=0,sr=pa=null,Tm(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ma=null),ht(i),e=e.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(qi,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=V.T,h=it.p,it.p=2,V.T=null;try{for(var f=t.onRecoverableError,v=0;v<r.length;v++){var T=r[v];f(T.value,{componentStack:T.stack})}}finally{V.T=e,it.p=h}}(zi&3)!==0&&eu(),li(t),h=t.pendingLanes,(i&261930)!==0&&(h&42)!==0?t===nh?wo++:(wo=0,nh=t):wo=0,xo(0)}}function Tm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,eo(e)))}function eu(){return wm(),xm(),Sm(),Em()}function Em(){if(Ce!==5)return!1;var t=pa,e=th;th=0;var i=ht(zi),r=V.T,h=it.p;try{it.p=32>i?32:i,V.T=null,i=eh,eh=null;var f=pa,v=zi;if(Ce=0,sr=pa=null,zi=0,(Zt&6)!==0)throw Error(u(331));var T=Zt;if(Zt|=4,rm(f.current),im(f,f.current,v,i),Zt=T,xo(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(qi,f)}catch{}return!0}finally{it.p=h,V.T=r,Tm(t,e)}}function Om(t,e,i){e=s(i,e),e=Mc(t.stateNode,e,2),t=la(t,e,2),t!==null&&(mi(t,2),li(t))}function Vt(t,e,i){if(t.tag===3)Om(t,t,i);else for(;e!==null;){if(e.tag===3){Om(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ma===null||!ma.has(r))){t=s(i,t),i=Ad(2),r=la(e,i,2),r!==null&&(Cd(i,r,e,t),mi(r,2),li(r));break}}e=e.return}}function sh(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new tg;var h=new Set;r.set(e,h)}else h=r.get(e),h===void 0&&(h=new Set,r.set(e,h));h.has(i)||(Qc=!0,h.add(i),t=sg.bind(null,t,e,i),e.then(t,t))}function sg(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,te===t&&(Lt&i)===i&&(me===4||me===3&&(Lt&62914560)===Lt&&300>Ge()-Xl?(Zt&2)===0&&rr(t,0):Wc|=i,ar===Lt&&(ar=0)),li(t)}function Am(t,e){e===0&&(e=Xo()),t=An(t,e),t!==null&&(mi(t,e),li(t))}function rg(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),Am(t,i)}function og(t,e){var i=0;switch(t.tag){case 31:case 13:var r=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(u(314))}r!==null&&r.delete(e),Am(t,i)}function lg(t,e){return Ts(t,e)}var nu=null,lr=null,rh=!1,iu=!1,oh=!1,ga=0;function li(t){t!==lr&&t.next===null&&(lr===null?nu=lr=t:lr=lr.next=t),iu=!0,rh||(rh=!0,cg())}function xo(t,e){if(!oh&&iu){oh=!0;do for(var i=!1,r=nu;r!==null;){if(t!==0){var h=r.pendingLanes;if(h===0)var f=0;else{var v=r.suspendedLanes,T=r.pingedLanes;f=(1<<31-Ve(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,jm(r,f))}else f=Lt,f=Os(r,r===te?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||La(r,f)||(i=!0,jm(r,f));r=r.next}while(i);oh=!1}}function ug(){Cm()}function Cm(){iu=rh=!1;var t=0;ga!==0&&bg()&&(t=ga);for(var e=Ge(),i=null,r=nu;r!==null;){var h=r.next,f=Nm(r,e);f===0?(r.next=null,i===null?nu=h:i.next=h,h===null&&(lr=i)):(i=r,(t!==0||(f&3)!==0)&&(iu=!0)),r=h}Ce!==0&&Ce!==5||xo(t),ga!==0&&(ga=0)}function Nm(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Ve(f),T=1<<v,A=h[v];A===-1?((T&i)===0||(T&r)!==0)&&(h[v]=Pu(T,e)):A<=e&&(t.expiredLanes|=T),f&=~T}if(e=te,i=Lt,i=Os(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,i===0||t===e&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Aa(r),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||La(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(r!==null&&Aa(r),ht(i)){case 2:case 8:i=Ar;break;case 32:i=Ca;break;case 268435456:i=Cr;break;default:i=Ca}return r=km.bind(null,t),i=Ts(i,r),t.callbackPriority=e,t.callbackNode=i,e}return r!==null&&r!==null&&Aa(r),t.callbackPriority=2,t.callbackNode=null,2}function km(t,e){if(Ce!==0&&Ce!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(eu()&&t.callbackNode!==i)return null;var r=Lt;return r=Os(t,t===te?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(hm(t,r,e),Nm(t,Ge()),t.callbackNode!=null&&t.callbackNode===i?km.bind(null,t):null)}function jm(t,e){if(eu())return null;hm(t,e,!0)}function cg(){xg(function(){(Zt&6)!==0?Ts(Es,ug):Cm()})}function lh(){if(ga===0){var t=Ks;t===0&&(t=ka,ka<<=1,(ka&261888)===0&&(ka=256)),ga=t}return ga}function Rm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$i(""+t)}function Lm(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function hg(t,e,i,r,h){if(e==="submit"&&i&&i.stateNode===h){var f=Rm((h[ke]||null).action),v=r.submitter;v&&(e=(e=v[ke]||null)?Rm(e.formAction):v.getAttribute("formAction"),e!==null&&(f=e,v=null));var T=new js("action","action",null,r,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ga!==0){var A=v?Lm(h,v):new FormData(h);Cc(i,{pending:!0,data:A,method:h.method,action:f},null,A)}}else typeof f=="function"&&(T.preventDefault(),A=v?Lm(h,v):new FormData(h),Cc(i,{pending:!0,data:A,method:h.method,action:f},f,A))},currentTarget:h}]})}}for(var uh=0;uh<ni.length;uh++){var ch=ni[uh],fg=ch.toLowerCase(),dg=ch[0].toUpperCase()+ch.slice(1);Fe(fg,"on"+dg)}Fe(Wa,"onAnimationEnd"),Fe(wl,"onAnimationIteration"),Fe(Fa,"onAnimationStart"),Fe("dblclick","onDoubleClick"),Fe("focusin","onFocus"),Fe("focusout","onBlur"),Fe(Fu,"onTransitionRun"),Fe(xl,"onTransitionStart"),Fe(tc,"onTransitionCancel"),Fe(ia,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(So));function Mm(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],h=r.event;r=r.listeners;t:{var f=void 0;if(e)for(var v=r.length-1;0<=v;v--){var T=r[v],A=T.instance,U=T.currentTarget;if(T=T.listener,A!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=U;try{f(h)}catch(K){ts(K)}h.currentTarget=null,f=A}else for(v=0;v<r.length;v++){if(T=r[v],A=T.instance,U=T.currentTarget,T=T.listener,A!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=U;try{f(h)}catch(K){ts(K)}h.currentTarget=null,f=A}}}}function jt(t,e){var i=e[Kn];i===void 0&&(i=e[Kn]=new Set);var r=t+"__bubble";i.has(r)||(zm(e,t,2,!1),i.add(r))}function hh(t,e,i){var r=0;e&&(r|=4),zm(i,t,r,e)}var au="_reactListening"+Math.random().toString(36).slice(2);function fh(t){if(!t[au]){t[au]=!0,el.forEach(function(i){i!=="selectionchange"&&(mg.has(i)||hh(i,!1,t),hh(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[au]||(e[au]=!0,hh("selectionchange",!1,e))}}function zm(t,e,i,r){switch(cp(e)){case 2:var h=Zg;break;case 8:h=Ig;break;default:h=Ah}i=h.bind(null,e,i,t),h=void 0,!qa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(h=!0),r?h!==void 0?t.addEventListener(e,i,{capture:!0,passive:h}):t.addEventListener(e,i,!0):h!==void 0?t.addEventListener(e,i,{passive:h}):t.addEventListener(e,i,!1)}function dh(t,e,i,r,h){var f=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var v=r.tag;if(v===3||v===4){var T=r.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=r.return;v!==null;){var A=v.tag;if((A===3||A===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=_i(T),v===null)return;if(A=v.tag,A===5||A===6||A===26||A===27){r=f=v;continue t}T=T.parentNode}}r=r.return}Pr(function(){var U=f,K=Pa(i),Q=[];t:{var q=Sl.get(t);if(q!==void 0){var G=js,ut=t;switch(t){case"keypress":if(Ha(i)===0)break t;case"keydown":case"keyup":G=ul;break;case"focusin":ut="focus",G=Zr;break;case"focusout":ut="blur",G=Zr;break;case"beforeblur":case"afterblur":G=Zr;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Ku;break;case Wa:case wl:case Fa:G=Ir;break;case ia:G=fl;break;case"scroll":case"scrollend":G=Rt;break;case"wheel":G=wi;break;case"copy":case"cut":case"paste":G=Sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=cl;break;case"toggle":case"beforetoggle":G=Ga}var gt=(e&4)!==0,Jt=!gt&&(t==="scroll"||t==="scrollend"),j=gt?q!==null?q+"Capture":null:q;gt=[];for(var k=U,D;k!==null;){var Y=k;if(D=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||D===null||j===null||(Y=yi(k,j),Y!=null&&gt.push(To(k,Y,D))),Jt)break;k=k.return}0<gt.length&&(q=new G(q,ut,null,i,K),Q.push({event:q,listeners:gt}))}}if((e&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&i!==ks&&(ut=i.relatedTarget||i.fromElement)&&(_i(ut)||ut[pi]))break t;if((G||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,G?(ut=i.relatedTarget||i.toElement,G=U,ut=ut?_i(ut):null,ut!==null&&(Jt=p(ut),gt=ut.tag,ut!==Jt||gt!==5&&gt!==27&&gt!==6)&&(ut=null)):(G=null,ut=U),G!==ut)){if(gt=al,Y="onMouseLeave",j="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(gt=cl,Y="onPointerLeave",j="onPointerEnter",k="pointer"),Jt=G==null?q:Yn(G),D=ut==null?q:Yn(ut),q=new gt(Y,k+"leave",G,i,K),q.target=Jt,q.relatedTarget=D,Y=null,_i(K)===U&&(gt=new gt(j,k+"enter",ut,i,K),gt.target=D,gt.relatedTarget=Jt,Y=gt),Jt=Y,G&&ut)e:{for(gt=pg,j=G,k=ut,D=0,Y=j;Y;Y=gt(Y))D++;Y=0;for(var pt=k;pt;pt=gt(pt))Y++;for(;0<D-Y;)j=gt(j),D--;for(;0<Y-D;)k=gt(k),Y--;for(;D--;){if(j===k||k!==null&&j===k.alternate){gt=j;break e}j=gt(j),k=gt(k)}gt=null}else gt=null;G!==null&&Dm(Q,q,G,gt,!1),ut!==null&&Jt!==null&&Dm(Q,Jt,ut,gt,!0)}}t:{if(q=U?Yn(U):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Pt=Ya;else if(Tn(q))if(_l)Pt=Wu;else{Pt=Qu;var ct=Bn}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?U&&Ba(U.elementType)&&(Pt=Ya):Pt=Fi;if(Pt&&(Pt=Pt(t,U))){pl(Q,Pt,i,K);break t}ct&&ct(t,q,U),t==="focusout"&&U&&q.type==="number"&&U.memoizedProps.value!=null&&zn(q,"number",q.value)}switch(ct=U?Yn(U):window,t){case"focusin":(Tn(ct)||ct.contentEditable==="true")&&(ti=ct,qs=U,Qa=null);break;case"focusout":Qa=qs=ti=null;break;case"mousedown":ea=!0;break;case"contextmenu":case"mouseup":case"dragend":ea=!1,yl(Q,i,K);break;case"selectionchange":if(Ps)break;case"keydown":case"keyup":yl(Q,i,K)}var Et;if(Ls)t:{switch(t){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Ji?ml(t,i)&&(Mt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Mt="onCompositionStart");Mt&&(Ms&&i.locale!=="ko"&&(Ji||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Ji&&(Et=Qn()):(xn=K,bi="value"in xn?xn.value:xn.textContent,Ji=!0)),ct=su(U,Mt),0<ct.length&&(Mt=new Gr(Mt,t,null,i,K),Q.push({event:Mt,listeners:ct}),Et?Mt.data=Et:(Et=Yr(i),Et!==null&&(Mt.data=Et)))),(Et=Xu?fn(t,i):Qi(t,i))&&(Mt=su(U,"onBeforeInput"),0<Mt.length&&(ct=new Gr("onBeforeInput","beforeinput",null,i,K),Q.push({event:ct,listeners:Mt}),ct.data=Et)),hg(Q,t,U,i,K)}Mm(Q,e)})}function To(t,e,i){return{instance:t,listener:e,currentTarget:i}}function su(t,e){for(var i=e+"Capture",r=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=yi(t,i),h!=null&&r.unshift(To(t,h,f)),h=yi(t,e),h!=null&&r.push(To(t,h,f))),t.tag===3)return r;t=t.return}return[]}function pg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dm(t,e,i,r,h){for(var f=e._reactName,v=[];i!==null&&i!==r;){var T=i,A=T.alternate,U=T.stateNode;if(T=T.tag,A!==null&&A===r)break;T!==5&&T!==26&&T!==27||U===null||(A=U,h?(U=yi(i,f),U!=null&&v.unshift(To(i,U,A))):h||(U=yi(i,f),U!=null&&v.push(To(i,U,A)))),i=i.return}v.length!==0&&t.push({event:e,listeners:v})}var _g=/\r\n?/g,gg=/\u0000|\uFFFD/g;function Um(t){return(typeof t=="string"?t:""+t).replace(_g,`
`).replace(gg,"")}function Bm(t,e){return e=Um(e),Um(t)===e}function Xt(t,e,i,r,h,f){switch(i){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||wn(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&wn(t,""+r);break;case"className":Kt(t,"class",r);break;case"tabIndex":Kt(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Kt(t,i,r);break;case"style":Cs(t,r,f);break;case"data":if(e!=="object"){Kt(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=$i(""+r),t.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(e!=="input"&&Xt(t,e,"name",h.name,h,null),Xt(t,e,"formEncType",h.formEncType,h,null),Xt(t,e,"formMethod",h.formMethod,h,null),Xt(t,e,"formTarget",h.formTarget,h,null)):(Xt(t,e,"encType",h.encType,h,null),Xt(t,e,"method",h.method,h,null),Xt(t,e,"target",h.target,h,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=$i(""+r),t.setAttribute(i,r);break;case"onClick":r!=null&&(t.onclick=Qe);break;case"onScroll":r!=null&&jt("scroll",t);break;case"onScrollEnd":r!=null&&jt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(u(61));if(i=r.__html,i!=null){if(h.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}i=$i(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""+r):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":r===!0?t.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,r):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(i,r):t.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(i):t.setAttribute(i,r);break;case"popover":jt("beforetoggle",t),jt("toggle",t),Ct(t,"popover",r);break;case"xlinkActuate":Je(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Je(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Je(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Je(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Je(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Je(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Je(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Je(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Je(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ct(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Ns.get(i)||i,Ct(t,i,r))}}function mh(t,e,i,r,h,f){switch(i){case"style":Cs(t,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(u(61));if(i=r.__html,i!=null){if(h.children!=null)throw Error(u(60));t.innerHTML=i}}break;case"children":typeof r=="string"?wn(t,r):(typeof r=="number"||typeof r=="bigint")&&wn(t,""+r);break;case"onScroll":r!=null&&jt("scroll",t);break;case"onScrollEnd":r!=null&&jt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Qe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),e=i.slice(2,h?i.length-7:void 0),f=t[ke]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(e,f,h),typeof r=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,r,h);break t}i in t?t[i]=r:r===!0?t.setAttribute(i,""):Ct(t,i,r)}}}function Be(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",t),jt("load",t);var r=!1,h=!1,f;for(f in i)if(i.hasOwnProperty(f)){var v=i[f];if(v!=null)switch(f){case"src":r=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:Xt(t,e,f,v,i,null)}}h&&Xt(t,e,"srcSet",i.srcSet,i,null),r&&Xt(t,e,"src",i.src,i,null);return;case"input":jt("invalid",t);var T=f=v=h=null,A=null,U=null;for(r in i)if(i.hasOwnProperty(r)){var K=i[r];if(K!=null)switch(r){case"name":h=K;break;case"type":v=K;break;case"checked":A=K;break;case"defaultChecked":U=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(u(137,e));break;default:Xt(t,e,r,K,i,null)}}Ua(t,f,T,A,U,v,h,!1);return;case"select":jt("invalid",t),r=v=f=null;for(h in i)if(i.hasOwnProperty(h)&&(T=i[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":r=T;default:Xt(t,e,h,T,i,null)}e=f,i=v,t.multiple=!!r,e!=null?Ft(t,!!r,e,!1):i!=null&&Ft(t,!!r,i,!0);return;case"textarea":jt("invalid",t),f=h=r=null;for(v in i)if(i.hasOwnProperty(v)&&(T=i[v],T!=null))switch(v){case"value":r=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(u(91));break;default:Xt(t,e,v,T,i,null)}Gi(t,r,h,f);return;case"option":for(A in i)i.hasOwnProperty(A)&&(r=i[A],r!=null)&&(A==="selected"?t.selected=r&&typeof r!="function"&&typeof r!="symbol":Xt(t,e,A,r,i,null));return;case"dialog":jt("beforetoggle",t),jt("toggle",t),jt("cancel",t),jt("close",t);break;case"iframe":case"object":jt("load",t);break;case"video":case"audio":for(r=0;r<So.length;r++)jt(So[r],t);break;case"image":jt("error",t),jt("load",t);break;case"details":jt("toggle",t);break;case"embed":case"source":case"link":jt("error",t),jt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in i)if(i.hasOwnProperty(U)&&(r=i[U],r!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,e));default:Xt(t,e,U,r,i,null)}return;default:if(Ba(e)){for(K in i)i.hasOwnProperty(K)&&(r=i[K],r!==void 0&&mh(t,e,K,r,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(r=i[T],r!=null&&Xt(t,e,T,r,i,null))}function vg(t,e,i,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,A=null,U=null,K=null;for(G in i){var Q=i[G];if(i.hasOwnProperty(G)&&Q!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":A=Q;default:r.hasOwnProperty(G)||Xt(t,e,G,null,r,Q)}}for(var q in r){var G=r[q];if(Q=i[q],r.hasOwnProperty(q)&&(G!=null||Q!=null))switch(q){case"type":f=G;break;case"name":h=G;break;case"checked":U=G;break;case"defaultChecked":K=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(u(137,e));break;default:G!==Q&&Xt(t,e,q,G,r,Q)}}Dr(t,v,T,A,U,K,f,h);return;case"select":G=v=T=q=null;for(f in i)if(A=i[f],i.hasOwnProperty(f)&&A!=null)switch(f){case"value":break;case"multiple":G=A;default:r.hasOwnProperty(f)||Xt(t,e,f,null,r,A)}for(h in r)if(f=r[h],A=i[h],r.hasOwnProperty(h)&&(f!=null||A!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==A&&Xt(t,e,h,f,r,A)}e=T,i=v,r=G,q!=null?Ft(t,!!i,q,!1):!!r!=!!i&&(e!=null?Ft(t,!!i,e,!0):Ft(t,!!i,i?[]:"",!1));return;case"textarea":G=q=null;for(T in i)if(h=i[T],i.hasOwnProperty(T)&&h!=null&&!r.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(t,e,T,null,r,h)}for(v in r)if(h=r[v],f=i[v],r.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(u(91));break;default:h!==f&&Xt(t,e,v,h,r,f)}Jn(t,q,G);return;case"option":for(var ut in i)q=i[ut],i.hasOwnProperty(ut)&&q!=null&&!r.hasOwnProperty(ut)&&(ut==="selected"?t.selected=!1:Xt(t,e,ut,null,r,q));for(A in r)q=r[A],G=i[A],r.hasOwnProperty(A)&&q!==G&&(q!=null||G!=null)&&(A==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":Xt(t,e,A,q,r,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in i)q=i[gt],i.hasOwnProperty(gt)&&q!=null&&!r.hasOwnProperty(gt)&&Xt(t,e,gt,null,r,q);for(U in r)if(q=r[U],G=i[U],r.hasOwnProperty(U)&&q!==G&&(q!=null||G!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(u(137,e));break;default:Xt(t,e,U,q,r,G)}return;default:if(Ba(e)){for(var Jt in i)q=i[Jt],i.hasOwnProperty(Jt)&&q!==void 0&&!r.hasOwnProperty(Jt)&&mh(t,e,Jt,void 0,r,q);for(K in r)q=r[K],G=i[K],!r.hasOwnProperty(K)||q===G||q===void 0&&G===void 0||mh(t,e,K,q,r,G);return}}for(var j in i)q=i[j],i.hasOwnProperty(j)&&q!=null&&!r.hasOwnProperty(j)&&Xt(t,e,j,null,r,q);for(Q in r)q=r[Q],G=i[Q],!r.hasOwnProperty(Q)||q===G||q==null&&G==null||Xt(t,e,Q,q,r,G)}function Pm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yg(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var h=i[r],f=h.transferSize,v=h.initiatorType,T=h.duration;if(f&&T&&Pm(v)){for(v=0,T=h.responseEnd,r+=1;r<i.length;r++){var A=i[r],U=A.startTime;if(U>T)break;var K=A.transferSize,Q=A.initiatorType;K&&Pm(Q)&&(A=A.responseEnd,v+=K*(A<T?1:(T-U)/(A-U)))}if(--r,e+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ph=null,_h=null;function ru(t){return t.nodeType===9?t:t.ownerDocument}function qm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hm(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function gh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vh=null;function bg(){var t=window.event;return t&&t.type==="popstate"?t===vh?!1:(vh=t,!0):(vh=null,!1)}var Zm=typeof setTimeout=="function"?setTimeout:void 0,wg=typeof clearTimeout=="function"?clearTimeout:void 0,Im=typeof Promise=="function"?Promise:void 0,xg=typeof queueMicrotask=="function"?queueMicrotask:typeof Im<"u"?function(t){return Im.resolve(null).then(t).catch(Sg)}:Zm;function Sg(t){setTimeout(function(){throw t})}function va(t){return t==="head"}function Gm(t,e){var i=e,r=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(r===0){t.removeChild(h),fr(e);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")Eo(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Eo(i);for(var f=i.firstChild;f;){var v=f.nextSibling,T=f.nodeName;f[Ma]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=v}}else i==="body"&&Eo(t.ownerDocument.body);i=h}while(i);fr(e)}function Vm(t,e){var i=t;t=0;do{var r=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=r}while(i)}function yh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":yh(i),Rr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function Tg(t,e,i,r){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Ma])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function Eg(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function $m(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=kn(t.nextSibling),t===null))return null;return t}function bh(t){return t.data==="$?"||t.data==="$~"}function wh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Og(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var r=function(){e(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var xh=null;function Km(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return kn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function Ym(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function Xm(t,e,i){switch(e=ru(i),t){case"html":if(t=e.documentElement,!t)throw Error(u(452));return t;case"head":if(t=e.head,!t)throw Error(u(453));return t;case"body":if(t=e.body,!t)throw Error(u(454));return t;default:throw Error(u(451))}}function Eo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Rr(t)}var jn=new Map,Jm=new Set;function ou(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Di=it.d;it.d={f:Ag,r:Cg,D:Ng,C:kg,L:jg,m:Rg,X:Mg,S:Lg,M:zg};function Ag(){var t=Di.f(),e=Wl();return t||e}function Cg(t){var e=Hi(t);e!==null&&e.tag===5&&e.type==="form"?dd(e):Di.r(t)}var ur=typeof document>"u"?null:document;function Qm(t,e,i){var r=ur;if(r&&typeof e=="string"&&e){var h=ie(e);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Jm.has(h)||(Jm.add(h),t={rel:t,crossOrigin:i,href:e},r.querySelector(h)===null&&(e=r.createElement("link"),Be(e,"link",t),ye(e),r.head.appendChild(e)))}}function Ng(t){Di.D(t),Qm("dns-prefetch",t,null)}function kg(t,e){Di.C(t,e),Qm("preconnect",t,e)}function jg(t,e,i){Di.L(t,e,i);var r=ur;if(r&&t&&e){var h='link[rel="preload"][as="'+ie(e)+'"]';e==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+ie(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+ie(i.imageSizes)+'"]')):h+='[href="'+ie(t)+'"]';var f=h;switch(e){case"style":f=cr(t);break;case"script":f=hr(t)}jn.has(f)||(t=N({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),jn.set(f,t),r.querySelector(h)!==null||e==="style"&&r.querySelector(Oo(f))||e==="script"&&r.querySelector(Ao(f))||(e=r.createElement("link"),Be(e,"link",t),ye(e),r.head.appendChild(e)))}}function Rg(t,e){Di.m(t,e);var i=ur;if(i&&t){var r=e&&typeof e.as=="string"?e.as:"script",h='link[rel="modulepreload"][as="'+ie(r)+'"][href="'+ie(t)+'"]',f=h;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=hr(t)}if(!jn.has(f)&&(t=N({rel:"modulepreload",href:t},e),jn.set(f,t),i.querySelector(h)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ao(f)))return}r=i.createElement("link"),Be(r,"link",t),ye(r),i.head.appendChild(r)}}}function Lg(t,e,i){Di.S(t,e,i);var r=ur;if(r&&t){var h=Zi(r).hoistableStyles,f=cr(t);e=e||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=r.querySelector(Oo(f)))T.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":e},i),(i=jn.get(f))&&Sh(t,i);var A=v=r.createElement("link");ye(A),Be(A,"link",t),A._p=new Promise(function(U,K){A.onload=U,A.onerror=K}),A.addEventListener("load",function(){T.loading|=1}),A.addEventListener("error",function(){T.loading|=2}),T.loading|=4,lu(v,e,r)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function Mg(t,e){Di.X(t,e);var i=ur;if(i&&t){var r=Zi(i).hoistableScripts,h=hr(t),f=r.get(h);f||(f=i.querySelector(Ao(h)),f||(t=N({src:t,async:!0},e),(e=jn.get(h))&&Th(t,e),f=i.createElement("script"),ye(f),Be(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(h,f))}}function zg(t,e){Di.M(t,e);var i=ur;if(i&&t){var r=Zi(i).hoistableScripts,h=hr(t),f=r.get(h);f||(f=i.querySelector(Ao(h)),f||(t=N({src:t,async:!0,type:"module"},e),(e=jn.get(h))&&Th(t,e),f=i.createElement("script"),ye(f),Be(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(h,f))}}function Wm(t,e,i,r){var h=(h=rt.current)?ou(h):null;if(!h)throw Error(u(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=cr(i.href),i=Zi(h).hoistableStyles,r=i.get(e),r||(r={type:"style",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=cr(i.href);var f=Zi(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Oo(t)))&&!f._p&&(v.instance=f,v.state.loading=5),jn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},jn.set(t,i),f||Dg(h,t,i,v.state))),e&&r===null)throw Error(u(528,""));return v}if(e&&r!==null)throw Error(u(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=hr(i),i=Zi(h).hoistableScripts,r=i.get(e),r||(r={type:"script",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,t))}}function cr(t){return'href="'+ie(t)+'"'}function Oo(t){return'link[rel="stylesheet"]['+t+"]"}function Fm(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function Dg(t,e,i,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Be(e,"link",i),ye(e),t.head.appendChild(e))}function hr(t){return'[src="'+ie(t)+'"]'}function Ao(t){return"script[async]"+t}function tp(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+ie(i.href)+'"]');if(r)return e.instance=r,ye(r),r;var h=N({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ye(r),Be(r,"style",h),lu(r,i.precedence,t),e.instance=r;case"stylesheet":h=cr(i.href);var f=t.querySelector(Oo(h));if(f)return e.state.loading|=4,e.instance=f,ye(f),f;r=Fm(i),(h=jn.get(h))&&Sh(r,h),f=(t.ownerDocument||t).createElement("link"),ye(f);var v=f;return v._p=new Promise(function(T,A){v.onload=T,v.onerror=A}),Be(f,"link",r),e.state.loading|=4,lu(f,i.precedence,t),e.instance=f;case"script":return f=hr(i.src),(h=t.querySelector(Ao(f)))?(e.instance=h,ye(h),h):(r=i,(h=jn.get(f))&&(r=N({},i),Th(r,h)),t=t.ownerDocument||t,h=t.createElement("script"),ye(h),Be(h,"link",r),t.head.appendChild(h),e.instance=h);case"void":return null;default:throw Error(u(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,lu(r,i.precedence,t));return e.instance}function lu(t,e,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=r.length?r[r.length-1]:null,f=h,v=0;v<r.length;v++){var T=r[v];if(T.dataset.precedence===e)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function Sh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Th(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var uu=null;function ep(t,e,i){if(uu===null){var r=new Map,h=uu=new Map;h.set(i,r)}else h=uu,r=h.get(i),r||(r=new Map,h.set(i,r));if(r.has(t))return r;for(r.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var f=i[h];if(!(f[Ma]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(e)||"";v=t+v;var T=r.get(v);T?T.push(f):r.set(v,[f])}}return r}function np(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function Ug(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function ip(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Bg(t,e,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=cr(r.href),f=e.querySelector(Oo(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=cu.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=f,ye(f);return}f=e.ownerDocument||e,r=Fm(r),(h=jn.get(h))&&Sh(r,h),f=f.createElement("link"),ye(f);var v=f;v._p=new Promise(function(T,A){v.onload=T,v.onerror=A}),Be(f,"link",r),i.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=cu.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var Eh=0;function Pg(t,e){return t.stylesheets&&t.count===0&&fu(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var r=setTimeout(function(){if(t.stylesheets&&fu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+e);0<t.imgBytes&&Eh===0&&(Eh=62500*yg());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&fu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Eh?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(h)}}:null}function cu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hu=null;function fu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hu=new Map,e.forEach(qg,t),hu=null,cu.call(t))}function qg(t,e){if(!(e.state.loading&4)){var i=hu.get(t);if(i)var r=i.get(null);else{i=new Map,hu.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),r=v)}r&&i.set(null,r)}h=e.instance,v=h.getAttribute("data-precedence"),f=i.get(v)||r,f===r&&i.set(null,h),i.set(v,h),this.count++,r=cu.bind(this),h.addEventListener("load",r),h.addEventListener("error",r),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),e.state.loading|=4}}var Co={$$typeof:I,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function Hg(t,e,i,r,h,f,v,T,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.hiddenUpdates=Nr(null),this.identifierPrefix=r,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function ap(t,e,i,r,h,f,v,T,A,U,K,Q){return t=new Hg(t,e,i,v,A,U,K,Q,T),e=1,f===!0&&(e|=24),f=Ze(3,null,null,e),t.current=f,f.stateNode=t,e=ac(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:r,isDehydrated:i,cache:e},lc(f),t}function sp(t){return t?(t=xi,t):xi}function rp(t,e,i,r,h,f){h=sp(h),r.context===null?r.context=h:r.pendingContext=h,r=oa(e),r.payload={element:i},f=f===void 0?null:f,f!==null&&(r.callback=f),i=la(t,r,e),i!==null&&(on(i,t,e),so(i,t,e))}function op(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Oh(t,e){op(t,e),(t=t.alternate)&&op(t,e)}function lp(t){if(t.tag===13||t.tag===31){var e=An(t,67108864);e!==null&&on(e,t,67108864),Oh(t,67108864)}}function up(t){if(t.tag===13||t.tag===31){var e=gn();e=Xe(e);var i=An(t,e);i!==null&&on(i,t,e),Oh(t,e)}}var du=!0;function Zg(t,e,i,r){var h=V.T;V.T=null;var f=it.p;try{it.p=2,Ah(t,e,i,r)}finally{it.p=f,V.T=h}}function Ig(t,e,i,r){var h=V.T;V.T=null;var f=it.p;try{it.p=8,Ah(t,e,i,r)}finally{it.p=f,V.T=h}}function Ah(t,e,i,r){if(du){var h=Ch(r);if(h===null)dh(t,e,r,mu,i),hp(t,r);else if(Vg(h,t,e,i,r))r.stopPropagation();else if(hp(t,r),e&4&&-1<Gg.indexOf(t)){for(;h!==null;){var f=Hi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=di(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var A=1<<31-Ve(v);T.entanglements[1]|=A,v&=~A}li(f),(Zt&6)===0&&(Jl=Ge()+500,xo(0))}}break;case 31:case 13:T=An(f,2),T!==null&&on(T,f,2),Wl(),Oh(f,2)}if(f=Ch(r),f===null&&dh(t,e,r,mu,i),f===h)break;h=f}h!==null&&r.stopPropagation()}else dh(t,e,r,null,i)}}function Ch(t){return t=Pa(t),Nh(t)}var mu=null;function Nh(t){if(mu=null,t=_i(t),t!==null){var e=p(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=_(e),t!==null)return t;t=null}else if(i===31){if(t=w(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return mu=t,null}function cp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mu()){case Es:return 2;case Ar:return 8;case Ca:case zu:return 32;case Cr:return 268435456;default:return 32}default:return 32}}var kh=!1,ya=null,ba=null,wa=null,No=new Map,ko=new Map,xa=[],Gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hp(t,e){switch(t){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":No.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(e.pointerId)}}function jo(t,e,i,r,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:f,targetContainers:[h]},e!==null&&(e=Hi(e),e!==null&&lp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,h!==null&&e.indexOf(h)===-1&&e.push(h),t)}function Vg(t,e,i,r,h){switch(e){case"focusin":return ya=jo(ya,t,e,i,r,h),!0;case"dragenter":return ba=jo(ba,t,e,i,r,h),!0;case"mouseover":return wa=jo(wa,t,e,i,r,h),!0;case"pointerover":var f=h.pointerId;return No.set(f,jo(No.get(f)||null,t,e,i,r,h)),!0;case"gotpointercapture":return f=h.pointerId,ko.set(f,jo(ko.get(f)||null,t,e,i,r,h)),!0}return!1}function fp(t){var e=_i(t.target);if(e!==null){var i=p(e);if(i!==null){if(e=i.tag,e===13){if(e=_(i),e!==null){t.blockedOn=e,jr(t.priority,function(){up(i)});return}}else if(e===31){if(e=w(i),e!==null){t.blockedOn=e,jr(t.priority,function(){up(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Ch(t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);ks=r,i.target.dispatchEvent(r),ks=null}else return e=Hi(i),e!==null&&lp(e),t.blockedOn=i,!1;e.shift()}return!0}function dp(t,e,i){pu(t)&&i.delete(e)}function $g(){kh=!1,ya!==null&&pu(ya)&&(ya=null),ba!==null&&pu(ba)&&(ba=null),wa!==null&&pu(wa)&&(wa=null),No.forEach(dp),ko.forEach(dp)}function _u(t,e){t.blockedOn===e&&(t.blockedOn=null,kh||(kh=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,$g)))}var gu=null;function mp(t){gu!==t&&(gu=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){gu===t&&(gu=null);for(var e=0;e<t.length;e+=3){var i=t[e],r=t[e+1],h=t[e+2];if(typeof r!="function"){if(Nh(r||i)===null)continue;break}var f=Hi(i);f!==null&&(t.splice(e,3),e-=3,Cc(f,{pending:!0,data:h,method:i.method,action:r},r,h))}}))}function fr(t){function e(A){return _u(A,t)}ya!==null&&_u(ya,t),ba!==null&&_u(ba,t),wa!==null&&_u(wa,t),No.forEach(e),ko.forEach(e);for(var i=0;i<xa.length;i++){var r=xa[i];r.blockedOn===t&&(r.blockedOn=null)}for(;0<xa.length&&(i=xa[0],i.blockedOn===null);)fp(i),i.blockedOn===null&&xa.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var h=i[r],f=i[r+1],v=h[ke]||null;if(typeof f=="function")v||mp(i);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[ke]||null)T=v.formAction;else if(Nh(h)!==null)continue}else T=v.action;typeof T=="function"?i[r+1]=T:(i.splice(r,3),r-=3),mp(i)}}}function pp(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function e(){h!==null&&(h(),h=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),h!==null&&(h(),h=null)}}}function jh(t){this._internalRoot=t}vu.prototype.render=jh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(u(409));var i=e.current,r=gn();rp(i,r,t,e,null,null)},vu.prototype.unmount=jh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rp(t.current,2,null,t,null,null),Wl(),e[pi]=null}};function vu(t){this._internalRoot=t}vu.prototype.unstable_scheduleHydration=function(t){if(t){var e=kr();t={blockedOn:null,target:t,priority:e};for(var i=0;i<xa.length&&e!==0&&e<xa[i].priority;i++);xa.splice(i,0,t),i===0&&fp(t)}};var _p=a.version;if(_p!=="19.2.3")throw Error(u(527,_p,"19.2.3"));it.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(u(188)):(t=Object.keys(t).join(","),Error(u(268,t)));return t=x(e),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Kg={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{qi=yu.inject(Kg),Me=yu}catch{}}return Lo.createRoot=function(t,e){if(!d(t))throw Error(u(299));var i=!1,r="",h=Sd,f=Td,v=Ed;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(h=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(v=e.onRecoverableError)),e=ap(t,1,!1,null,null,i,r,null,h,f,v,pp),t[pi]=e.current,fh(t),new jh(e)},Lo.hydrateRoot=function(t,e,i){if(!d(t))throw Error(u(299));var r=!1,h="",f=Sd,v=Td,T=Ed,A=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.formState!==void 0&&(A=i.formState)),e=ap(t,1,!0,e,i??null,r,h,A,f,v,T,pp),e.context=sp(null),i=e.current,r=gn(),r=Xe(r),h=oa(r),h.callback=null,la(i,h,r),i=r,e.current.lanes=i,mi(e,i),li(e),t[pi]=e.current,fh(t),new vu(e)},Lo.version="19.2.3",Lo}var Op;function nv(){if(Op)return Mh.exports;Op=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Mh.exports=ev(),Mh.exports}var iv=nv();const av=hf(iv);function ku(l,a){var o={};for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&a.indexOf(u)<0&&(o[u]=l[u]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,u=Object.getOwnPropertySymbols(l);d<u.length;d++)a.indexOf(u[d])<0&&Object.prototype.propertyIsEnumerable.call(l,u[d])&&(o[u[d]]=l[u[d]]);return o}function sv(l,a,o,u){function d(p){return p instanceof o?p:new o(function(_){_(p)})}return new(o||(o=Promise))(function(p,_){function w(E){try{x(u.next(E))}catch(N){_(N)}}function y(E){try{x(u.throw(E))}catch(N){_(N)}}function x(E){E.done?p(E.value):d(E.value).then(w,y)}x((u=u.apply(l,a||[])).next())})}const rv=l=>l?(...a)=>l(...a):(...a)=>fetch(...a);class df extends Error{constructor(a,o="FunctionsError",u){super(a),this.name=o,this.context=u}}class ov extends df{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Ap extends df{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Cp extends df{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Xh;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Xh||(Xh={}));class lv{constructor(a,{headers:o={},customFetch:u,region:d=Xh.Any}={}){this.url=a,this.headers=o,this.region=d,this.fetch=rv(u)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return sv(this,arguments,void 0,function*(o,u={}){var d;let p,_;try{const{headers:w,method:y,body:x,signal:E,timeout:N}=u;let M={},{region:z}=u;z||(z=this.region);const B=new URL(`${this.url}/${o}`);z&&z!=="any"&&(M["x-region"]=z,B.searchParams.set("forceFunctionRegion",z));let Z;x&&(w&&!Object.prototype.hasOwnProperty.call(w,"Content-Type")||!w)?typeof Blob<"u"&&x instanceof Blob||x instanceof ArrayBuffer?(M["Content-Type"]="application/octet-stream",Z=x):typeof x=="string"?(M["Content-Type"]="text/plain",Z=x):typeof FormData<"u"&&x instanceof FormData?Z=x:(M["Content-Type"]="application/json",Z=JSON.stringify(x)):x&&typeof x!="string"&&!(typeof Blob<"u"&&x instanceof Blob)&&!(x instanceof ArrayBuffer)&&!(typeof FormData<"u"&&x instanceof FormData)?Z=JSON.stringify(x):Z=x;let H=E;N&&(_=new AbortController,p=setTimeout(()=>_.abort(),N),E?(H=_.signal,E.addEventListener("abort",()=>_.abort())):H=_.signal);const W=yield this.fetch(B.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},M),this.headers),w),body:Z,signal:H}).catch(zt=>{throw new ov(zt)}),X=W.headers.get("x-relay-error");if(X&&X==="true")throw new Ap(W);if(!W.ok)throw new Cp(W);let I=((d=W.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),dt;return I==="application/json"?dt=yield W.json():I==="application/octet-stream"||I==="application/pdf"?dt=yield W.blob():I==="text/event-stream"?dt=W:I==="multipart/form-data"?dt=yield W.formData():dt=yield W.text(),{data:dt,error:null,response:W}}catch(w){return{data:null,error:w,response:w instanceof Cp||w instanceof Ap?w.context:void 0}}finally{p&&clearTimeout(p)}})}}var uv=class extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}},cv=class{constructor(l){var a,o;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(a=l.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=l.signal,this.isMaybeSingle=(o=l.isMaybeSingle)!==null&&o!==void 0?o:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,a){return this.headers=new Headers(this.headers),this.headers.set(l,a),this}then(l,a){var o=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{let _=null,w=null,y=null,x=p.status,E=p.statusText;if(p.ok){var N,M;if(o.method!=="HEAD"){var z;const W=await p.text();W===""||(o.headers.get("Accept")==="text/csv"||o.headers.get("Accept")&&(!((z=o.headers.get("Accept"))===null||z===void 0)&&z.includes("application/vnd.pgrst.plan+text"))?w=W:w=JSON.parse(W))}const Z=(N=o.headers.get("Prefer"))===null||N===void 0?void 0:N.match(/count=(exact|planned|estimated)/),H=(M=p.headers.get("content-range"))===null||M===void 0?void 0:M.split("/");Z&&H&&H.length>1&&(y=parseInt(H[1])),o.isMaybeSingle&&o.method==="GET"&&Array.isArray(w)&&(w.length>1?(_={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,y=null,x=406,E="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{var B;const Z=await p.text();try{_=JSON.parse(Z),Array.isArray(_)&&p.status===404&&(w=[],_=null,x=200,E="OK")}catch{p.status===404&&Z===""?(x=204,E="No Content"):_={message:Z}}if(_&&o.isMaybeSingle&&(!(_==null||(B=_.details)===null||B===void 0)&&B.includes("0 rows"))&&(_=null,x=200,E="OK"),_&&o.shouldThrowOnError)throw new uv(_)}return{error:_,data:w,count:y,status:x,statusText:E}});return this.shouldThrowOnError||(d=d.catch(p=>{var _;let w="";const y=p?.cause;if(y){var x,E,N,M;const B=(x=y?.message)!==null&&x!==void 0?x:"",Z=(E=y?.code)!==null&&E!==void 0?E:"";w=`${(N=p?.name)!==null&&N!==void 0?N:"FetchError"}: ${p?.message}`,w+=`

Caused by: ${(M=y?.name)!==null&&M!==void 0?M:"Error"}: ${B}`,Z&&(w+=` (${Z})`),y?.stack&&(w+=`
${y.stack}`)}else{var z;w=(z=p?.stack)!==null&&z!==void 0?z:""}return{error:{message:`${(_=p?.name)!==null&&_!==void 0?_:"FetchError"}: ${p?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(l,a)}returns(){return this}overrideTypes(){return this}},hv=class extends cv{select(l){let a=!1;const o=(l??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:a=!0,nullsFirst:o,foreignTable:u,referencedTable:d=u}={}){const p=d?`${d}.order`:"order",_=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${_?`${_},`:""}${l}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${l}`),this}range(l,a,{foreignTable:o,referencedTable:u=o}={}){const d=typeof u>"u"?"offset":`${u}.offset`,p=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${l}`),this.url.searchParams.set(p,`${a-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:a=!1,settings:o=!1,buffers:u=!1,wal:d=!1,format:p="text"}={}){var _;const w=[l?"analyze":null,a?"verbose":null,o?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${y}"; options=${w};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};const Np=new RegExp("[,()]");var yr=class extends hv{eq(l,a){return this.url.searchParams.append(l,`eq.${a}`),this}neq(l,a){return this.url.searchParams.append(l,`neq.${a}`),this}gt(l,a){return this.url.searchParams.append(l,`gt.${a}`),this}gte(l,a){return this.url.searchParams.append(l,`gte.${a}`),this}lt(l,a){return this.url.searchParams.append(l,`lt.${a}`),this}lte(l,a){return this.url.searchParams.append(l,`lte.${a}`),this}like(l,a){return this.url.searchParams.append(l,`like.${a}`),this}likeAllOf(l,a){return this.url.searchParams.append(l,`like(all).{${a.join(",")}}`),this}likeAnyOf(l,a){return this.url.searchParams.append(l,`like(any).{${a.join(",")}}`),this}ilike(l,a){return this.url.searchParams.append(l,`ilike.${a}`),this}ilikeAllOf(l,a){return this.url.searchParams.append(l,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(l,a){return this.url.searchParams.append(l,`ilike(any).{${a.join(",")}}`),this}regexMatch(l,a){return this.url.searchParams.append(l,`match.${a}`),this}regexIMatch(l,a){return this.url.searchParams.append(l,`imatch.${a}`),this}is(l,a){return this.url.searchParams.append(l,`is.${a}`),this}isDistinct(l,a){return this.url.searchParams.append(l,`isdistinct.${a}`),this}in(l,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&Np.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(l,`in.(${o})`),this}notIn(l,a){const o=Array.from(new Set(a)).map(u=>typeof u=="string"&&Np.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(l,`not.in.(${o})`),this}contains(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cs.{${a.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(a)}`),this}containedBy(l,a){return typeof a=="string"?this.url.searchParams.append(l,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(l,`cd.{${a.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(a)}`),this}rangeGt(l,a){return this.url.searchParams.append(l,`sr.${a}`),this}rangeGte(l,a){return this.url.searchParams.append(l,`nxl.${a}`),this}rangeLt(l,a){return this.url.searchParams.append(l,`sl.${a}`),this}rangeLte(l,a){return this.url.searchParams.append(l,`nxr.${a}`),this}rangeAdjacent(l,a){return this.url.searchParams.append(l,`adj.${a}`),this}overlaps(l,a){return typeof a=="string"?this.url.searchParams.append(l,`ov.${a}`):this.url.searchParams.append(l,`ov.{${a.join(",")}}`),this}textSearch(l,a,{config:o,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const p=o===void 0?"":`(${o})`;return this.url.searchParams.append(l,`${d}fts${p}.${a}`),this}match(l){return Object.entries(l).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(l,a,o){return this.url.searchParams.append(l,`not.${a}.${o}`),this}or(l,{foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${l})`),this}filter(l,a,o){return this.url.searchParams.append(l,`${a}.${o}`),this}},fv=class{constructor(l,{headers:a={},schema:o,fetch:u}){this.url=l,this.headers=new Headers(a),this.schema=o,this.fetch=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(l,a){const{head:o=!1,count:u}=a??{},d=o?"HEAD":"GET";let p=!1;const _=(l??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join(""),{url:w,headers:y}=this.cloneRequestState();return w.searchParams.set("select",_),u&&y.append("Prefer",`count=${u}`),new yr({method:d,url:w,headers:y,schema:this.schema,fetch:this.fetch})}insert(l,{count:a,defaultToNull:o=!0}={}){var u;const d="POST",{url:p,headers:_}=this.cloneRequestState();if(a&&_.append("Prefer",`count=${a}`),o||_.append("Prefer","missing=default"),Array.isArray(l)){const w=l.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(w.length>0){const y=[...new Set(w)].map(x=>`"${x}"`);p.searchParams.set("columns",y.join(","))}}return new yr({method:d,url:p,headers:_,schema:this.schema,body:l,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(l,{onConflict:a,ignoreDuplicates:o=!1,count:u,defaultToNull:d=!0}={}){var p;const _="POST",{url:w,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&w.searchParams.set("on_conflict",a),u&&y.append("Prefer",`count=${u}`),d||y.append("Prefer","missing=default"),Array.isArray(l)){const x=l.reduce((E,N)=>E.concat(Object.keys(N)),[]);if(x.length>0){const E=[...new Set(x)].map(N=>`"${N}"`);w.searchParams.set("columns",E.join(","))}}return new yr({method:_,url:w,headers:y,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(l,{count:a}={}){var o;const u="PATCH",{url:d,headers:p}=this.cloneRequestState();return a&&p.append("Prefer",`count=${a}`),new yr({method:u,url:d,headers:p,schema:this.schema,body:l,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:l}={}){var a;const o="DELETE",{url:u,headers:d}=this.cloneRequestState();return l&&d.append("Prefer",`count=${l}`),new yr({method:o,url:u,headers:d,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},dv=class t_{constructor(a,{headers:o={},schema:u,fetch:d}={}){this.url=a,this.headers=new Headers(o),this.schemaName=u,this.fetch=d}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new fv(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new t_(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:u=!1,get:d=!1,count:p}={}){var _;let w;const y=new URL(`${this.url}/rpc/${a}`);let x;const E=z=>z!==null&&typeof z=="object"&&(!Array.isArray(z)||z.some(E)),N=u&&Object.values(o).some(E);N?(w="POST",x=o):u||d?(w=u?"HEAD":"GET",Object.entries(o).filter(([z,B])=>B!==void 0).map(([z,B])=>[z,Array.isArray(B)?`{${B.join(",")}}`:`${B}`]).forEach(([z,B])=>{y.searchParams.append(z,B)})):(w="POST",x=o);const M=new Headers(this.headers);return N?M.set("Prefer",p?`count=${p},return=minimal`:"return=minimal"):p&&M.set("Prefer",`count=${p}`),new yr({method:w,url:y,headers:M,schema:this.schemaName,body:x,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}};class mv{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const o=globalThis.process;if(o){const u=o.versions;if(u&&u.node){const d=u.node,p=parseInt(d.replace(/^v/,"").split(".")[0]);return p>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${p} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${p} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let o=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(o+=`

Suggested solution: ${a.workaround}`),new Error(o)}static createWebSocket(a,o){const u=this.getWebSocketConstructor();return new u(a,o)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const pv="2.90.1",_v=`realtime-js/${pv}`,e_="1.0.0",gv="2.0.0",kp=e_,Jh=1e4,vv=1e3,yv=100;var Ta;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Ta||(Ta={}));var Ne;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Ne||(Ne={}));var $n;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})($n||($n={}));var Qh;(function(l){l.websocket="websocket"})(Qh||(Qh={}));var vs;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(vs||(vs={}));class bv{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,o){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return o(this._binaryEncodeUserBroadcastPush(a));let u=[a.join_ref,a.ref,a.topic,a.event,a.payload];return o(JSON.stringify(u))}_binaryEncodeUserBroadcastPush(a){var o;return this._isArrayBuffer((o=a.payload)===null||o===void 0?void 0:o.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var o,u;const d=(u=(o=a.payload)===null||o===void 0?void 0:o.payload)!==null&&u!==void 0?u:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(a){var o,u;const d=(u=(o=a.payload)===null||o===void 0?void 0:o.payload)!==null&&u!==void 0?u:{},_=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,_)}_encodeUserBroadcastPush(a,o,u){var d,p;const _=a.topic,w=(d=a.ref)!==null&&d!==void 0?d:"",y=(p=a.join_ref)!==null&&p!==void 0?p:"",x=a.payload.event,E=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},N=Object.keys(E).length===0?"":JSON.stringify(E);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`ref length ${w.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`topic length ${_.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`userEvent length ${x.length} exceeds maximum of 255`);if(N.length>255)throw new Error(`metadata length ${N.length} exceeds maximum of 255`);const M=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+w.length+_.length+x.length+N.length,z=new ArrayBuffer(this.HEADER_LENGTH+M);let B=new DataView(z),Z=0;B.setUint8(Z++,this.KINDS.userBroadcastPush),B.setUint8(Z++,y.length),B.setUint8(Z++,w.length),B.setUint8(Z++,_.length),B.setUint8(Z++,x.length),B.setUint8(Z++,N.length),B.setUint8(Z++,o),Array.from(y,W=>B.setUint8(Z++,W.charCodeAt(0))),Array.from(w,W=>B.setUint8(Z++,W.charCodeAt(0))),Array.from(_,W=>B.setUint8(Z++,W.charCodeAt(0))),Array.from(x,W=>B.setUint8(Z++,W.charCodeAt(0))),Array.from(N,W=>B.setUint8(Z++,W.charCodeAt(0)));var H=new Uint8Array(z.byteLength+u.byteLength);return H.set(new Uint8Array(z),0),H.set(new Uint8Array(u),z.byteLength),H.buffer}decode(a,o){if(this._isArrayBuffer(a)){let u=this._binaryDecode(a);return o(u)}if(typeof a=="string"){const u=JSON.parse(a),[d,p,_,w,y]=u;return o({join_ref:d,ref:p,topic:_,event:w,payload:y})}return o({})}_binaryDecode(a){const o=new DataView(a),u=o.getUint8(0),d=new TextDecoder;if(u===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,o,d)}_decodeUserBroadcast(a,o,u){const d=o.getUint8(1),p=o.getUint8(2),_=o.getUint8(3),w=o.getUint8(4);let y=this.HEADER_LENGTH+4;const x=u.decode(a.slice(y,y+d));y=y+d;const E=u.decode(a.slice(y,y+p));y=y+p;const N=u.decode(a.slice(y,y+_));y=y+_;const M=a.slice(y,a.byteLength),z=w===this.JSON_ENCODING?JSON.parse(u.decode(M)):M,B={type:this.BROADCAST_EVENT,event:E,payload:z};return _>0&&(B.meta=JSON.parse(N)),{join_ref:null,ref:null,topic:x,event:this.BROADCAST_EVENT,payload:B}}_isArrayBuffer(a){var o;return a instanceof ArrayBuffer||((o=a?.constructor)===null||o===void 0?void 0:o.name)==="ArrayBuffer"}_pick(a,o){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([u])=>o.includes(u)))}}class n_{constructor(a,o){this.callback=a,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(ne||(ne={}));const jp=(l,a,o={})=>{var u;const d=(u=o.skipTypes)!==null&&u!==void 0?u:[];return a?Object.keys(a).reduce((p,_)=>(p[_]=wv(_,l,a,d),p),{}):{}},wv=(l,a,o,u)=>{const d=a.find(w=>w.name===l),p=d?.type,_=o[l];return p&&!u.includes(p)?i_(p,_):Wh(_)},i_=(l,a)=>{if(l.charAt(0)==="_"){const o=l.slice(1,l.length);return Ev(a,o)}switch(l){case ne.bool:return xv(a);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return Sv(a);case ne.json:case ne.jsonb:return Tv(a);case ne.timestamp:return Ov(a);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return Wh(a);default:return Wh(a)}},Wh=l=>l,xv=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Sv=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},Tv=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l},Ev=(l,a)=>{if(typeof l!="string")return l;const o=l.length-1,u=l[o];if(l[0]==="{"&&u==="}"){let p;const _=l.slice(1,o);try{p=JSON.parse("["+_+"]")}catch{p=_?_.split(","):[]}return p.map(w=>i_(a,w))}return l},Ov=l=>typeof l=="string"?l.replace(" ","T"):l,a_=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Bh{constructor(a,o,u={},d=Jh){this.channel=a,this.event=o,this.payload=u,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,o){var u;return this._hasReceived(a)&&o((u=this.receivedResp)===null||u===void 0?void 0:u.response),this.recHooks.push({status:a,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:o}){this.recHooks.filter(u=>u.status===a).forEach(u=>u.callback(o))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Rp;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Rp||(Rp={}));class Uo{constructor(a,o){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const u=o?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(u.state,{},d=>{const{onJoin:p,onLeave:_,onSync:w}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uo.syncState(this.state,d,p,_),this.pendingDiffs.forEach(y=>{this.state=Uo.syncDiff(this.state,y,p,_)}),this.pendingDiffs=[],w()}),this.channel._on(u.diff,{},d=>{const{onJoin:p,onLeave:_,onSync:w}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=Uo.syncDiff(this.state,d,p,_),w())}),this.onJoin((d,p,_)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:p,newPresences:_})}),this.onLeave((d,p,_)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:p,leftPresences:_})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,o,u,d){const p=this.cloneDeep(a),_=this.transformState(o),w={},y={};return this.map(p,(x,E)=>{_[x]||(y[x]=E)}),this.map(_,(x,E)=>{const N=p[x];if(N){const M=E.map(H=>H.presence_ref),z=N.map(H=>H.presence_ref),B=E.filter(H=>z.indexOf(H.presence_ref)<0),Z=N.filter(H=>M.indexOf(H.presence_ref)<0);B.length>0&&(w[x]=B),Z.length>0&&(y[x]=Z)}else w[x]=E}),this.syncDiff(p,{joins:w,leaves:y},u,d)}static syncDiff(a,o,u,d){const{joins:p,leaves:_}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return u||(u=()=>{}),d||(d=()=>{}),this.map(p,(w,y)=>{var x;const E=(x=a[w])!==null&&x!==void 0?x:[];if(a[w]=this.cloneDeep(y),E.length>0){const N=a[w].map(z=>z.presence_ref),M=E.filter(z=>N.indexOf(z.presence_ref)<0);a[w].unshift(...M)}u(w,E,y)}),this.map(_,(w,y)=>{let x=a[w];if(!x)return;const E=y.map(N=>N.presence_ref);x=x.filter(N=>E.indexOf(N.presence_ref)<0),a[w]=x,d(w,x,y),x.length===0&&delete a[w]}),a}static map(a,o){return Object.getOwnPropertyNames(a).map(u=>o(u,a[u]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((o,u)=>{const d=a[u];return"metas"in d?o[u]=d.metas.map(p=>(p.presence_ref=p.phx_ref,delete p.phx_ref,delete p.phx_ref_prev,p)):o[u]=d,o},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lp;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Lp||(Lp={}));var Bo;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Bo||(Bo={}));var Ui;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Ui||(Ui={}));class xr{constructor(a,o={config:{}},u){var d,p;if(this.topic=a,this.params=o,this.socket=u,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new Bh(this,$n.join,this.params,this.timeout),this.rejoinTimer=new n_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(_=>_.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(_=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,_),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",_=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,_),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on($n.reply,{},(_,w)=>{this._trigger(this._replyEventName(w),_)}),this.presence=new Uo(this),this.broadcastEndpointURL=a_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((p=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,o=this.timeout){var u,d,p;if(this.socket.isConnected()||this.socket.connect(),this.state==Ne.closed){const{config:{broadcast:_,presence:w,private:y}}=this.params,x=(d=(u=this.bindings.postgres_changes)===null||u===void 0?void 0:u.map(z=>z.filter))!==null&&d!==void 0?d:[],E=!!this.bindings[Bo.PRESENCE]&&this.bindings[Bo.PRESENCE].length>0||((p=this.params.config.presence)===null||p===void 0?void 0:p.enabled)===!0,N={},M={broadcast:_,presence:Object.assign(Object.assign({},w),{enabled:E}),postgres_changes:x,private:y};this.socket.accessTokenValue&&(N.access_token=this.socket.accessTokenValue),this._onError(z=>a?.(Ui.CHANNEL_ERROR,z)),this._onClose(()=>a?.(Ui.CLOSED)),this.updateJoinPayload(Object.assign({config:M},N)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:z})=>{var B;if(this.socket._isManualToken()||this.socket.setAuth(),z===void 0){a?.(Ui.SUBSCRIBED);return}else{const Z=this.bindings.postgres_changes,H=(B=Z?.length)!==null&&B!==void 0?B:0,W=[];for(let X=0;X<H;X++){const I=Z[X],{filter:{event:dt,schema:zt,table:_t,filter:lt}}=I,$t=z&&z[X];if($t&&$t.event===dt&&xr.isFilterValueEqual($t.schema,zt)&&xr.isFilterValueEqual($t.table,_t)&&xr.isFilterValueEqual($t.filter,lt))W.push(Object.assign(Object.assign({},I),{id:$t.id}));else{this.unsubscribe(),this.state=Ne.errored,a?.(Ui.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=W,a&&a(Ui.SUBSCRIBED);return}}).receive("error",z=>{this.state=Ne.errored,a?.(Ui.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(z).join(", ")||"error")))}).receive("timeout",()=>{a?.(Ui.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,o={}){return await this.send({type:"presence",event:"track",payload:a},o.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,o,u){return this.state===Ne.joined&&a===Bo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,o,u)}async httpSend(a,o,u={}){var d;if(o==null)return Promise.reject("Payload is required for httpSend()");const p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const _={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})},w=await this._fetchWithTimeout(this.broadcastEndpointURL,_,(d=u.timeout)!==null&&d!==void 0?d:this.timeout);if(w.status===202)return{success:!0};let y=w.statusText;try{const x=await w.json();y=x.error||x.message||y}catch{}return Promise.reject(new Error(y))}async send(a,o={}){var u,d;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:p,payload:_}=a,w={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(w.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:w,body:JSON.stringify({messages:[{topic:this.subTopic,event:p,payload:_,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(u=o.timeout)!==null&&u!==void 0?u:this.timeout);return await((d=x.body)===null||d===void 0?void 0:d.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(p=>{var _,w,y;const x=this._push(a.type,a,o.timeout||this.timeout);a.type==="broadcast"&&!(!((y=(w=(_=this.params)===null||_===void 0?void 0:_.config)===null||w===void 0?void 0:w.broadcast)===null||y===void 0)&&y.ack)&&p("ok"),x.receive("ok",()=>p("ok")),x.receive("error",()=>p("error")),x.receive("timeout",()=>p("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Ne.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($n.close,"leave",this._joinRef())};this.joinPush.destroy();let u=null;return new Promise(d=>{u=new Bh(this,$n.leave,{},a),u.receive("ok",()=>{o(),d("ok")}).receive("timeout",()=>{o(),d("timed out")}).receive("error",()=>{d("error")}),u.send(),this._canPush()||u.trigger("ok",{})}).finally(()=>{u?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ne.closed,this.bindings={}}async _fetchWithTimeout(a,o,u){const d=new AbortController,p=setTimeout(()=>d.abort(),u),_=await this.socket.fetch(a,Object.assign(Object.assign({},o),{signal:d.signal}));return clearTimeout(p),_}_push(a,o,u=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Bh(this,a,o,u);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>yv){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(a,o,u){return o}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,o,u){var d,p;const _=a.toLocaleLowerCase(),{close:w,error:y,leave:x,join:E}=$n;if(u&&[w,y,x,E].indexOf(_)>=0&&u!==this._joinRef())return;let M=this._onMessage(_,o,u);if(o&&!M)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(_)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(z=>{var B,Z,H;return((B=z.filter)===null||B===void 0?void 0:B.event)==="*"||((H=(Z=z.filter)===null||Z===void 0?void 0:Z.event)===null||H===void 0?void 0:H.toLocaleLowerCase())===_}).map(z=>z.callback(M,u)):(p=this.bindings[_])===null||p===void 0||p.filter(z=>{var B,Z,H,W,X,I,dt,zt;if(["broadcast","presence","postgres_changes"].includes(_))if("id"in z){const _t=z.id,lt=(B=z.filter)===null||B===void 0?void 0:B.event;return _t&&((Z=o.ids)===null||Z===void 0?void 0:Z.includes(_t))&&(lt==="*"||lt?.toLocaleLowerCase()===((H=o.data)===null||H===void 0?void 0:H.type.toLocaleLowerCase()))&&(!(!((W=z.filter)===null||W===void 0)&&W.table)||z.filter.table===((X=o.data)===null||X===void 0?void 0:X.table))}else{const _t=(dt=(I=z?.filter)===null||I===void 0?void 0:I.event)===null||dt===void 0?void 0:dt.toLocaleLowerCase();return _t==="*"||_t===((zt=o?.event)===null||zt===void 0?void 0:zt.toLocaleLowerCase())}else return z.type.toLocaleLowerCase()===_}).map(z=>{if(typeof M=="object"&&"ids"in M){const B=M.data,{schema:Z,table:H,commit_timestamp:W,type:X,errors:I}=B;M=Object.assign(Object.assign({},{schema:Z,table:H,commit_timestamp:W,eventType:X,new:{},old:{},errors:I}),this._getPayloadRecords(B))}z.callback(M,u)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,o,u){const d=a.toLocaleLowerCase(),p={type:d,filter:o,callback:u};return this.bindings[d]?this.bindings[d].push(p):this.bindings[d]=[p],this}_off(a,o){const u=a.toLocaleLowerCase();return this.bindings[u]&&(this.bindings[u]=this.bindings[u].filter(d=>{var p;return!(((p=d.type)===null||p===void 0?void 0:p.toLocaleLowerCase())===u&&xr.isEqual(d.filter,o))})),this}static isEqual(a,o){if(Object.keys(a).length!==Object.keys(o).length)return!1;for(const u in a)if(a[u]!==o[u])return!1;return!0}static isFilterValueEqual(a,o){return(a??void 0)===(o??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on($n.close,{},a)}_onError(a){this._on($n.error,{},o=>a(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const o={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(o.new=jp(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(o.old=jp(a.columns,a.old_record)),o}}const Ph=()=>{},bu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Av=[1e3,2e3,5e3,1e4],Cv=1e4,Nv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kv{constructor(a,o){var u;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jh,this.transport=null,this.heartbeatIntervalMs=bu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ph,this.ref=0,this.reconnectTimer=null,this.vsn=kp,this.logger=Ph,this.conn=null,this.sendBuffer=[],this.serializer=new bv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=d=>d?(...p)=>d(...p):(...p)=>fetch(...p),!(!((u=o?.params)===null||u===void 0)&&u.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${a}/${Qh.websocket}`,this.httpEndpoint=a_(a),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mv.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const o=a.message;throw o.includes("Node.js")?new Error(`${o}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${o}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const u=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(u),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,o??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const o=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const a=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,o,u){this.logger(a,o,u)}connectionState(){switch(this.conn&&this.conn.readyState){case Ta.connecting:return vs.Connecting;case Ta.open:return vs.Open;case Ta.closing:return vs.Closing;default:return vs.Closed}}isConnected(){return this.connectionState()===vs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,o={config:{}}){const u=`realtime:${a}`,d=this.getChannels().find(p=>p.topic===u);if(d)return d;{const p=new xr(`realtime:${a}`,o,this);return this.channels.push(p),p}}push(a){const{topic:o,event:u,payload:d,ref:p}=a,_=()=>{this.encode(a,w=>{var y;(y=this.conn)===null||y===void 0||y.send(w)})};this.log("push",`${o} ${u} (${p})`,d),this.isConnected()?_():this.sendBuffer.push(_)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(o){this.log("error","error in heartbeat callback",o)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(o){this.log("error","error in heartbeat callback",o)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(vv,"heartbeat timeout"),setTimeout(()=>{var o;this.isConnected()||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout()},bu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(o){this.log("error","error in heartbeat callback",o)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let o=this.channels.find(u=>u.topic===a&&(u._isJoined()||u._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${a}"`),o.unsubscribe())}_remove(a){this.channels=this.channels.filter(o=>o.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,o=>{if(o.topic==="phoenix"&&o.event==="phx_reply"&&o.ref&&o.ref===this.pendingHeartbeatRef){const x=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(o.payload.status==="ok"?"ok":"error",x)}catch(E){this.log("error","error in heartbeat callback",E)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:u,event:d,payload:p,ref:_}=o,w=_?`(${_})`:"",y=p.status||"";this.log("receive",`${y} ${u} ${d} ${w}`.trim(),p),this.channels.filter(x=>x._isMember(u)).forEach(x=>x._trigger(d,p,_)),this._triggerStateCallbacks("message",o)})}_clearTimer(a){var o;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((o=this.reconnectTimer)===null||o===void 0||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===Ta.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ta.open||this.conn.readyState===Ta.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(o=>{this.log("error","error waiting for auth on connect",o),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this._terminateWorker()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var o;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger($n.error))}_appendParams(a,o){if(Object.keys(o).length===0)return a;const u=a.match(/\?/)?"&":"?",d=new URLSearchParams(o);return`${a}${u}${d}`}_workerObjectUrl(a){let o;if(a)o=a;else{const u=new Blob([Nv],{type:"application/javascript"});o=URL.createObjectURL(u)}return o}_setConnectionState(a,o=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=o)}async _performAuth(a=null){let o,u=!1;if(a)o=a,u=!0;else if(this.accessToken)try{o=await this.accessToken()}catch(d){this.log("error","Error fetching access token from callback",d),o=this.accessTokenValue}else o=this.accessTokenValue;u?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(d=>{const p={access_token:o,version:_v};o&&d.updateJoinPayload(p),d.joinedOnce&&d._isJoined()&&d._push($n.access_token,{access_token:o})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(o=>{this.log("error",`Error setting auth in ${a}`,o)})}_triggerStateCallbacks(a,o){try{this.stateChangeCallbacks[a].forEach(u=>{try{u(o)}catch(d){this.log("error",`error in ${a} callback`,d)}})}catch(u){this.log("error",`error triggering ${a} callbacks`,u)}}_setupReconnectionTimer(){this.reconnectTimer=new n_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var o,u,d,p,_,w,y,x,E,N,M,z;switch(this.transport=(o=a?.transport)!==null&&o!==void 0?o:null,this.timeout=(u=a?.timeout)!==null&&u!==void 0?u:Jh,this.heartbeatIntervalMs=(d=a?.heartbeatIntervalMs)!==null&&d!==void 0?d:bu.HEARTBEAT_INTERVAL,this.worker=(p=a?.worker)!==null&&p!==void 0?p:!1,this.accessToken=(_=a?.accessToken)!==null&&_!==void 0?_:null,this.heartbeatCallback=(w=a?.heartbeatCallback)!==null&&w!==void 0?w:Ph,this.vsn=(y=a?.vsn)!==null&&y!==void 0?y:kp,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=a?.reconnectAfterMs)!==null&&x!==void 0?x:(B=>Av[B-1]||Cv),this.vsn){case e_:this.encode=(E=a?.encode)!==null&&E!==void 0?E:((B,Z)=>Z(JSON.stringify(B))),this.decode=(N=a?.decode)!==null&&N!==void 0?N:((B,Z)=>Z(JSON.parse(B)));break;case gv:this.encode=(M=a?.encode)!==null&&M!==void 0?M:this.serializer.encode.bind(this.serializer),this.decode=(z=a?.decode)!==null&&z!==void 0?z:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var Po=class extends Error{constructor(l,a){super(l),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function jv(l,a,o){const u=new URL(a,l);if(o)for(const[d,p]of Object.entries(o))p!==void 0&&u.searchParams.set(d,p);return u.toString()}async function Rv(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function Lv(l){const a=l.fetchImpl??globalThis.fetch;return{async request({method:o,path:u,query:d,body:p,headers:_}){const w=jv(l.baseUrl,u,d),y=await Rv(l.auth),x=await a(w,{method:o,headers:{...p?{"Content-Type":"application/json"}:{},...y,..._},body:p?JSON.stringify(p):void 0}),E=await x.text(),N=(x.headers.get("content-type")||"").includes("application/json"),M=N&&E?JSON.parse(E):E;if(!x.ok){const z=N?M:void 0,B=z?.error;throw new Po(B?.message??`Request failed with status ${x.status}`,{status:x.status,icebergType:B?.type,icebergCode:B?.code,details:z})}return{status:x.status,headers:x.headers,data:M}}}}function wu(l){return l.join("")}var Mv=class{constructor(l,a=""){this.client=l,this.prefix=a}async listNamespaces(l){const a=l?{parent:wu(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(u=>({namespace:u}))}async createNamespace(l,a){const o={namespace:l.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:o})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wu(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wu(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wu(l.namespace)}`}),!0}catch(a){if(a instanceof Po&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(l,a){try{return await this.createNamespace(l,a)}catch(o){if(o instanceof Po&&o.status===409)return;throw o}}};function dr(l){return l.join("")}var zv=class{constructor(l,a="",o){this.client=l,this.prefix=a,this.accessDelegation=o}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${dr(l.namespace)}/tables`})).data.identifiers}async createTable(l,a){const o={};return this.accessDelegation&&(o["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${dr(l.namespace)}/tables`,body:a,headers:o})).data.metadata}async updateTable(l,a){const o=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${dr(l.namespace)}/tables/${l.name}`,body:a});return{"metadata-location":o.data["metadata-location"],metadata:o.data.metadata}}async dropTable(l,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${dr(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(l){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${dr(l.namespace)}/tables/${l.name}`,headers:a})).data.metadata}async tableExists(l){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${dr(l.namespace)}/tables/${l.name}`,headers:a}),!0}catch(o){if(o instanceof Po&&o.status===404)return!1;throw o}}async createTableIfNotExists(l,a){try{return await this.createTable(l,a)}catch(o){if(o instanceof Po&&o.status===409)return await this.loadTable({namespace:l.namespace,name:a.name});throw o}}},Dv=class{constructor(l){let a="v1";l.catalogName&&(a+=`/${l.catalogName}`);const o=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=Lv({baseUrl:o,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new Mv(this.client,a),this.tableOps=new zv(this.client,a,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,a){return this.namespaceOps.createNamespace(l,a)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,a){return this.tableOps.createTable(l,a)}async updateTable(l,a){return this.tableOps.updateTable(l,a)}async dropTable(l,a){await this.tableOps.dropTable(l,a)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,a){return this.namespaceOps.createNamespaceIfNotExists(l,a)}async createTableIfNotExists(l,a){return this.tableOps.createTableIfNotExists(l,a)}},ju=class extends Error{constructor(l){super(l),this.__isStorageError=!0,this.name="StorageError"}};function ce(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}var Uv=class extends ju{constructor(l,a,o){super(l),this.name="StorageApiError",this.status=a,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fh=class extends ju{constructor(l,a){super(l),this.name="StorageUnknownError",this.originalError=a}};const mf=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Bv=()=>Response,tf=l=>{if(Array.isArray(l))return l.map(o=>tf(o));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([o,u])=>{const d=o.replace(/([-_][a-z])/gi,p=>p.toUpperCase().replace(/[-_]/g,""));a[d]=tf(u)}),a},Pv=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},qv=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l);function qo(l){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},qo(l)}function Hv(l,a){if(qo(l)!="object"||!l)return l;var o=l[Symbol.toPrimitive];if(o!==void 0){var u=o.call(l,a);if(qo(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function Zv(l){var a=Hv(l,"string");return qo(a)=="symbol"?a:a+""}function Iv(l,a,o){return(a=Zv(a))in l?Object.defineProperty(l,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[a]=o,l}function Mp(l,a){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);a&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable})),o.push.apply(o,u)}return o}function yt(l){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?Mp(Object(o),!0).forEach(function(u){Iv(l,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):Mp(Object(o)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(o,u))})}return l}const qh=l=>{var a;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(a=l.error)===null||a===void 0?void 0:a.message)||JSON.stringify(l)},Gv=async(l,a,o)=>{l instanceof await Bv()&&!o?.noResolveJson?l.json().then(u=>{const d=l.status||500,p=u?.statusCode||d+"";a(new Uv(qh(u),d,p))}).catch(u=>{a(new Fh(qh(u),u))}):a(new Fh(qh(l),l))},Vv=(l,a,o,u)=>{const d={method:l,headers:a?.headers||{}};return l==="GET"||!u?d:(Pv(u)?(d.headers=yt({"Content-Type":"application/json"},a?.headers),d.body=JSON.stringify(u)):d.body=u,a?.duplex&&(d.duplex=a.duplex),yt(yt({},d),o))};async function Vo(l,a,o,u,d,p){return new Promise((_,w)=>{l(o,Vv(a,u,d,p)).then(y=>{if(!y.ok)throw y;return u?.noResolveJson?y:y.json()}).then(y=>_(y)).catch(y=>Gv(y,w,u))})}async function Ho(l,a,o,u){return Vo(l,"GET",a,o,u)}async function Vn(l,a,o,u,d){return Vo(l,"POST",a,u,d,o)}async function ef(l,a,o,u,d){return Vo(l,"PUT",a,u,d,o)}async function $v(l,a,o,u){return Vo(l,"HEAD",a,yt(yt({},o),{},{noResolveJson:!0}),u)}async function pf(l,a,o,u,d){return Vo(l,"DELETE",a,u,d,o)}var Kv=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a}then(l,a){return this.execute().then(l,a)}async execute(){var l=this;try{return{data:(await l.downloadFn()).body,error:null}}catch(a){if(l.shouldThrowOnError)throw a;if(ce(a))return{data:null,error:a};throw a}}};let s_;s_=Symbol.toStringTag;var Yv=class{constructor(l,a){this.downloadFn=l,this.shouldThrowOnError=a,this[s_]="BlobDownloadBuilder",this.promise=null}asStream(){return new Kv(this.downloadFn,this.shouldThrowOnError)}then(l,a){return this.getPromise().then(l,a)}catch(l){return this.getPromise().catch(l)}finally(l){return this.getPromise().finally(l)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var l=this;try{return{data:await(await l.downloadFn()).blob(),error:null}}catch(a){if(l.shouldThrowOnError)throw a;if(ce(a))return{data:null,error:a};throw a}}};const Xv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Jv=class{constructor(l,a={},o,u){this.shouldThrowOnError=!1,this.url=l,this.headers=a,this.bucketId=o,this.fetch=mf(u)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(l,a,o,u){var d=this;try{let p;const _=yt(yt({},zp),u);let w=yt(yt({},d.headers),l==="POST"&&{"x-upsert":String(_.upsert)});const y=_.metadata;typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",_.cacheControl),y&&p.append("metadata",d.encodeMetadata(y)),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.has("cacheControl")||p.append("cacheControl",_.cacheControl),y&&!p.has("metadata")&&p.append("metadata",d.encodeMetadata(y))):(p=o,w["cache-control"]=`max-age=${_.cacheControl}`,w["content-type"]=_.contentType,y&&(w["x-metadata"]=d.toBase64(d.encodeMetadata(y))),(typeof ReadableStream<"u"&&p instanceof ReadableStream||p&&typeof p=="object"&&"pipe"in p&&typeof p.pipe=="function")&&!_.duplex&&(_.duplex="half")),u?.headers&&(w=yt(yt({},w),u.headers));const x=d._removeEmptyFolders(a),E=d._getFinalPath(x),N=await(l=="PUT"?ef:Vn)(d.fetch,`${d.url}/object/${E}`,p,yt({headers:w},_?.duplex?{duplex:_.duplex}:{}));return{data:{path:x,id:N.Id,fullPath:N.Key},error:null}}catch(p){if(d.shouldThrowOnError)throw p;if(ce(p))return{data:null,error:p};throw p}}async upload(l,a,o){return this.uploadOrUpdate("POST",l,a,o)}async uploadToSignedUrl(l,a,o,u){var d=this;const p=d._removeEmptyFolders(l),_=d._getFinalPath(p),w=new URL(d.url+`/object/upload/sign/${_}`);w.searchParams.set("token",a);try{let y;const x=yt({upsert:zp.upsert},u),E=yt(yt({},d.headers),{"x-upsert":String(x.upsert)});return typeof Blob<"u"&&o instanceof Blob?(y=new FormData,y.append("cacheControl",x.cacheControl),y.append("",o)):typeof FormData<"u"&&o instanceof FormData?(y=o,y.append("cacheControl",x.cacheControl)):(y=o,E["cache-control"]=`max-age=${x.cacheControl}`,E["content-type"]=x.contentType),{data:{path:p,fullPath:(await ef(d.fetch,w.toString(),y,{headers:E})).Key},error:null}}catch(y){if(d.shouldThrowOnError)throw y;if(ce(y))return{data:null,error:y};throw y}}async createSignedUploadUrl(l,a){var o=this;try{let u=o._getFinalPath(l);const d=yt({},o.headers);a?.upsert&&(d["x-upsert"]="true");const p=await Vn(o.fetch,`${o.url}/object/upload/sign/${u}`,{},{headers:d}),_=new URL(o.url+p.url),w=_.searchParams.get("token");if(!w)throw new ju("No token returned by API");return{data:{signedUrl:_.toString(),path:l,token:w},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(ce(u))return{data:null,error:u};throw u}}async update(l,a,o){return this.uploadOrUpdate("PUT",l,a,o)}async move(l,a,o){var u=this;try{return{data:await Vn(u.fetch,`${u.url}/object/move`,{bucketId:u.bucketId,sourceKey:l,destinationKey:a,destinationBucket:o?.destinationBucket},{headers:u.headers}),error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(ce(d))return{data:null,error:d};throw d}}async copy(l,a,o){var u=this;try{return{data:{path:(await Vn(u.fetch,`${u.url}/object/copy`,{bucketId:u.bucketId,sourceKey:l,destinationKey:a,destinationBucket:o?.destinationBucket},{headers:u.headers})).Key},error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(ce(d))return{data:null,error:d};throw d}}async createSignedUrl(l,a,o){var u=this;try{let d=u._getFinalPath(l),p=await Vn(u.fetch,`${u.url}/object/sign/${d}`,yt({expiresIn:a},o?.transform?{transform:o.transform}:{}),{headers:u.headers});const _=o?.download?`&download=${o.download===!0?"":o.download}`:"";return p={signedUrl:encodeURI(`${u.url}${p.signedURL}${_}`)},{data:p,error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(ce(d))return{data:null,error:d};throw d}}async createSignedUrls(l,a,o){var u=this;try{const d=await Vn(u.fetch,`${u.url}/object/sign/${u.bucketId}`,{expiresIn:a,paths:l},{headers:u.headers}),p=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:d.map(_=>yt(yt({},_),{},{signedUrl:_.signedURL?encodeURI(`${u.url}${_.signedURL}${p}`):null})),error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(ce(d))return{data:null,error:d};throw d}}download(l,a){const o=typeof a?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(a?.transform||{}),d=u?`?${u}`:"",p=this._getFinalPath(l),_=()=>Ho(this.fetch,`${this.url}/${o}/${p}${d}`,{headers:this.headers,noResolveJson:!0});return new Yv(_,this.shouldThrowOnError)}async info(l){var a=this;const o=a._getFinalPath(l);try{return{data:tf(await Ho(a.fetch,`${a.url}/object/info/${o}`,{headers:a.headers})),error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(ce(u))return{data:null,error:u};throw u}}async exists(l){var a=this;const o=a._getFinalPath(l);try{return await $v(a.fetch,`${a.url}/object/${o}`,{headers:a.headers}),{data:!0,error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(ce(u)&&u instanceof Fh){const d=u.originalError;if([400,404].includes(d?.status))return{data:!1,error:u}}throw u}}getPublicUrl(l,a){const o=this._getFinalPath(l),u=[],d=a?.download?`download=${a.download===!0?"":a.download}`:"";d!==""&&u.push(d);const p=typeof a?.transform<"u"?"render/image":"object",_=this.transformOptsToQueryString(a?.transform||{});_!==""&&u.push(_);let w=u.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${w}`)}}}async remove(l){var a=this;try{return{data:await pf(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:l},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}}async list(l,a,o){var u=this;try{const d=yt(yt(yt({},Xv),a),{},{prefix:l||""});return{data:await Vn(u.fetch,`${u.url}/object/list/${u.bucketId}`,d,{headers:u.headers},o),error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(ce(d))return{data:null,error:d};throw d}}async listV2(l,a){var o=this;try{const u=yt({},l);return{data:await Vn(o.fetch,`${o.url}/object/list-v2/${o.bucketId}`,u,{headers:o.headers},a),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(ce(u))return{data:null,error:u};throw u}}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const a=[];return l.width&&a.push(`width=${l.width}`),l.height&&a.push(`height=${l.height}`),l.resize&&a.push(`resize=${l.resize}`),l.format&&a.push(`format=${l.format}`),l.quality&&a.push(`quality=${l.quality}`),a.join("&")}};const r_="2.90.1",o_={"X-Client-Info":`storage-js/${r_}`};var Qv=class{constructor(l,a={},o,u){this.shouldThrowOnError=!1;const d=new URL(l);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=yt(yt({},o_),a),this.fetch=mf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(l){var a=this;try{const o=a.listBucketOptionsToQueryString(l);return{data:await Ho(a.fetch,`${a.url}/bucket${o}`,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}}async getBucket(l){var a=this;try{return{data:await Ho(a.fetch,`${a.url}/bucket/${l}`,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}}async createBucket(l,a={public:!1}){var o=this;try{return{data:await Vn(o.fetch,`${o.url}/bucket`,{id:l,name:l,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:o.headers}),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(ce(u))return{data:null,error:u};throw u}}async updateBucket(l,a){var o=this;try{return{data:await ef(o.fetch,`${o.url}/bucket/${l}`,{id:l,name:l,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:o.headers}),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(ce(u))return{data:null,error:u};throw u}}async emptyBucket(l){var a=this;try{return{data:await Vn(a.fetch,`${a.url}/bucket/${l}/empty`,{},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}}async deleteBucket(l){var a=this;try{return{data:await pf(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}}listBucketOptionsToQueryString(l){const a={};return l&&("limit"in l&&(a.limit=String(l.limit)),"offset"in l&&(a.offset=String(l.offset)),l.search&&(a.search=l.search),l.sortColumn&&(a.sortColumn=l.sortColumn),l.sortOrder&&(a.sortOrder=l.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},Wv=class{constructor(l,a={},o){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=yt(yt({},o_),a),this.fetch=mf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var a=this;try{return{data:await Vn(a.fetch,`${a.url}/bucket`,{name:l},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}}async listBuckets(l){var a=this;try{const o=new URLSearchParams;l?.limit!==void 0&&o.set("limit",l.limit.toString()),l?.offset!==void 0&&o.set("offset",l.offset.toString()),l?.sortColumn&&o.set("sortColumn",l.sortColumn),l?.sortOrder&&o.set("sortOrder",l.sortOrder),l?.search&&o.set("search",l.search);const u=o.toString(),d=u?`${a.url}/bucket?${u}`:`${a.url}/bucket`;return{data:await Ho(a.fetch,d,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}}async deleteBucket(l){var a=this;try{return{data:await pf(a.fetch,`${a.url}/bucket/${l}`,{},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}}from(l){var a=this;if(!qv(l))throw new ju("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const o=new Dv({baseUrl:this.url,catalogName:l,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),u=this.shouldThrowOnError;return new Proxy(o,{get(d,p){const _=d[p];return typeof _!="function"?_:async(...w)=>{try{return{data:await _.apply(d,w),error:null}}catch(y){if(u)throw y;return{data:null,error:y}}}}})}};const _f={"X-Client-Info":`storage-js/${r_}`,"Content-Type":"application/json"};var l_=class extends Error{constructor(l){super(l),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function yn(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}var Hh=class extends l_{constructor(l,a,o){super(l),this.name="StorageVectorsApiError",this.status=a,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fv=class extends l_{constructor(l,a){super(l),this.name="StorageVectorsUnknownError",this.originalError=a}};const gf=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),ty=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Dp=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),ey=async(l,a,o)=>{if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!o?.noResolveJson){const u=l.status||500,d=l;if(typeof d.json=="function")d.json().then(p=>{const _=p?.statusCode||p?.code||u+"";a(new Hh(Dp(p),u,_))}).catch(()=>{const p=u+"";a(new Hh(d.statusText||`HTTP ${u} error`,u,p))});else{const p=u+"";a(new Hh(d.statusText||`HTTP ${u} error`,u,p))}}else a(new Fv(Dp(l),l))},ny=(l,a,o,u)=>{const d={method:l,headers:a?.headers||{}};return u?(ty(u)?(d.headers=yt({"Content-Type":"application/json"},a?.headers),d.body=JSON.stringify(u)):d.body=u,yt(yt({},d),o)):d};async function iy(l,a,o,u,d,p){return new Promise((_,w)=>{l(o,ny(a,u,d,p)).then(y=>{if(!y.ok)throw y;if(u?.noResolveJson)return y;const x=y.headers.get("content-type");return!x||!x.includes("application/json")?{}:y.json()}).then(y=>_(y)).catch(y=>ey(y,w,u))})}async function bn(l,a,o,u,d){return iy(l,"POST",a,u,d,o)}var ay=class{constructor(l,a={},o){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=yt(yt({},_f),a),this.fetch=gf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(l){var a=this;try{return{data:await bn(a.fetch,`${a.url}/CreateIndex`,l,{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(yn(o))return{data:null,error:o};throw o}}async getIndex(l,a){var o=this;try{return{data:await bn(o.fetch,`${o.url}/GetIndex`,{vectorBucketName:l,indexName:a},{headers:o.headers}),error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(yn(u))return{data:null,error:u};throw u}}async listIndexes(l){var a=this;try{return{data:await bn(a.fetch,`${a.url}/ListIndexes`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(yn(o))return{data:null,error:o};throw o}}async deleteIndex(l,a){var o=this;try{return{data:await bn(o.fetch,`${o.url}/DeleteIndex`,{vectorBucketName:l,indexName:a},{headers:o.headers})||{},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(yn(u))return{data:null,error:u};throw u}}},sy=class{constructor(l,a={},o){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=yt(yt({},_f),a),this.fetch=gf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(l){var a=this;try{if(l.vectors.length<1||l.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await bn(a.fetch,`${a.url}/PutVectors`,l,{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(yn(o))return{data:null,error:o};throw o}}async getVectors(l){var a=this;try{return{data:await bn(a.fetch,`${a.url}/GetVectors`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(yn(o))return{data:null,error:o};throw o}}async listVectors(l){var a=this;try{if(l.segmentCount!==void 0){if(l.segmentCount<1||l.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(l.segmentIndex!==void 0&&(l.segmentIndex<0||l.segmentIndex>=l.segmentCount))throw new Error(`segmentIndex must be between 0 and ${l.segmentCount-1}`)}return{data:await bn(a.fetch,`${a.url}/ListVectors`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(yn(o))return{data:null,error:o};throw o}}async queryVectors(l){var a=this;try{return{data:await bn(a.fetch,`${a.url}/QueryVectors`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(yn(o))return{data:null,error:o};throw o}}async deleteVectors(l){var a=this;try{if(l.keys.length<1||l.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await bn(a.fetch,`${a.url}/DeleteVectors`,l,{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(yn(o))return{data:null,error:o};throw o}}},ry=class{constructor(l,a={},o){this.shouldThrowOnError=!1,this.url=l.replace(/\/$/,""),this.headers=yt(yt({},_f),a),this.fetch=gf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(l){var a=this;try{return{data:await bn(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(yn(o))return{data:null,error:o};throw o}}async getBucket(l){var a=this;try{return{data:await bn(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:l},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(yn(o))return{data:null,error:o};throw o}}async listBuckets(l={}){var a=this;try{return{data:await bn(a.fetch,`${a.url}/ListVectorBuckets`,l,{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(yn(o))return{data:null,error:o};throw o}}async deleteBucket(l){var a=this;try{return{data:await bn(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:l},{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(yn(o))return{data:null,error:o};throw o}}},oy=class extends ry{constructor(l,a={}){super(l,a.headers||{},a.fetch)}from(l){return new ly(this.url,this.headers,l,this.fetch)}async createBucket(l){var a=()=>super.createBucket,o=this;return a().call(o,l)}async getBucket(l){var a=()=>super.getBucket,o=this;return a().call(o,l)}async listBuckets(l={}){var a=()=>super.listBuckets,o=this;return a().call(o,l)}async deleteBucket(l){var a=()=>super.deleteBucket,o=this;return a().call(o,l)}},ly=class extends ay{constructor(l,a,o,u){super(l,a,u),this.vectorBucketName=o}async createIndex(l){var a=()=>super.createIndex,o=this;return a().call(o,yt(yt({},l),{},{vectorBucketName:o.vectorBucketName}))}async listIndexes(l={}){var a=()=>super.listIndexes,o=this;return a().call(o,yt(yt({},l),{},{vectorBucketName:o.vectorBucketName}))}async getIndex(l){var a=()=>super.getIndex,o=this;return a().call(o,o.vectorBucketName,l)}async deleteIndex(l){var a=()=>super.deleteIndex,o=this;return a().call(o,o.vectorBucketName,l)}index(l){return new uy(this.url,this.headers,this.vectorBucketName,l,this.fetch)}},uy=class extends sy{constructor(l,a,o,u,d){super(l,a,d),this.vectorBucketName=o,this.indexName=u}async putVectors(l){var a=()=>super.putVectors,o=this;return a().call(o,yt(yt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async getVectors(l){var a=()=>super.getVectors,o=this;return a().call(o,yt(yt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async listVectors(l={}){var a=()=>super.listVectors,o=this;return a().call(o,yt(yt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async queryVectors(l){var a=()=>super.queryVectors,o=this;return a().call(o,yt(yt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}async deleteVectors(l){var a=()=>super.deleteVectors,o=this;return a().call(o,yt(yt({},l),{},{vectorBucketName:o.vectorBucketName,indexName:o.indexName}))}},cy=class extends Qv{constructor(l,a={},o,u){super(l,a,o,u)}from(l){return new Jv(this.url,this.headers,l,this.fetch)}get vectors(){return new oy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Wv(this.url+"/iceberg",this.headers,this.fetch)}};const u_="2.90.1",br=30*1e3,nf=3,Zh=nf*br,hy="http://localhost:9999",fy="supabase.auth.token",dy={"X-Client-Info":`gotrue-js/${u_}`},af="X-Supabase-Api-Version",c_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},my=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,py=600*1e3;class Zo extends Error{constructor(a,o,u){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=u}}function mt(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class _y extends Zo{constructor(a,o,u){super(a,o,u),this.name="AuthApiError",this.status=o,this.code=u}}function gy(l){return mt(l)&&l.name==="AuthApiError"}class ys extends Zo{constructor(a,o){super(a),this.name="AuthUnknownError",this.originalError=o}}class Bi extends Zo{constructor(a,o,u,d){super(a,u,d),this.name=o,this.status=u}}class vn extends Bi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vy(l){return mt(l)&&l.name==="AuthSessionMissingError"}class mr extends Bi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xu extends Bi{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Su extends Bi{constructor(a,o=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yy(l){return mt(l)&&l.name==="AuthImplicitGrantRedirectError"}class Up extends Bi{constructor(a,o=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class by extends Bi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class sf extends Bi{constructor(a,o){super(a,"AuthRetryableFetchError",o,void 0)}}function Ih(l){return mt(l)&&l.name==="AuthRetryableFetchError"}class Bp extends Bi{constructor(a,o,u){super(a,"AuthWeakPasswordError",o,"weak_password"),this.reasons=u}}class rf extends Bi{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ou="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pp=` 	
\r=`.split(""),wy=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<Pp.length;a+=1)l[Pp[a].charCodeAt(0)]=-2;for(let a=0;a<Ou.length;a+=1)l[Ou[a].charCodeAt(0)]=a;return l})();function qp(l,a,o){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const u=a.queue>>a.queuedBits-6&63;o(Ou[u]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const u=a.queue>>a.queuedBits-6&63;o(Ou[u]),a.queuedBits-=6}}function h_(l,a,o){const u=wy[l];if(u>-1)for(a.queue=a.queue<<6|u,a.queuedBits+=6;a.queuedBits>=8;)o(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(u===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Hp(l){const a=[],o=_=>{a.push(String.fromCodePoint(_))},u={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},p=_=>{Ty(_,u,o)};for(let _=0;_<l.length;_+=1)h_(l.charCodeAt(_),d,p);return a.join("")}function xy(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function Sy(l,a){for(let o=0;o<l.length;o+=1){let u=l.charCodeAt(o);if(u>55295&&u<=56319){const d=(u-55296)*1024&65535;u=(l.charCodeAt(o+1)-56320&65535|d)+65536,o+=1}xy(u,a)}}function Ty(l,a,o){if(a.utf8seq===0){if(l<=127){o(l);return}for(let u=1;u<6;u+=1)if((l>>7-u&1)===0){a.utf8seq=u;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&o(a.codepoint)}}function Sr(l){const a=[],o={queue:0,queuedBits:0},u=d=>{a.push(d)};for(let d=0;d<l.length;d+=1)h_(l.charCodeAt(d),o,u);return new Uint8Array(a)}function Ey(l){const a=[];return Sy(l,o=>a.push(o)),new Uint8Array(a)}function bs(l){const a=[],o={queue:0,queuedBits:0},u=d=>{a.push(d)};return l.forEach(d=>qp(d,o,u)),qp(null,o,u),a.join("")}function Oy(l){return Math.round(Date.now()/1e3)+l}function Ay(){return Symbol("auth-callback")}const qe=()=>typeof window<"u"&&typeof document<"u",ps={tested:!1,writable:!1},f_=()=>{if(!qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ps.tested)return ps.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),ps.tested=!0,ps.writable=!0}catch{ps.tested=!0,ps.writable=!1}return ps.writable};function Cy(l){const a={},o=new URL(l);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((d,p)=>{a[p]=d})}catch{}return o.searchParams.forEach((u,d)=>{a[d]=u}),a}const d_=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Ny=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",wr=async(l,a,o)=>{await l.setItem(a,JSON.stringify(o))},_s=async(l,a)=>{const o=await l.getItem(a);if(!o)return null;try{return JSON.parse(o)}catch{return o}},Pe=async(l,a)=>{await l.removeItem(a)};class Ru{constructor(){this.promise=new Ru.promiseConstructor((a,o)=>{this.resolve=a,this.reject=o})}}Ru.promiseConstructor=Promise;function Gh(l){const a=l.split(".");if(a.length!==3)throw new rf("Invalid JWT structure");for(let u=0;u<a.length;u++)if(!my.test(a[u]))throw new rf("JWT not in base64url format");return{header:JSON.parse(Hp(a[0])),payload:JSON.parse(Hp(a[1])),signature:Sr(a[2]),raw:{header:a[0],payload:a[1]}}}async function ky(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function jy(l,a){return new Promise((u,d)=>{(async()=>{for(let p=0;p<1/0;p++)try{const _=await l(p);if(!a(p,null,_)){u(_);return}}catch(_){if(!a(p,_)){d(_);return}}})()})}function Ry(l){return("0"+l.toString(16)).substr(-2)}function Ly(){const a=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",u=o.length;let d="";for(let p=0;p<56;p++)d+=o.charAt(Math.floor(Math.random()*u));return d}return crypto.getRandomValues(a),Array.from(a,Ry).join("")}async function My(l){const o=new TextEncoder().encode(l),u=await crypto.subtle.digest("SHA-256",o),d=new Uint8Array(u);return Array.from(d).map(p=>String.fromCharCode(p)).join("")}async function zy(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const o=await My(l);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pr(l,a,o=!1){const u=Ly();let d=u;o&&(d+="/PASSWORD_RECOVERY"),await wr(l,`${a}-code-verifier`,d);const p=await zy(u);return[p,u===p?"plain":"s256"]}const Dy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Uy(l){const a=l.headers.get(af);if(!a||!a.match(Dy))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function By(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function Py(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _r(l){if(!qy.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vh(){const l={};return new Proxy(l,{get:(a,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Hy(l,a){return new Proxy(l,{get:(o,u,d)=>{if(u==="__isInsecureUserWarningProxy")return!0;if(typeof u=="symbol"){const p=u.toString();if(p==="Symbol(Symbol.toPrimitive)"||p==="Symbol(Symbol.toStringTag)"||p==="Symbol(util.inspect.custom)"||p==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(o,u,d)}return!a.value&&typeof u=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(o,u,d)}})}function Zp(l){return JSON.parse(JSON.stringify(l))}const gs=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Zy=[502,503,504];async function Ip(l){var a;if(!Ny(l))throw new sf(gs(l),0);if(Zy.includes(l.status))throw new sf(gs(l),l.status);let o;try{o=await l.json()}catch(p){throw new ys(gs(p),p)}let u;const d=Uy(l);if(d&&d.getTime()>=c_["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?u=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(u=o.error_code),u){if(u==="weak_password")throw new Bp(gs(o),l.status,((a=o.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(u==="session_not_found")throw new vn}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((p,_)=>p&&typeof _=="string",!0))throw new Bp(gs(o),l.status,o.weak_password.reasons);throw new _y(gs(o),l.status||500,u)}const Iy=(l,a,o,u)=>{const d={method:l,headers:a?.headers||{}};return l==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),d.body=JSON.stringify(u),Object.assign(Object.assign({},d),o))};async function vt(l,a,o,u){var d;const p=Object.assign({},u?.headers);p[af]||(p[af]=c_["2024-01-01"].name),u?.jwt&&(p.Authorization=`Bearer ${u.jwt}`);const _=(d=u?.query)!==null&&d!==void 0?d:{};u?.redirectTo&&(_.redirect_to=u.redirectTo);const w=Object.keys(_).length?"?"+new URLSearchParams(_).toString():"",y=await Gy(l,a,o+w,{headers:p,noResolveJson:u?.noResolveJson},{},u?.body);return u?.xform?u?.xform(y):{data:Object.assign({},y),error:null}}async function Gy(l,a,o,u,d,p){const _=Iy(a,u,d,p);let w;try{w=await l(o,Object.assign({},_))}catch(y){throw console.error(y),new sf(gs(y),0)}if(w.ok||await Ip(w),u?.noResolveJson)return w;try{return await w.json()}catch(y){await Ip(y)}}function Gn(l){var a;let o=null;Ky(l)&&(o=Object.assign({},l),l.expires_at||(o.expires_at=Oy(l.expires_in)));const u=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:o,user:u},error:null}}function Gp(l){const a=Gn(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0)&&(a.data.weak_password=l.weak_password),a}function Ea(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function Vy(l){return{data:l,error:null}}function $y(l){const{action_link:a,email_otp:o,hashed_token:u,redirect_to:d,verification_type:p}=l,_=ku(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),w={action_link:a,email_otp:o,hashed_token:u,redirect_to:d,verification_type:p},y=Object.assign({},_);return{data:{properties:w,user:y},error:null}}function Vp(l){return l}function Ky(l){return l.access_token&&l.refresh_token&&l.expires_in}const $h=["global","local","others"];class Yy{constructor({url:a="",headers:o={},fetch:u}){this.url=a,this.headers=o,this.fetch=d_(u),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,o=$h[0]){if($h.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$h.join(", ")}`);try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(u){if(mt(u))return{data:null,error:u};throw u}}async inviteUserByEmail(a,o={}){try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:Ea})}catch(u){if(mt(u))return{data:{user:null},error:u};throw u}}async generateLink(a){try{const{options:o}=a,u=ku(a,["options"]),d=Object.assign(Object.assign({},u),o);return"newEmail"in u&&(d.new_email=u?.newEmail,delete d.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:$y,redirectTo:o?.redirectTo})}catch(o){if(mt(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(a){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Ea})}catch(o){if(mt(o))return{data:{user:null},error:o};throw o}}async listUsers(a){var o,u,d,p,_,w,y;try{const x={nextPage:null,lastPage:0,total:0},E=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(o=a?.page)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:"",per_page:(p=(d=a?.perPage)===null||d===void 0?void 0:d.toString())!==null&&p!==void 0?p:""},xform:Vp});if(E.error)throw E.error;const N=await E.json(),M=(_=E.headers.get("x-total-count"))!==null&&_!==void 0?_:0,z=(y=(w=E.headers.get("link"))===null||w===void 0?void 0:w.split(","))!==null&&y!==void 0?y:[];return z.length>0&&(z.forEach(B=>{const Z=parseInt(B.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(B.split(";")[1].split("=")[1]);x[`${H}Page`]=Z}),x.total=parseInt(M)),{data:Object.assign(Object.assign({},N),x),error:null}}catch(x){if(mt(x))return{data:{users:[]},error:x};throw x}}async getUserById(a){_r(a);try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Ea})}catch(o){if(mt(o))return{data:{user:null},error:o};throw o}}async updateUserById(a,o){_r(a);try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:o,headers:this.headers,xform:Ea})}catch(u){if(mt(u))return{data:{user:null},error:u};throw u}}async deleteUser(a,o=!1){_r(a);try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:o},xform:Ea})}catch(u){if(mt(u))return{data:{user:null},error:u};throw u}}async _listFactors(a){_r(a.userId);try{const{data:o,error:u}=await vt(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:o,error:u}}catch(o){if(mt(o))return{data:null,error:o};throw o}}async _deleteFactor(a){_r(a.userId),_r(a.id);try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}}async _listOAuthClients(a){var o,u,d,p,_,w,y;try{const x={nextPage:null,lastPage:0,total:0},E=await vt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(o=a?.page)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:"",per_page:(p=(d=a?.perPage)===null||d===void 0?void 0:d.toString())!==null&&p!==void 0?p:""},xform:Vp});if(E.error)throw E.error;const N=await E.json(),M=(_=E.headers.get("x-total-count"))!==null&&_!==void 0?_:0,z=(y=(w=E.headers.get("link"))===null||w===void 0?void 0:w.split(","))!==null&&y!==void 0?y:[];return z.length>0&&(z.forEach(B=>{const Z=parseInt(B.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(B.split(";")[1].split("=")[1]);x[`${H}Page`]=Z}),x.total=parseInt(M)),{data:Object.assign(Object.assign({},N),x),error:null}}catch(x){if(mt(x))return{data:{clients:[]},error:x};throw x}}async _createOAuthClient(a){try{return await vt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(mt(o))return{data:null,error:o};throw o}}async _getOAuthClient(a){try{return await vt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(mt(o))return{data:null,error:o};throw o}}async _updateOAuthClient(a,o){try{return await vt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:o,headers:this.headers,xform:u=>({data:u,error:null})})}catch(u){if(mt(u))return{data:null,error:u};throw u}}async _deleteOAuthClient(a){try{return await vt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(o){if(mt(o))return{data:null,error:o};throw o}}async _regenerateOAuthClientSecret(a){try{return await vt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(mt(o))return{data:null,error:o};throw o}}}function $p(l={}){return{getItem:a=>l[a]||null,setItem:(a,o)=>{l[a]=o},removeItem:a=>{delete l[a]}}}const gr={debug:!!(globalThis&&f_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class m_ extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Xy extends m_{}async function Jy(l,a,o){gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const u=new globalThis.AbortController;return a>0&&setTimeout(()=>{u.abort(),gr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:u.signal},async d=>{if(d){gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,d.name);try{return await o()}finally{gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,d.name)}}else{if(a===0)throw gr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new Xy(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(gr.debug)try{const p=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(p,null,"  "))}catch(p){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",p)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}function Qy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function p_(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Wy(l){return parseInt(l,16)}function Fy(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,u=>u.toString(16).padStart(2,"0")).join("")}function t0(l){var a;const{chainId:o,domain:u,expirationTime:d,issuedAt:p=new Date,nonce:_,notBefore:w,requestId:y,resources:x,scheme:E,uri:N,version:M}=l;{if(!Number.isInteger(o))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${o}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(_&&_.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${_}`);if(!N)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(M!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${M}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const z=p_(l.address),B=E?`${E}://${u}`:u,Z=l.statement?`${l.statement}
`:"",H=`${B} wants you to sign in with your Ethereum account:
${z}

${Z}`;let W=`URI: ${N}
Version: ${M}
Chain ID: ${o}${_?`
Nonce: ${_}`:""}
Issued At: ${p.toISOString()}`;if(d&&(W+=`
Expiration Time: ${d.toISOString()}`),w&&(W+=`
Not Before: ${w.toISOString()}`),y&&(W+=`
Request ID: ${y}`),x){let X=`
Resources:`;for(const I of x){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);X+=`
- ${I}`}W+=X}return`${H}
${W}`}class Te extends Error{constructor({message:a,code:o,cause:u,name:d}){var p;super(a,{cause:u}),this.__isWebAuthnError=!0,this.name=(p=d??(u instanceof Error?u.name:void 0))!==null&&p!==void 0?p:"Unknown Error",this.code=o}}class Au extends Te{constructor(a,o){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o,message:a}),this.name="WebAuthnUnknownError",this.originalError=o}}function e0({error:l,options:a}){var o,u,d;const{publicKey:p}=a;if(!p)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((o=p.authenticatorSelection)===null||o===void 0?void 0:o.requireResidentKey)===!0)return new Te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((u=p.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((d=p.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new Te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Te({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return p.pubKeyCredParams.filter(w=>w.type==="public-key").length===0?new Te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const _=window.location.hostname;if(__(_)){if(p.rp.id!==_)return new Te({message:`The RP ID "${p.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(p.user.id.byteLength<1||p.user.id.byteLength>64)return new Te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function n0({error:l,options:a}){const{publicKey:o}=a;if(!o)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Te({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const u=window.location.hostname;if(__(u)){if(o.rpId!==u)return new Te({message:`The RP ID "${o.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class i0{createNewAbortSignal(){if(this.controller){const o=new Error("Cancelling existing WebAuthn API call for new one");o.name="AbortError",this.controller.abort(o)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const a0=new i0;function s0(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:o,excludeCredentials:u}=l,d=ku(l,["challenge","user","excludeCredentials"]),p=Sr(a).buffer,_=Object.assign(Object.assign({},o),{id:Sr(o.id).buffer}),w=Object.assign(Object.assign({},d),{challenge:p,user:_});if(u&&u.length>0){w.excludeCredentials=new Array(u.length);for(let y=0;y<u.length;y++){const x=u[y];w.excludeCredentials[y]=Object.assign(Object.assign({},x),{id:Sr(x.id).buffer,type:x.type||"public-key",transports:x.transports})}}return w}function r0(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:o}=l,u=ku(l,["challenge","allowCredentials"]),d=Sr(a).buffer,p=Object.assign(Object.assign({},u),{challenge:d});if(o&&o.length>0){p.allowCredentials=new Array(o.length);for(let _=0;_<o.length;_++){const w=o[_];p.allowCredentials[_]=Object.assign(Object.assign({},w),{id:Sr(w.id).buffer,type:w.type||"public-key",transports:w.transports})}}return p}function o0(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const o=l;return{id:l.id,rawId:l.id,response:{attestationObject:bs(new Uint8Array(l.response.attestationObject)),clientDataJSON:bs(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=o.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function l0(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const o=l,u=l.getClientExtensionResults(),d=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:bs(new Uint8Array(d.authenticatorData)),clientDataJSON:bs(new Uint8Array(d.clientDataJSON)),signature:bs(new Uint8Array(d.signature)),userHandle:d.userHandle?bs(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:u,authenticatorAttachment:(a=o.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function __(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Kp(){var l,a;return!!(qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function u0(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Au("Browser returned unexpected credential type",a)}:{data:null,error:new Au("Empty credential response",a)}}catch(a){return{data:null,error:e0({error:a,options:l})}}}async function c0(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Au("Browser returned unexpected credential type",a)}:{data:null,error:new Au("Empty credential response",a)}}catch(a){return{data:null,error:n0({error:a,options:l})}}}const h0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},f0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Cu(...l){const a=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),o=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),u={};for(const d of l)if(d)for(const p in d){const _=d[p];if(_!==void 0)if(Array.isArray(_))u[p]=_;else if(o(_))u[p]=_;else if(a(_)){const w=u[p];a(w)?u[p]=Cu(w,_):u[p]=Cu(_)}else u[p]=_}return u}function d0(l,a){return Cu(h0,l,a||{})}function m0(l,a){return Cu(f0,l,a||{})}class p0{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:o,friendlyName:u,signal:d},p){try{const{data:_,error:w}=await this.client.mfa.challenge({factorId:a,webauthn:o});if(!_)return{data:null,error:w};const y=d??a0.createNewAbortSignal();if(_.webauthn.type==="create"){const{user:x}=_.webauthn.credential_options.publicKey;x.name||(x.name=`${x.id}:${u}`),x.displayName||(x.displayName=x.name)}switch(_.webauthn.type){case"create":{const x=d0(_.webauthn.credential_options.publicKey,p?.create),{data:E,error:N}=await u0({publicKey:x,signal:y});return E?{data:{factorId:a,challengeId:_.id,webauthn:{type:_.webauthn.type,credential_response:E}},error:null}:{data:null,error:N}}case"request":{const x=m0(_.webauthn.credential_options.publicKey,p?.request),{data:E,error:N}=await c0(Object.assign(Object.assign({},_.webauthn.credential_options),{publicKey:x,signal:y}));return E?{data:{factorId:a,challengeId:_.id,webauthn:{type:_.webauthn.type,credential_response:E}},error:null}:{data:null,error:N}}}}catch(_){return mt(_)?{data:null,error:_}:{data:null,error:new ys("Unexpected error in challenge",_)}}}async _verify({challengeId:a,factorId:o,webauthn:u}){return this.client.mfa.verify({factorId:o,challengeId:a,webauthn:u})}async _authenticate({factorId:a,webauthn:{rpId:o=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},p){if(!o)return{data:null,error:new Zo("rpId is required for WebAuthn authentication")};try{if(!Kp())return{data:null,error:new ys("Browser does not support WebAuthn",null)};const{data:_,error:w}=await this.challenge({factorId:a,webauthn:{rpId:o,rpOrigins:u},signal:d},{request:p});if(!_)return{data:null,error:w};const{webauthn:y}=_;return this._verify({factorId:a,challengeId:_.challengeId,webauthn:{type:y.type,rpId:o,rpOrigins:u,credential_response:y.credential_response}})}catch(_){return mt(_)?{data:null,error:_}:{data:null,error:new ys("Unexpected error in authenticate",_)}}}async _register({friendlyName:a,webauthn:{rpId:o=typeof window<"u"?window.location.hostname:void 0,rpOrigins:u=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},p){if(!o)return{data:null,error:new Zo("rpId is required for WebAuthn registration")};try{if(!Kp())return{data:null,error:new ys("Browser does not support WebAuthn",null)};const{data:_,error:w}=await this._enroll({friendlyName:a});if(!_)return await this.client.mfa.listFactors().then(E=>{var N;return(N=E.data)===null||N===void 0?void 0:N.all.find(M=>M.factor_type==="webauthn"&&M.friendly_name===a&&M.status!=="unverified")}).then(E=>E?this.client.mfa.unenroll({factorId:E?.id}):void 0),{data:null,error:w};const{data:y,error:x}=await this._challenge({factorId:_.id,friendlyName:_.friendly_name,webauthn:{rpId:o,rpOrigins:u},signal:d},{create:p});return y?this._verify({factorId:_.id,challengeId:y.challengeId,webauthn:{rpId:o,rpOrigins:u,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:x}}catch(_){return mt(_)?{data:null,error:_}:{data:null,error:new ys("Unexpected error in register",_)}}}}Qy();const _0={url:hy,storageKey:fy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Yp(l,a,o){return await o()}const vr={};class Io{get jwks(){var a,o;return(o=(a=vr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(a){vr[this.storageKey]=Object.assign(Object.assign({},vr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,o;return(o=(a=vr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){vr[this.storageKey]=Object.assign(Object.assign({},vr[this.storageKey]),{cachedAt:a})}constructor(a){var o,u,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const p=Object.assign(Object.assign({},_0),a);if(this.storageKey=p.storageKey,this.instanceID=(o=Io.nextInstanceID[this.storageKey])!==null&&o!==void 0?o:0,Io.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!p.debug,typeof p.debug=="function"&&(this.logger=p.debug),this.instanceID>0&&qe()){const _=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(_),this.logDebugMessages&&console.trace(_)}if(this.persistSession=p.persistSession,this.autoRefreshToken=p.autoRefreshToken,this.admin=new Yy({url:p.url,headers:p.headers,fetch:p.fetch}),this.url=p.url,this.headers=p.headers,this.fetch=d_(p.fetch),this.lock=p.lock||Yp,this.detectSessionInUrl=p.detectSessionInUrl,this.flowType=p.flowType,this.hasCustomAuthorizationHeader=p.hasCustomAuthorizationHeader,this.throwOnError=p.throwOnError,this.lockAcquireTimeout=p.lockAcquireTimeout,p.lock?this.lock=p.lock:this.persistSession&&qe()&&(!((u=globalThis?.navigator)===null||u===void 0)&&u.locks)?this.lock=Jy:this.lock=Yp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new p0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(p.storage?this.storage=p.storage:f_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$p(this.memoryStorage)),p.userStorage&&(this.userStorage=p.userStorage)):(this.memoryStorage={},this.storage=$p(this.memoryStorage)),qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(_){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",_)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async _=>{this._debug("received broadcast notification from other tab or client",_),await this._notifyAllSubscribers(_.data.event,_.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${u_}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let o={},u="none";if(qe()&&(o=Cy(window.location.href),this._isImplicitGrantCallback(o)?u="implicit":await this._isPKCECallback(o)&&(u="pkce")),qe()&&this.detectSessionInUrl&&u!=="none"){const{data:d,error:p}=await this._getSessionFromURL(o,u);if(p){if(this._debug("#_initialize()","error detecting session from URL",p),yy(p)){const y=(a=p.details)===null||a===void 0?void 0:a.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:p}}return{error:p}}const{session:_,redirectType:w}=d;return this._debug("#_initialize()","detected session in URL",_,"redirect type",w),await this._saveSession(_),setTimeout(async()=>{w==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",_):await this._notifyAllSubscribers("SIGNED_IN",_)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return mt(o)?this._returnResult({error:o}):this._returnResult({error:new ys("Unexpected error during initialization",o)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var o,u,d;try{const p=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(u=(o=a?.options)===null||o===void 0?void 0:o.data)!==null&&u!==void 0?u:{},gotrue_meta_security:{captcha_token:(d=a?.options)===null||d===void 0?void 0:d.captchaToken}},xform:Gn}),{data:_,error:w}=p;if(w||!_)return this._returnResult({data:{user:null,session:null},error:w});const y=_.session,x=_.user;return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:x,session:y},error:null})}catch(p){if(mt(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signUp(a){var o,u,d;try{let p;if("email"in a){const{email:E,password:N,options:M}=a;let z=null,B=null;this.flowType==="pkce"&&([z,B]=await pr(this.storage,this.storageKey)),p=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:M?.emailRedirectTo,body:{email:E,password:N,data:(o=M?.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:M?.captchaToken},code_challenge:z,code_challenge_method:B},xform:Gn})}else if("phone"in a){const{phone:E,password:N,options:M}=a;p=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:E,password:N,data:(u=M?.data)!==null&&u!==void 0?u:{},channel:(d=M?.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:M?.captchaToken}},xform:Gn})}else throw new xu("You must provide either an email or phone number and a password");const{data:_,error:w}=p;if(w||!_)return await Pe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:w});const y=_.session,x=_.user;return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:x,session:y},error:null})}catch(p){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),mt(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithPassword(a){try{let o;if("email"in a){const{email:p,password:_,options:w}=a;o=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:p,password:_,gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Gp})}else if("phone"in a){const{phone:p,password:_,options:w}=a;o=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:p,password:_,gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Gp})}else throw new xu("You must provide either an email or phone number and a password");const{data:u,error:d}=o;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const p=new mr;return this._returnResult({data:{user:null,session:null},error:p})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign({user:u.user,session:u.session},u.weak_password?{weakPassword:u.weak_password}:null),error:d})}catch(o){if(mt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithOAuth(a){var o,u,d,p;return await this._handleProviderSignIn(a.provider,{redirectTo:(o=a.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=a.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=a.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(p=a.options)===null||p===void 0?void 0:p.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:o}=a;switch(o){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}}async signInWithEthereum(a){var o,u,d,p,_,w,y,x,E,N,M;let z,B;if("message"in a)z=a.message,B=a.signature;else{const{chain:Z,wallet:H,statement:W,options:X}=a;let I;if(qe())if(typeof H=="object")I=H;else{const ee=window;if("ethereum"in ee&&typeof ee.ethereum=="object"&&"request"in ee.ethereum&&typeof ee.ethereum.request=="function")I=ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!X?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=H}const dt=new URL((o=X?.url)!==null&&o!==void 0?o:window.location.href),zt=await I.request({method:"eth_requestAccounts"}).then(ee=>ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!zt||zt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _t=p_(zt[0]);let lt=(u=X?.signInWithEthereum)===null||u===void 0?void 0:u.chainId;if(!lt){const ee=await I.request({method:"eth_chainId"});lt=Wy(ee)}const $t={domain:dt.host,address:_t,statement:W,uri:dt.href,version:"1",chainId:lt,nonce:(d=X?.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(_=(p=X?.signInWithEthereum)===null||p===void 0?void 0:p.issuedAt)!==null&&_!==void 0?_:new Date,expirationTime:(w=X?.signInWithEthereum)===null||w===void 0?void 0:w.expirationTime,notBefore:(y=X?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(x=X?.signInWithEthereum)===null||x===void 0?void 0:x.requestId,resources:(E=X?.signInWithEthereum)===null||E===void 0?void 0:E.resources};z=t0($t),B=await I.request({method:"personal_sign",params:[Fy(z),_t]})}try{const{data:Z,error:H}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:z,signature:B},!((N=a.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(M=a.options)===null||M===void 0?void 0:M.captchaToken}}:null),xform:Gn});if(H)throw H;if(!Z||!Z.session||!Z.user){const W=new mr;return this._returnResult({data:{user:null,session:null},error:W})}return Z.session&&(await this._saveSession(Z.session),await this._notifyAllSubscribers("SIGNED_IN",Z.session)),this._returnResult({data:Object.assign({},Z),error:H})}catch(Z){if(mt(Z))return this._returnResult({data:{user:null,session:null},error:Z});throw Z}}async signInWithSolana(a){var o,u,d,p,_,w,y,x,E,N,M,z;let B,Z;if("message"in a)B=a.message,Z=a.signature;else{const{chain:H,wallet:W,statement:X,options:I}=a;let dt;if(qe())if(typeof W=="object")dt=W;else{const _t=window;if("solana"in _t&&typeof _t.solana=="object"&&("signIn"in _t.solana&&typeof _t.solana.signIn=="function"||"signMessage"in _t.solana&&typeof _t.solana.signMessage=="function"))dt=_t.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof W!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");dt=W}const zt=new URL((o=I?.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in dt&&dt.signIn){const _t=await dt.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I?.signInWithSolana),{version:"1",domain:zt.host,uri:zt.href}),X?{statement:X}:null));let lt;if(Array.isArray(_t)&&_t[0]&&typeof _t[0]=="object")lt=_t[0];else if(_t&&typeof _t=="object"&&"signedMessage"in _t&&"signature"in _t)lt=_t;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in lt&&"signature"in lt&&(typeof lt.signedMessage=="string"||lt.signedMessage instanceof Uint8Array)&&lt.signature instanceof Uint8Array)B=typeof lt.signedMessage=="string"?lt.signedMessage:new TextDecoder().decode(lt.signedMessage),Z=lt.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in dt)||typeof dt.signMessage!="function"||!("publicKey"in dt)||typeof dt!="object"||!dt.publicKey||!("toBase58"in dt.publicKey)||typeof dt.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");B=[`${zt.host} wants you to sign in with your Solana account:`,dt.publicKey.toBase58(),...X?["",X,""]:[""],"Version: 1",`URI: ${zt.href}`,`Issued At: ${(d=(u=I?.signInWithSolana)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((p=I?.signInWithSolana)===null||p===void 0)&&p.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((_=I?.signInWithSolana)===null||_===void 0)&&_.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((w=I?.signInWithSolana)===null||w===void 0)&&w.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((y=I?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((x=I?.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((N=(E=I?.signInWithSolana)===null||E===void 0?void 0:E.resources)===null||N===void 0)&&N.length?["Resources",...I.signInWithSolana.resources.map(lt=>`- ${lt}`)]:[]].join(`
`);const _t=await dt.signMessage(new TextEncoder().encode(B),"utf8");if(!_t||!(_t instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");Z=_t}}try{const{data:H,error:W}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:B,signature:bs(Z)},!((M=a.options)===null||M===void 0)&&M.captchaToken?{gotrue_meta_security:{captcha_token:(z=a.options)===null||z===void 0?void 0:z.captchaToken}}:null),xform:Gn});if(W)throw W;if(!H||!H.session||!H.user){const X=new mr;return this._returnResult({data:{user:null,session:null},error:X})}return H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),this._returnResult({data:Object.assign({},H),error:W})}catch(H){if(mt(H))return this._returnResult({data:{user:null,session:null},error:H});throw H}}async _exchangeCodeForSession(a){const o=await _s(this.storage,`${this.storageKey}-code-verifier`),[u,d]=(o??"").split("/");try{if(!u&&this.flowType==="pkce")throw new by;const{data:p,error:_}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:u},xform:Gn});if(await Pe(this.storage,`${this.storageKey}-code-verifier`),_)throw _;if(!p||!p.session||!p.user){const w=new mr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:w})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign(Object.assign({},p),{redirectType:d??null}),error:_})}catch(p){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),mt(p))return this._returnResult({data:{user:null,session:null,redirectType:null},error:p});throw p}}async signInWithIdToken(a){try{const{options:o,provider:u,token:d,access_token:p,nonce:_}=a,w=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:u,id_token:d,access_token:p,nonce:_,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Gn}),{data:y,error:x}=w;if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!y||!y.session||!y.user){const E=new mr;return this._returnResult({data:{user:null,session:null},error:E})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:x})}catch(o){if(mt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithOtp(a){var o,u,d,p,_;try{if("email"in a){const{email:w,options:y}=a;let x=null,E=null;this.flowType==="pkce"&&([x,E]=await pr(this.storage,this.storageKey));const{error:N}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:w,data:(o=y?.data)!==null&&o!==void 0?o:{},create_user:(u=y?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:x,code_challenge_method:E},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:N})}if("phone"in a){const{phone:w,options:y}=a,{data:x,error:E}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:w,data:(d=y?.data)!==null&&d!==void 0?d:{},create_user:(p=y?.shouldCreateUser)!==null&&p!==void 0?p:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(_=y?.channel)!==null&&_!==void 0?_:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:x?.message_id},error:E})}throw new xu("You must provide either an email or phone number.")}catch(w){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),mt(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async verifyOtp(a){var o,u;try{let d,p;"options"in a&&(d=(o=a.options)===null||o===void 0?void 0:o.redirectTo,p=(u=a.options)===null||u===void 0?void 0:u.captchaToken);const{data:_,error:w}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:p}}),redirectTo:d,xform:Gn});if(w)throw w;if(!_)throw new Error("An error occurred on token verification.");const y=_.session,x=_.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:x,session:y},error:null})}catch(d){if(mt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(a){var o,u,d,p,_;try{let w=null,y=null;this.flowType==="pkce"&&([w,y]=await pr(this.storage,this.storageKey));const x=await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(u=(o=a.options)===null||o===void 0?void 0:o.redirectTo)!==null&&u!==void 0?u:void 0}),!((d=a?.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:w,code_challenge_method:y}),headers:this.headers,xform:Vy});return!((p=x.data)===null||p===void 0)&&p.url&&qe()&&!(!((_=a.options)===null||_===void 0)&&_.skipBrowserRedirect)&&window.location.assign(x.data.url),this._returnResult(x)}catch(w){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),mt(w))return this._returnResult({data:null,error:w});throw w}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)throw u;if(!o)throw new vn;const{error:d}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(a){if(mt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const o=`${this.url}/resend`;if("email"in a){const{email:u,type:d,options:p}=a,{error:_}=await vt(this.fetch,"POST",o,{headers:this.headers,body:{email:u,type:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}else if("phone"in a){const{phone:u,type:d,options:p}=a,{data:_,error:w}=await vt(this.fetch,"POST",o,{headers:this.headers,body:{phone:u,type:d,gotrue_meta_security:{captcha_token:p?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:_?.message_id},error:w})}throw new xu("You must provide either an email or phone number and a type")}catch(o){if(mt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async o=>o))}async _acquireLock(a,o){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const u=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await u,await o()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const u=o();for(this.pendingInLock.push((async()=>{try{await u}catch{}})()),await u;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await u}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await a(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const o=await _s(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?a=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const u=a.expires_at?a.expires_at*1e3-Date.now()<Zh:!1;if(this._debug("#__loadSession()",`session has${u?"":" not"} expired`,"expires_at",a.expires_at),!u){if(this.userStorage){const _=await _s(this.userStorage,this.storageKey+"-user");_?.user?a.user=_.user:a.user=Vh()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const _={value:this.suppressGetSessionWarning};a.user=Hy(a.user,_),_.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:d,error:p}=await this._callRefreshToken(a.refresh_token);return p?this._returnResult({data:{session:null},error:p}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const o=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return o.data.user&&(this.suppressGetSessionWarning=!0),o}async _getUser(a){try{return a?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Ea}):await this._useSession(async o=>{var u,d,p;const{data:_,error:w}=o;if(w)throw w;return!(!((u=_.session)===null||u===void 0)&&u.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vn}:await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(p=(d=_.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0,xform:Ea})})}catch(o){if(mt(o))return vy(o)&&(await this._removeSession(),await Pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:o});throw o}}async updateUser(a,o={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,o))}async _updateUser(a,o={}){try{return await this._useSession(async u=>{const{data:d,error:p}=u;if(p)throw p;if(!d.session)throw new vn;const _=d.session;let w=null,y=null;this.flowType==="pkce"&&a.email!=null&&([w,y]=await pr(this.storage,this.storageKey));const{data:x,error:E}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:w,code_challenge_method:y}),jwt:_.access_token,xform:Ea});if(E)throw E;return _.user=x.user,await this._saveSession(_),await this._notifyAllSubscribers("USER_UPDATED",_),this._returnResult({data:{user:_.user},error:null})})}catch(u){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),mt(u))return this._returnResult({data:{user:null},error:u});throw u}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new vn;const o=Date.now()/1e3;let u=o,d=!0,p=null;const{payload:_}=Gh(a.access_token);if(_.exp&&(u=_.exp,d=u<=o),d){const{data:w,error:y}=await this._callRefreshToken(a.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!w)return{data:{user:null,session:null},error:null};p=w}else{const{data:w,error:y}=await this._getUser(a.access_token);if(y)throw y;p={access_token:a.access_token,refresh_token:a.refresh_token,user:w.user,token_type:"bearer",expires_in:u-o,expires_at:u},await this._saveSession(p),await this._notifyAllSubscribers("SIGNED_IN",p)}return this._returnResult({data:{user:p.user,session:p},error:null})}catch(o){if(mt(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async o=>{var u;if(!a){const{data:_,error:w}=o;if(w)throw w;a=(u=_.session)!==null&&u!==void 0?u:void 0}if(!a?.refresh_token)throw new vn;const{data:d,error:p}=await this._callRefreshToken(a.refresh_token);return p?this._returnResult({data:{user:null,session:null},error:p}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(o){if(mt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async _getSessionFromURL(a,o){try{if(!qe())throw new Su("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Su(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new Up("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Su("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Up("No code detected.");const{data:X,error:I}=await this._exchangeCodeForSession(a.code);if(I)throw I;const dt=new URL(window.location.href);return dt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",dt.toString()),{data:{session:X.session,redirectType:null},error:null}}const{provider_token:u,provider_refresh_token:d,access_token:p,refresh_token:_,expires_in:w,expires_at:y,token_type:x}=a;if(!p||!w||!_||!x)throw new Su("No session defined in URL");const E=Math.round(Date.now()/1e3),N=parseInt(w);let M=E+N;y&&(M=parseInt(y));const z=M-E;z*1e3<=br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${z}s, should have been closer to ${N}s`);const B=M-N;E-B>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",B,M,E):E-B<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",B,M,E);const{data:Z,error:H}=await this._getUser(p);if(H)throw H;const W={provider_token:u,provider_refresh_token:d,access_token:p,expires_in:N,expires_at:M,refresh_token:_,token_type:x,user:Z.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:W,redirectType:a.type},error:null})}catch(u){if(mt(u))return this._returnResult({data:{session:null,redirectType:null},error:u});throw u}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const o=await _s(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&o)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async o=>{var u;const{data:d,error:p}=o;if(p)return this._returnResult({error:p});const _=(u=d.session)===null||u===void 0?void 0:u.access_token;if(_){const{error:w}=await this.admin.signOut(_,a);if(w&&!(gy(w)&&(w.status===404||w.status===401||w.status===403)))return this._returnResult({error:w})}return a!=="others"&&(await this._removeSession(),await Pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const o=Ay(),u={id:o,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,u),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:u}}}async _emitInitialSession(a){return await this._useSession(async o=>{var u,d;try{const{data:{session:p},error:_}=o;if(_)throw _;await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",p)),this._debug("INITIAL_SESSION","callback id",a,"session",p)}catch(p){await((d=this.stateChangeEmitters.get(a))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",p),console.error(p)}})}async resetPasswordForEmail(a,o={}){let u=null,d=null;this.flowType==="pkce"&&([u,d]=await pr(this.storage,this.storageKey,!0));try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:u,code_challenge_method:d,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(p){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),mt(p))return this._returnResult({data:null,error:p});throw p}}async getUserIdentities(){var a;try{const{data:o,error:u}=await this.getUser();if(u)throw u;return this._returnResult({data:{identities:(a=o.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(o){if(mt(o))return this._returnResult({data:null,error:o});throw o}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var o;try{const{data:u,error:d}=await this._useSession(async p=>{var _,w,y,x,E;const{data:N,error:M}=p;if(M)throw M;const z=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(_=a.options)===null||_===void 0?void 0:_.redirectTo,scopes:(w=a.options)===null||w===void 0?void 0:w.scopes,queryParams:(y=a.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await vt(this.fetch,"GET",z,{headers:this.headers,jwt:(E=(x=N.session)===null||x===void 0?void 0:x.access_token)!==null&&E!==void 0?E:void 0})});if(d)throw d;return qe()&&!(!((o=a.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u?.url),this._returnResult({data:{provider:a.provider,url:u?.url},error:null})}catch(u){if(mt(u))return this._returnResult({data:{provider:a.provider,url:null},error:u});throw u}}async linkIdentityIdToken(a){return await this._useSession(async o=>{var u;try{const{error:d,data:{session:p}}=o;if(d)throw d;const{options:_,provider:w,token:y,access_token:x,nonce:E}=a,N=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(u=p?.access_token)!==null&&u!==void 0?u:void 0,body:{provider:w,id_token:y,access_token:x,nonce:E,link_identity:!0,gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:Gn}),{data:M,error:z}=N;return z?this._returnResult({data:{user:null,session:null},error:z}):!M||!M.session||!M.user?this._returnResult({data:{user:null,session:null},error:new mr}):(M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("USER_UPDATED",M.session)),this._returnResult({data:M,error:z}))}catch(d){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),mt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(a){try{return await this._useSession(async o=>{var u,d;const{data:p,error:_}=o;if(_)throw _;return await vt(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})})}catch(o){if(mt(o))return this._returnResult({data:null,error:o});throw o}}async _refreshAccessToken(a){const o=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(o,"begin");try{const u=Date.now();return await jy(async d=>(d>0&&await ky(200*Math.pow(2,d-1)),this._debug(o,"refreshing attempt",d),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Gn})),(d,p)=>{const _=200*Math.pow(2,d);return p&&Ih(p)&&Date.now()+_-u<br})}catch(u){if(this._debug(o,"error",u),mt(u))return this._returnResult({data:{session:null,user:null},error:u});throw u}finally{this._debug(o,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,o){const u=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",o,"url",u),qe()&&!o.skipBrowserRedirect&&window.location.assign(u),{data:{provider:a,url:u},error:null}}async _recoverAndRefresh(){var a,o;const u="#_recoverAndRefresh()";this._debug(u,"begin");try{const d=await _s(this.storage,this.storageKey);if(d&&this.userStorage){let _=await _s(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!_&&(_={user:d.user},await wr(this.userStorage,this.storageKey+"-user",_)),d.user=(a=_?.user)!==null&&a!==void 0?a:Vh()}else if(d&&!d.user&&!d.user){const _=await _s(this.storage,this.storageKey+"-user");_&&_?.user?(d.user=_.user,await Pe(this.storage,this.storageKey+"-user"),await wr(this.storage,this.storageKey,d)):d.user=Vh()}if(this._debug(u,"session from storage",d),!this._isValidSession(d)){this._debug(u,"session is not valid"),d!==null&&await this._removeSession();return}const p=((o=d.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<Zh;if(this._debug(u,`session has${p?"":" not"} expired with margin of ${Zh}s`),p){if(this.autoRefreshToken&&d.refresh_token){const{error:_}=await this._callRefreshToken(d.refresh_token);_&&(console.error(_),Ih(_)||(this._debug(u,"refresh failed with a non-retryable error, removing the session",_),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:_,error:w}=await this._getUser(d.access_token);!w&&_?.user?(d.user=_.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(u,"could not get user data, skipping SIGNED_IN notification")}catch(_){console.error("Error getting user data:",_),this._debug(u,"error getting user data, skipping SIGNED_IN notification",_)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(u,"error",d),console.error(d);return}finally{this._debug(u,"end")}}async _callRefreshToken(a){var o,u;if(!a)throw new vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new Ru;const{data:p,error:_}=await this._refreshAccessToken(a);if(_)throw _;if(!p.session)throw new vn;await this._saveSession(p.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",p.session);const w={data:p.session,error:null};return this.refreshingDeferred.resolve(w),w}catch(p){if(this._debug(d,"error",p),mt(p)){const _={data:null,error:p};return Ih(p)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(_),_}throw(u=this.refreshingDeferred)===null||u===void 0||u.reject(p),p}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(a,o,u=!0){const d=`#_notifyAllSubscribers(${a})`;this._debug(d,"begin",o,`broadcast = ${u}`);try{this.broadcastChannel&&u&&this.broadcastChannel.postMessage({event:a,session:o});const p=[],_=Array.from(this.stateChangeEmitters.values()).map(async w=>{try{await w.callback(a,o)}catch(y){p.push(y)}});if(await Promise.all(_),p.length>0){for(let w=0;w<p.length;w+=1)console.error(p[w]);throw p[0]}}finally{this._debug(d,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await Pe(this.storage,`${this.storageKey}-code-verifier`);const o=Object.assign({},a),u=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!u&&o.user&&await wr(this.userStorage,this.storageKey+"-user",{user:o.user});const d=Object.assign({},o);delete d.user;const p=Zp(d);await wr(this.storage,this.storageKey,p)}else{const d=Zp(o);await wr(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Pe(this.storage,this.storageKey),await Pe(this.storage,this.storageKey+"-code-verifier"),await Pe(this.storage,this.storageKey+"-user"),this.userStorage&&await Pe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&qe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),br);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const o=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=o,o&&typeof o=="object"&&typeof o.unref=="function"?o.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(o)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const o=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,o&&clearTimeout(o)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async o=>{const{data:{session:u}}=o;if(!u||!u.refresh_token||!u.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((u.expires_at*1e3-a)/br);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${br}ms, refresh threshold is ${nf} ticks`),d<=nf&&await this._callRefreshToken(u.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof m_)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const o=`#_onVisibilityChanged(${a})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,o,u){const d=[`provider=${encodeURIComponent(o)}`];if(u?.redirectTo&&d.push(`redirect_to=${encodeURIComponent(u.redirectTo)}`),u?.scopes&&d.push(`scopes=${encodeURIComponent(u.scopes)}`),this.flowType==="pkce"){const[p,_]=await pr(this.storage,this.storageKey),w=new URLSearchParams({code_challenge:`${encodeURIComponent(p)}`,code_challenge_method:`${encodeURIComponent(_)}`});d.push(w.toString())}if(u?.queryParams){const p=new URLSearchParams(u.queryParams);d.push(p.toString())}return u?.skipBrowserRedirect&&d.push(`skip_http_redirect=${u.skipBrowserRedirect}`),`${a}?${d.join("&")}`}async _unenroll(a){try{return await this._useSession(async o=>{var u;const{data:d,error:p}=o;return p?this._returnResult({data:null,error:p}):await vt(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(u=d?.session)===null||u===void 0?void 0:u.access_token})})}catch(o){if(mt(o))return this._returnResult({data:null,error:o});throw o}}async _enroll(a){try{return await this._useSession(async o=>{var u,d;const{data:p,error:_}=o;if(_)return this._returnResult({data:null,error:_});const w=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:y,error:x}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:w,headers:this.headers,jwt:(u=p?.session)===null||u===void 0?void 0:u.access_token});return x?this._returnResult({data:null,error:x}):(a.factorType==="totp"&&y.type==="totp"&&(!((d=y?.totp)===null||d===void 0)&&d.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(o){if(mt(o))return this._returnResult({data:null,error:o});throw o}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async o=>{var u;const{data:d,error:p}=o;if(p)return this._returnResult({data:null,error:p});const _=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?o0(a.webauthn.credential_response):l0(a.webauthn.credential_response)})}:{code:a.code}),{data:w,error:y}=await vt(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:_,headers:this.headers,jwt:(u=d?.session)===null||u===void 0?void 0:u.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+w.expires_in},w)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",w),this._returnResult({data:w,error:y}))})}catch(o){if(mt(o))return this._returnResult({data:null,error:o});throw o}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async o=>{var u;const{data:d,error:p}=o;if(p)return this._returnResult({data:null,error:p});const _=await vt(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(u=d?.session)===null||u===void 0?void 0:u.access_token});if(_.error)return _;const{data:w}=_;if(w.type!=="webauthn")return{data:w,error:null};switch(w.webauthn.type){case"create":return{data:Object.assign(Object.assign({},w),{webauthn:Object.assign(Object.assign({},w.webauthn),{credential_options:Object.assign(Object.assign({},w.webauthn.credential_options),{publicKey:s0(w.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},w),{webauthn:Object.assign(Object.assign({},w.webauthn),{credential_options:Object.assign(Object.assign({},w.webauthn.credential_options),{publicKey:r0(w.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(o){if(mt(o))return this._returnResult({data:null,error:o});throw o}})}async _challengeAndVerify(a){const{data:o,error:u}=await this._challenge({factorId:a.factorId});return u?this._returnResult({data:null,error:u}):await this._verify({factorId:a.factorId,challengeId:o.id,code:a.code})}async _listFactors(){var a;const{data:{user:o},error:u}=await this.getUser();if(u)return{data:null,error:u};const d={all:[],phone:[],totp:[],webauthn:[]};for(const p of(a=o?.factors)!==null&&a!==void 0?a:[])d.all.push(p),p.status==="verified"&&d[p.factor_type].push(p);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var a,o;const{data:{session:u},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=Gh(u.access_token);let _=null;p.aal&&(_=p.aal);let w=_;((o=(a=u.user.factors)===null||a===void 0?void 0:a.filter(E=>E.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(w="aal2");const x=p.amr||[];return{data:{currentLevel:_,nextLevel:w,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async o=>{const{data:{session:u},error:d}=o;return d?this._returnResult({data:null,error:d}):u?await vt(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:u.access_token,xform:p=>({data:p,error:null})}):this._returnResult({data:null,error:new vn})})}catch(o){if(mt(o))return this._returnResult({data:null,error:o});throw o}}async _approveAuthorization(a,o){try{return await this._useSession(async u=>{const{data:{session:d},error:p}=u;if(p)return this._returnResult({data:null,error:p});if(!d)return this._returnResult({data:null,error:new vn});const _=await vt(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:w=>({data:w,error:null})});return _.data&&_.data.redirect_url&&qe()&&!o?.skipBrowserRedirect&&window.location.assign(_.data.redirect_url),_})}catch(u){if(mt(u))return this._returnResult({data:null,error:u});throw u}}async _denyAuthorization(a,o){try{return await this._useSession(async u=>{const{data:{session:d},error:p}=u;if(p)return this._returnResult({data:null,error:p});if(!d)return this._returnResult({data:null,error:new vn});const _=await vt(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:w=>({data:w,error:null})});return _.data&&_.data.redirect_url&&qe()&&!o?.skipBrowserRedirect&&window.location.assign(_.data.redirect_url),_})}catch(u){if(mt(u))return this._returnResult({data:null,error:u});throw u}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;return u?this._returnResult({data:null,error:u}):o?await vt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new vn})})}catch(a){if(mt(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async o=>{const{data:{session:u},error:d}=o;return d?this._returnResult({data:null,error:d}):u?(await vt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:u.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new vn})})}catch(o){if(mt(o))return this._returnResult({data:null,error:o});throw o}}async fetchJwk(a,o={keys:[]}){let u=o.keys.find(w=>w.kid===a);if(u)return u;const d=Date.now();if(u=this.jwks.keys.find(w=>w.kid===a),u&&this.jwks_cached_at+py>d)return u;const{data:p,error:_}=await vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(_)throw _;return!p.keys||p.keys.length===0||(this.jwks=p,this.jwks_cached_at=d,u=p.keys.find(w=>w.kid===a),!u)?null:u}async getClaims(a,o={}){try{let u=a;if(!u){const{data:z,error:B}=await this.getSession();if(B||!z.session)return this._returnResult({data:null,error:B});u=z.session.access_token}const{header:d,payload:p,signature:_,raw:{header:w,payload:y}}=Gh(u);o?.allowExpired||By(p.exp);const x=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,o?.keys?{keys:o.keys}:o?.jwks);if(!x){const{error:z}=await this.getUser(u);if(z)throw z;return{data:{claims:p,header:d,signature:_},error:null}}const E=Py(d.alg),N=await crypto.subtle.importKey("jwk",x,E,!0,["verify"]);if(!await crypto.subtle.verify(E,N,_,Ey(`${w}.${y}`)))throw new rf("Invalid JWT signature");return{data:{claims:p,header:d,signature:_},error:null}}catch(u){if(mt(u))return this._returnResult({data:null,error:u});throw u}}}Io.nextInstanceID={};const g0=Io,v0="2.90.1";let zo="";typeof Deno<"u"?zo="deno":typeof document<"u"?zo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zo="react-native":zo="node";const y0={"X-Client-Info":`supabase-js-${zo}/${v0}`},b0={headers:y0},w0={schema:"public"},x0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},S0={};function Go(l){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Go(l)}function T0(l,a){if(Go(l)!="object"||!l)return l;var o=l[Symbol.toPrimitive];if(o!==void 0){var u=o.call(l,a);if(Go(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(l)}function E0(l){var a=T0(l,"string");return Go(a)=="symbol"?a:a+""}function O0(l,a,o){return(a=E0(a))in l?Object.defineProperty(l,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[a]=o,l}function Xp(l,a){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(l);a&&(u=u.filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable})),o.push.apply(o,u)}return o}function pe(l){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?Xp(Object(o),!0).forEach(function(u){O0(l,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):Xp(Object(o)).forEach(function(u){Object.defineProperty(l,u,Object.getOwnPropertyDescriptor(o,u))})}return l}const A0=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),C0=()=>Headers,N0=(l,a,o)=>{const u=A0(o),d=C0();return async(p,_)=>{var w;const y=(w=await a())!==null&&w!==void 0?w:l;let x=new d(_?.headers);return x.has("apikey")||x.set("apikey",l),x.has("Authorization")||x.set("Authorization",`Bearer ${y}`),u(p,pe(pe({},_),{},{headers:x}))}};function k0(l){return l.endsWith("/")?l:l+"/"}function j0(l,a){var o,u;const{db:d,auth:p,realtime:_,global:w}=l,{db:y,auth:x,realtime:E,global:N}=a,M={db:pe(pe({},y),d),auth:pe(pe({},x),p),realtime:pe(pe({},E),_),storage:{},global:pe(pe(pe({},N),w),{},{headers:pe(pe({},(o=N?.headers)!==null&&o!==void 0?o:{}),(u=w?.headers)!==null&&u!==void 0?u:{})}),accessToken:async()=>""};return l.accessToken?M.accessToken=l.accessToken:delete M.accessToken,M}function R0(l){const a=l?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(k0(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var L0=class extends g0{constructor(l){super(l)}},M0=class{constructor(l,a,o){var u,d;this.supabaseUrl=l,this.supabaseKey=a;const p=R0(l);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const _=`sb-${p.hostname.split(".")[0]}-auth-token`,w={db:w0,realtime:S0,auth:pe(pe({},x0),{},{storageKey:_}),global:b0},y=j0(o??{},w);if(this.storageKey=(u=y.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(d=y.global.headers)!==null&&d!==void 0?d:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(E,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}});else{var x;this.auth=this._initSupabaseAuthClient((x=y.auth)!==null&&x!==void 0?x:{},this.headers,y.global.fetch)}this.fetch=N0(a,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(pe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(E=>this.realtime.setAuth(E)).catch(E=>console.warn("Failed to set initial Realtime auth token:",E)),this.rest=new dv(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new cy(this.storageUrl.href,this.headers,this.fetch,o?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new lv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,a={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(l,a,o)}channel(l,a={config:{}}){return this.realtime.channel(l,a)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var l=this,a,o;if(l.accessToken)return await l.accessToken();const{data:u}=await l.auth.getSession();return(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:l.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:a,detectSessionInUrl:o,storage:u,userStorage:d,storageKey:p,flowType:_,lock:w,debug:y,throwOnError:x},E,N){const M={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new L0({url:this.authUrl.href,headers:pe(pe({},M),E),storageKey:p,autoRefreshToken:l,persistSession:a,detectSessionInUrl:o,storage:u,userStorage:d,flowType:_,lock:w,debug:y,throwOnError:x,fetch:N,hasCustomAuthorizationHeader:Object.keys(this.headers).some(z=>z.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new kv(this.realtimeUrl.href,pe(pe({},l),{},{params:pe(pe({},{apikey:this.supabaseKey}),l?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,a)=>{this._handleTokenChanged(l,"CLIENT",a?.access_token)})}_handleTokenChanged(l,a,o){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):l==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const z0=(l,a,o)=>new M0(l,a,o);function D0(){if(typeof window<"u")return!1;const l=globalThis.process;if(!l)return!1;const a=l.version;if(a==null)return!1;const o=a.match(/^v(\d+)\./);return o?parseInt(o[1],10)<=18:!1}D0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const U0="https://khuhmpnzecoudjsiiskd.supabase.co",B0="sb_publishable_YM_eSNleizLnlIlYUJ8wNg_XCKAIso5",At=z0(U0,B0);const P0=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q0=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,o,u)=>u?u.toUpperCase():o.toLowerCase()),Jp=l=>{const a=q0(l);return a.charAt(0).toUpperCase()+a.slice(1)},g_=(...l)=>l.filter((a,o,u)=>!!a&&a.trim()!==""&&u.indexOf(a)===o).join(" ").trim(),H0=l=>{for(const a in l)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var Z0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const I0=at.forwardRef(({color:l="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:u,className:d="",children:p,iconNode:_,...w},y)=>at.createElement("svg",{ref:y,...Z0,width:a,height:a,stroke:l,strokeWidth:u?Number(o)*24/Number(a):o,className:g_("lucide",d),...!p&&!H0(w)&&{"aria-hidden":"true"},...w},[..._.map(([x,E])=>at.createElement(x,E)),...Array.isArray(p)?p:[p]]));const Dt=(l,a)=>{const o=at.forwardRef(({className:u,...d},p)=>at.createElement(I0,{ref:p,iconNode:a,className:g_(`lucide-${P0(Jp(l))}`,`lucide-${l}`,u),...d}));return o.displayName=Jp(l),o};const G0=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],v_=Dt("arrow-left",G0);const V0=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$0=Dt("arrow-right",V0);const K0=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Nu=Dt("bell",K0);const Y0=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Tr=Dt("building-2",Y0);const X0=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],J0=Dt("calendar",X0);const Q0=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vf=Dt("check",Q0);const W0=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],y_=Dt("circle-check-big",W0);const F0=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tb=Dt("clock",F0);const eb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],nb=Dt("download",eb);const ib=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],b_=Dt("ellipsis-vertical",ib);const ab=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],sb=Dt("external-link",ab);const rb=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ob=Dt("key",rb);const lb=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],w_=Dt("layout-dashboard",lb);const ub=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],x_=Dt("log-out",ub);const cb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],of=Dt("map-pin",cb);const hb=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],lf=Dt("map",hb);const fb=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],db=Dt("menu",fb);const mb=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],S_=Dt("navigation",mb);const pb=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_b=Dt("pen",pb);const gb=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],yf=Dt("phone",gb);const vb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],T_=Dt("plus",vb);const yb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],E_=Dt("refresh-cw",yb);const bb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wb=Dt("search",bb);const xb=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Sb=Dt("share-2",xb);const Tb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Eb=Dt("shield",Tb);const Ob=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bf=Dt("trash-2",Ob);const Ab=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cb=Dt("triangle-alert",Ab);const Nb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],kb=Dt("user-plus",Nb);const jb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Rb=Dt("user-x",jb);const Lb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uf=Dt("user",Lb);const Mb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qp=Dt("users",Mb);const zb=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],cf=Dt("wallet",zb);const Db=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wf=Dt("x",Db),Ub=()=>{const[l,a]=at.useState([]),[o,u]=at.useState(null),[d,p]=at.useState(!0);at.useEffect(()=>{_()},[]);const _=async()=>{p(!0);const{data:{user:y}}=await At.auth.getUser();if(!y){p(!1);return}const{data:x,error:E}=await At.from("siteboss_projects").select("*").eq("owner_id",y.id).eq("status","ACTIVE").order("created_at",{ascending:!1});!E&&x?(a(x),u(x[0]||null)):(a([]),u(null)),p(!1)},w=y=>y?y.latitude&&y.longitude?`https://www.google.com/maps?q=${y.latitude},${y.longitude}&z=16&output=embed`:y.location?`https://www.google.com/maps?q=${encodeURIComponent(y.location)}&z=15&output=embed`:"":"";return b.jsxs("div",{className:"flex flex-col h-full bg-white rounded-3xl overflow-hidden shadow-card border border-slate-200",children:[b.jsxs("div",{className:"flex-1 relative bg-slate-100 min-h-[50%]",children:[d?b.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-400",children:"Loading Map..."}):o?b.jsx("iframe",{title:"Live Site Map",width:"100%",height:"100%",frameBorder:"0",scrolling:"no",src:w(o),className:"w-full h-full object-cover"}):b.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-400",children:[b.jsx(of,{className:"w-12 h-12 mb-2 opacity-20"}),b.jsx("p",{children:"No Active Sites Found"})]}),o&&b.jsxs("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-md p-3 rounded-xl shadow-lg border border-white/50 max-w-[200px]",children:[b.jsx("p",{className:"text-[10px] font-bold text-nexus-muted uppercase",children:"Currently Viewing"}),b.jsx("p",{className:"font-bold text-nexus-dark truncate",children:o.name}),b.jsxs("div",{className:"flex items-center gap-1 text-xs text-nexus-accent font-bold mt-1",children:[b.jsx(of,{className:"w-3 h-3"}),o.location]})]})]}),b.jsxs("div",{className:"h-[40%] bg-white flex flex-col",children:[b.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50",children:b.jsxs("h3",{className:"font-bold text-nexus-dark flex items-center gap-2",children:[b.jsx(S_,{className:"w-4 h-4 text-nexus-accent"}),"Live Site Locations"]})}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:l.map(y=>b.jsxs("div",{onClick:()=>u(y),className:`p-4 rounded-xl border cursor-pointer transition-all flex justify-between items-center group ${o?.id===y.id?"bg-nexus-dark text-white border-nexus-dark shadow-lg":"bg-white border-slate-100 hover:border-nexus-accent hover:shadow-md"}`,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`p-2 rounded-lg ${o?.id===y.id?"bg-white/10":"bg-slate-100 group-hover:bg-nexus-accent/20"}`,children:b.jsx(Tr,{className:`w-5 h-5 ${o?.id===y.id?"text-nexus-accent":"text-slate-500 group-hover:text-nexus-dark"}`})}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-sm",children:y.name}),b.jsx("p",{className:`text-xs ${o?.id===y.id?"text-slate-300":"text-nexus-muted"}`,children:y.location})]})]}),b.jsx("a",{href:y.latitude&&y.longitude?`https://www.google.com/maps/search/?api=1&query=${y.latitude},${y.longitude}`:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(y.location)}`,target:"_blank",rel:"noreferrer",onClick:x=>x.stopPropagation(),className:`p-2 rounded-full ${o?.id===y.id?"text-white hover:bg-white/20":"text-slate-300 hover:text-nexus-dark hover:bg-slate-100"}`,children:b.jsx(sb,{className:"w-4 h-4"})})]},y.id))})]})]})};function Bb(l,a){const o=at.useRef(a);at.useEffect(function(){a!==o.current&&l.attributionControl!=null&&(o.current!=null&&l.attributionControl.removeAttribution(o.current),a!=null&&l.attributionControl.addAttribution(a)),o.current=a},[l,a])}Fp();const Pb=1;function qb(l){return Object.freeze({__version:Pb,map:l})}function Hb(l,a){return Object.freeze({...l,...a})}const xf=at.createContext(null);function O_(){const l=at.use(xf);if(l==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return l}function Zb(l){function a(o,u){const{instance:d,context:p}=l(o).current;at.useImperativeHandle(u,()=>d);const{children:_}=o;return _==null?null:Eu.createElement(xf,{value:p},_)}return at.forwardRef(a)}function Ib(l){function a(o,u){const{instance:d}=l(o).current;return at.useImperativeHandle(u,()=>d),null}return at.forwardRef(a)}function Gb(l,a){const o=at.useRef(void 0);at.useEffect(function(){return a!=null&&l.instance.on(a),o.current=a,function(){o.current!=null&&l.instance.off(o.current),o.current=null}},[l,a])}function A_(l,a){const o=l.pane??a.pane;return o?{...l,pane:o}:l}var Do={exports:{}};var Vb=Do.exports,Wp;function $b(){return Wp||(Wp=1,(function(l,a){(function(o,u){u(a)})(Vb,(function(o){var u="1.9.4";function d(n){var s,c,m,g;for(c=1,m=arguments.length;c<m;c++){g=arguments[c];for(s in g)n[s]=g[s]}return n}var p=Object.create||(function(){function n(){}return function(s){return n.prototype=s,new n}})();function _(n,s){var c=Array.prototype.slice;if(n.bind)return n.bind.apply(n,c.call(arguments,1));var m=c.call(arguments,2);return function(){return n.apply(s,m.length?m.concat(c.call(arguments)):arguments)}}var w=0;function y(n){return"_leaflet_id"in n||(n._leaflet_id=++w),n._leaflet_id}function x(n,s,c){var m,g,S,O;return O=function(){m=!1,g&&(S.apply(c,g),g=!1)},S=function(){m?g=arguments:(n.apply(c,arguments),setTimeout(O,s),m=!0)},S}function E(n,s,c){var m=s[1],g=s[0],S=m-g;return n===m&&c?n:((n-g)%S+S)%S+g}function N(){return!1}function M(n,s){if(s===!1)return n;var c=Math.pow(10,s===void 0?6:s);return Math.round(n*c)/c}function z(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function B(n){return z(n).split(/\s+/)}function Z(n,s){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?p(n.options):{});for(var c in s)n.options[c]=s[c];return n.options}function H(n,s,c){var m=[];for(var g in n)m.push(encodeURIComponent(c?g.toUpperCase():g)+"="+encodeURIComponent(n[g]));return(!s||s.indexOf("?")===-1?"?":"&")+m.join("&")}var W=/\{ *([\w_ -]+) *\}/g;function X(n,s){return n.replace(W,function(c,m){var g=s[m];if(g===void 0)throw new Error("No value provided for variable "+c);return typeof g=="function"&&(g=g(s)),g})}var I=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function dt(n,s){for(var c=0;c<n.length;c++)if(n[c]===s)return c;return-1}var zt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _t(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var lt=0;function $t(n){var s=+new Date,c=Math.max(0,16-(s-lt));return lt=s+c,window.setTimeout(n,c)}var ee=window.requestAnimationFrame||_t("RequestAnimationFrame")||$t,Rn=window.cancelAnimationFrame||_t("CancelAnimationFrame")||_t("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function Qt(n,s,c){if(c&&ee===$t)n.call(s);else return ee.call(window,_(n,s))}function Wt(n){n&&Rn.call(window,n)}var ui={__proto__:null,extend:d,create:p,bind:_,get lastId(){return w},stamp:y,throttle:x,wrapNum:E,falseFn:N,formatNum:M,trim:z,splitWords:B,setOptions:Z,getParamString:H,template:X,isArray:I,indexOf:dt,emptyImageUrl:zt,requestFn:ee,cancelFn:Rn,requestAnimFrame:Qt,cancelAnimFrame:Wt};function Ee(){}Ee.extend=function(n){var s=function(){Z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=s.__super__=this.prototype,m=p(c);m.constructor=s,s.prototype=m;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(s[g]=this[g]);return n.statics&&d(s,n.statics),n.includes&&(ln(n.includes),d.apply(null,[m].concat(n.includes))),d(m,n),delete m.statics,delete m.includes,m.options&&(m.options=c.options?p(c.options):{},d(m.options,n.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,O=m._initHooks.length;S<O;S++)m._initHooks[S].call(this)}},s},Ee.include=function(n){var s=this.prototype.options;return d(this.prototype,n),n.options&&(this.prototype.options=s,this.mergeOptions(n.options)),this},Ee.mergeOptions=function(n){return d(this.prototype.options,n),this},Ee.addInitHook=function(n){var s=Array.prototype.slice.call(arguments,1),c=typeof n=="function"?n:function(){this[n].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function ln(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=I(n)?n:[n];for(var s=0;s<n.length;s++)n[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var V={on:function(n,s,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],s);else{n=B(n);for(var g=0,S=n.length;g<S;g++)this._on(n[g],s,c)}return this},off:function(n,s,c){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var m in n)this._off(m,n[m],s);else{n=B(n);for(var g=arguments.length===1,S=0,O=n.length;S<O;S++)g?this._off(n[S]):this._off(n[S],s,c)}return this},_on:function(n,s,c,m){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(n,s,c)===!1){c===this&&(c=void 0);var g={fn:s,ctx:c};m&&(g.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(g)}},_off:function(n,s,c){var m,g,S;if(this._events&&(m=this._events[n],!!m)){if(arguments.length===1){if(this._firingCount)for(g=0,S=m.length;g<S;g++)m[g].fn=N;delete this._events[n];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var O=this._listens(n,s,c);if(O!==!1){var R=m[O];this._firingCount&&(R.fn=N,this._events[n]=m=m.slice()),m.splice(O,1)}}},fire:function(n,s,c){if(!this.listens(n,c))return this;var m=d({},s,{type:n,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var g=this._events[n];if(g){this._firingCount=this._firingCount+1||1;for(var S=0,O=g.length;S<O;S++){var R=g[S],P=R.fn;R.once&&this.off(n,P,R.ctx),P.call(R.ctx||this,m)}this._firingCount--}}return c&&this._propagateEvent(m),this},listens:function(n,s,c,m){typeof n!="string"&&console.warn('"string" type argument expected');var g=s;typeof s!="function"&&(m=!!s,g=void 0,c=void 0);var S=this._events&&this._events[n];if(S&&S.length&&this._listens(n,g,c)!==!1)return!0;if(m){for(var O in this._eventParents)if(this._eventParents[O].listens(n,s,c,m))return!0}return!1},_listens:function(n,s,c){if(!this._events)return!1;var m=this._events[n]||[];if(!s)return!!m.length;c===this&&(c=void 0);for(var g=0,S=m.length;g<S;g++)if(m[g].fn===s&&m[g].ctx===c)return g;return!1},once:function(n,s,c){if(typeof n=="object")for(var m in n)this._on(m,n[m],s,!0);else{n=B(n);for(var g=0,S=n.length;g<S;g++)this._on(n[g],s,c,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[y(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[y(n)],this},_propagateEvent:function(n){for(var s in this._eventParents)this._eventParents[s].fire(n.type,d({layer:n.target,propagatedFrom:n.target},n),!0)}};V.addEventListener=V.on,V.removeEventListener=V.clearAllEventListeners=V.off,V.addOneTimeEventListener=V.once,V.fireEvent=V.fire,V.hasEventListeners=V.listens;var it=Ee.extend(V);function F(n,s,c){this.x=c?Math.round(n):n,this.y=c?Math.round(s):s}var Ht=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};F.prototype={clone:function(){return new F(this.x,this.y)},add:function(n){return this.clone()._add(st(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(st(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new F(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new F(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ht(this.x),this.y=Ht(this.y),this},distanceTo:function(n){n=st(n);var s=n.x-this.x,c=n.y-this.y;return Math.sqrt(s*s+c*c)},equals:function(n){return n=st(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=st(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function st(n,s,c){return n instanceof F?n:I(n)?new F(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new F(n.x,n.y):new F(n,s,c)}function C(n,s){if(n)for(var c=s?[n,s]:n,m=0,g=c.length;m<g;m++)this.extend(c[m])}C.prototype={extend:function(n){var s,c;if(!n)return this;if(n instanceof F||typeof n[0]=="number"||"x"in n)s=c=st(n);else if(n=$(n),s=n.min,c=n.max,!s||!c)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=c.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(n){return st((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return st(this.min.x,this.max.y)},getTopRight:function(){return st(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var s,c;return typeof n[0]=="number"||n instanceof F?n=st(n):n=$(n),n instanceof C?(s=n.min,c=n.max):s=c=n,s.x>=this.min.x&&c.x<=this.max.x&&s.y>=this.min.y&&c.y<=this.max.y},intersects:function(n){n=$(n);var s=this.min,c=this.max,m=n.min,g=n.max,S=g.x>=s.x&&m.x<=c.x,O=g.y>=s.y&&m.y<=c.y;return S&&O},overlaps:function(n){n=$(n);var s=this.min,c=this.max,m=n.min,g=n.max,S=g.x>s.x&&m.x<c.x,O=g.y>s.y&&m.y<c.y;return S&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var s=this.min,c=this.max,m=Math.abs(s.x-c.x)*n,g=Math.abs(s.y-c.y)*n;return $(st(s.x-m,s.y-g),st(c.x+m,c.y+g))},equals:function(n){return n?(n=$(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function $(n,s){return!n||n instanceof C?n:new C(n,s)}function tt(n,s){if(n)for(var c=s?[n,s]:n,m=0,g=c.length;m<g;m++)this.extend(c[m])}tt.prototype={extend:function(n){var s=this._southWest,c=this._northEast,m,g;if(n instanceof ot)m=n,g=n;else if(n instanceof tt){if(m=n._southWest,g=n._northEast,!m||!g)return this}else return n?this.extend(rt(n)||et(n)):this;return!s&&!c?(this._southWest=new ot(m.lat,m.lng),this._northEast=new ot(g.lat,g.lng)):(s.lat=Math.min(m.lat,s.lat),s.lng=Math.min(m.lng,s.lng),c.lat=Math.max(g.lat,c.lat),c.lng=Math.max(g.lng,c.lng)),this},pad:function(n){var s=this._southWest,c=this._northEast,m=Math.abs(s.lat-c.lat)*n,g=Math.abs(s.lng-c.lng)*n;return new tt(new ot(s.lat-m,s.lng-g),new ot(c.lat+m,c.lng+g))},getCenter:function(){return new ot((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ot(this.getNorth(),this.getWest())},getSouthEast:function(){return new ot(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof ot||"lat"in n?n=rt(n):n=et(n);var s=this._southWest,c=this._northEast,m,g;return n instanceof tt?(m=n.getSouthWest(),g=n.getNorthEast()):m=g=n,m.lat>=s.lat&&g.lat<=c.lat&&m.lng>=s.lng&&g.lng<=c.lng},intersects:function(n){n=et(n);var s=this._southWest,c=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),S=g.lat>=s.lat&&m.lat<=c.lat,O=g.lng>=s.lng&&m.lng<=c.lng;return S&&O},overlaps:function(n){n=et(n);var s=this._southWest,c=this._northEast,m=n.getSouthWest(),g=n.getNorthEast(),S=g.lat>s.lat&&m.lat<c.lat,O=g.lng>s.lng&&m.lng<c.lng;return S&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,s){return n?(n=et(n),this._southWest.equals(n.getSouthWest(),s)&&this._northEast.equals(n.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function et(n,s){return n instanceof tt?n:new tt(n,s)}function ot(n,s,c){if(isNaN(n)||isNaN(s))throw new Error("Invalid LatLng object: ("+n+", "+s+")");this.lat=+n,this.lng=+s,c!==void 0&&(this.alt=+c)}ot.prototype={equals:function(n,s){if(!n)return!1;n=rt(n);var c=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return c<=(s===void 0?1e-9:s)},toString:function(n){return"LatLng("+M(this.lat,n)+", "+M(this.lng,n)+")"},distanceTo:function(n){return se.distance(this,rt(n))},wrap:function(){return se.wrapLatLng(this)},toBounds:function(n){var s=180*n/40075017,c=s/Math.cos(Math.PI/180*this.lat);return et([this.lat-s,this.lng-c],[this.lat+s,this.lng+c])},clone:function(){return new ot(this.lat,this.lng,this.alt)}};function rt(n,s,c){return n instanceof ot?n:I(n)&&typeof n[0]!="object"?n.length===3?new ot(n[0],n[1],n[2]):n.length===2?new ot(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new ot(n.lat,"lng"in n?n.lng:n.lon,n.alt):s===void 0?null:new ot(n,s,c)}var Ot={latLngToPoint:function(n,s){var c=this.projection.project(n),m=this.scale(s);return this.transformation._transform(c,m)},pointToLatLng:function(n,s){var c=this.scale(s),m=this.transformation.untransform(n,c);return this.projection.unproject(m)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var s=this.projection.bounds,c=this.scale(n),m=this.transformation.transform(s.min,c),g=this.transformation.transform(s.max,c);return new C(m,g)},infinite:!1,wrapLatLng:function(n){var s=this.wrapLng?E(n.lng,this.wrapLng,!0):n.lng,c=this.wrapLat?E(n.lat,this.wrapLat,!0):n.lat,m=n.alt;return new ot(c,s,m)},wrapLatLngBounds:function(n){var s=n.getCenter(),c=this.wrapLatLng(s),m=s.lat-c.lat,g=s.lng-c.lng;if(m===0&&g===0)return n;var S=n.getSouthWest(),O=n.getNorthEast(),R=new ot(S.lat-m,S.lng-g),P=new ot(O.lat-m,O.lng-g);return new tt(R,P)}},se=d({},Ot,{wrapLng:[-180,180],R:6371e3,distance:function(n,s){var c=Math.PI/180,m=n.lat*c,g=s.lat*c,S=Math.sin((s.lat-n.lat)*c/2),O=Math.sin((s.lng-n.lng)*c/2),R=S*S+Math.cos(m)*Math.cos(g)*O*O,P=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R));return this.R*P}}),re=6378137,ci={R:re,MAX_LATITUDE:85.0511287798,project:function(n){var s=Math.PI/180,c=this.MAX_LATITUDE,m=Math.max(Math.min(c,n.lat),-c),g=Math.sin(m*s);return new F(this.R*n.lng*s,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(n){var s=180/Math.PI;return new ot((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*s,n.x*s/this.R)},bounds:(function(){var n=re*Math.PI;return new C([-n,-n],[n,n])})()};function Pi(n,s,c,m){if(I(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=s,this._c=c,this._d=m}Pi.prototype={transform:function(n,s){return this._transform(n.clone(),s)},_transform:function(n,s){return s=s||1,n.x=s*(this._a*n.x+this._b),n.y=s*(this._c*n.y+this._d),n},untransform:function(n,s){return s=s||1,new F((n.x/s-this._b)/this._a,(n.y/s-this._d)/this._c)}};function hi(n,s,c,m){return new Pi(n,s,c,m)}var ws=d({},se,{code:"EPSG:3857",projection:ci,transformation:(function(){var n=.5/(Math.PI*ci.R);return hi(n,.5,-n,.5)})()}),fi=d({},ws,{code:"EPSG:900913"});function xs(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Ss(n,s){var c="",m,g,S,O,R,P;for(m=0,S=n.length;m<S;m++){for(R=n[m],g=0,O=R.length;g<O;g++)P=R[g],c+=(g?"L":"M")+P.x+" "+P.y;c+=s?ht.svg?"z":"x":""}return c||"M0 0"}var Er=document.documentElement.style,Oa="ActiveXObject"in window,Or=Oa&&!document.addEventListener,Ts="msLaunchUri"in navigator&&!("documentMode"in document),Aa=Xe("webkit"),$o=Xe("android"),Ko=Xe("android 2")||Xe("android 3"),Ge=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Mu=$o&&Xe("Google")&&Ge<537&&!("AudioNode"in window),Es=!!window.opera,Ar=!Ts&&Xe("chrome"),Ca=Xe("gecko")&&!Aa&&!Es&&!Oa,zu=!Ar&&Xe("safari"),Cr=Xe("phantom"),Yo="OTransition"in Er,Du=navigator.platform.indexOf("Win")===0,qi=Oa&&"transition"in Er,Me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ko,Ln="MozPerspective"in Er,Ve=!window.L_DISABLE_3D&&(qi||Me||Ln)&&!Yo&&!Cr,Na=typeof orientation<"u"||Xe("mobile"),Uu=Na&&Aa,Bu=Na&&Me,ka=!window.PointerEvent&&window.MSPointerEvent,ja=!!(window.PointerEvent||ka),Ra="ontouchstart"in window||!!window.TouchEvent,di=!window.L_NO_TOUCH&&(Ra||ja),Os=Na&&Es,La=Na&&Ca,Pu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Xo=(function(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",N,s),window.removeEventListener("testPassiveEventSupport",N,s)}catch{}return n})(),Nr=(function(){return!!document.createElement("canvas").getContext})(),mi=!!(document.createElementNS&&xs("svg").createSVGRect),qu=!!mi&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Jo=!mi&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var s=n.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),Qo=navigator.platform.indexOf("Mac")===0,Wo=navigator.platform.indexOf("Linux")===0;function Xe(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var ht={ie:Oa,ielt9:Or,edge:Ts,webkit:Aa,android:$o,android23:Ko,androidStock:Mu,opera:Es,chrome:Ar,gecko:Ca,safari:zu,phantom:Cr,opera12:Yo,win:Du,ie3d:qi,webkit3d:Me,gecko3d:Ln,any3d:Ve,mobile:Na,mobileWebkit:Uu,mobileWebkit3d:Bu,msPointer:ka,pointer:ja,touch:di,touchNative:Ra,mobileOpera:Os,mobileGecko:La,retina:Pu,passiveEvents:Xo,canvas:Nr,svg:mi,vml:Jo,inlineSvg:qu,mac:Qo,linux:Wo},kr=ht.msPointer?"MSPointerDown":"pointerdown",jr=ht.msPointer?"MSPointerMove":"pointermove",Mn=ht.msPointer?"MSPointerUp":"pointerup",ve=ht.msPointer?"MSPointerCancel":"pointercancel",ke={touchstart:kr,touchmove:jr,touchend:Mn,touchcancel:ve},pi={touchstart:Zi,touchmove:Yn,touchend:Yn,touchcancel:Yn},Kn={},Fo=!1;function Hu(n,s,c){return s==="touchstart"&&Hi(),pi[s]?(c=pi[s].bind(this,c),n.addEventListener(ke[s],c,!1),c):(console.warn("wrong event specified:",s),N)}function tl(n,s,c){if(!ke[s]){console.warn("wrong event specified:",s);return}n.removeEventListener(ke[s],c,!1)}function Ma(n){Kn[n.pointerId]=n}function Rr(n){Kn[n.pointerId]&&(Kn[n.pointerId]=n)}function _i(n){delete Kn[n.pointerId]}function Hi(){Fo||(document.addEventListener(kr,Ma,!0),document.addEventListener(jr,Rr,!0),document.addEventListener(Mn,_i,!0),document.addEventListener(ve,_i,!0),Fo=!0)}function Yn(n,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var c in Kn)s.touches.push(Kn[c]);s.changedTouches=[s],n(s)}}function Zi(n,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&he(s),Yn(n,s)}function ye(n){var s={},c,m;for(m in n)c=n[m],s[m]=c&&c.bind?c.bind(n):c;return n=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var el=200;function nl(n,s){n.addEventListener("dblclick",s);var c=0,m;function g(S){if(S.detail!==1){m=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var O=Ha(S);if(!(O.some(function(P){return P instanceof HTMLLabelElement&&P.attributes.for})&&!O.some(function(P){return P instanceof HTMLInputElement||P instanceof HTMLSelectElement}))){var R=Date.now();R-c<=el?(m++,m===2&&s(ye(S))):m=1,c=R}}}return n.addEventListener("click",g),{dblclick:s,simDblclick:g}}function gi(n,s){n.removeEventListener("dblclick",s.dblclick),n.removeEventListener("click",s.simDblclick)}var Xn=Ua(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),za=Ua(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Lr=za==="webkitTransition"||za==="OTransition"?za+"End":"transitionend";function Mr(n){return typeof n=="string"?document.getElementById(n):n}function Da(n,s){var c=n.style[s]||n.currentStyle&&n.currentStyle[s];if((!c||c==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(n,null);c=m?m[s]:null}return c==="auto"?null:c}function Ct(n,s,c){var m=document.createElement(n);return m.className=s||"",c&&c.appendChild(m),m}function Kt(n){var s=n.parentNode;s&&s.removeChild(n)}function Je(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Oe(n){var s=n.parentNode;s&&s.lastChild!==n&&s.appendChild(n)}function vi(n){var s=n.parentNode;s&&s.firstChild!==n&&s.insertBefore(n,s.firstChild)}function zr(n,s){if(n.classList!==void 0)return n.classList.contains(s);var c=As(n);return c.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(c)}function wt(n,s){if(n.classList!==void 0)for(var c=B(s),m=0,g=c.length;m<g;m++)n.classList.add(c[m]);else if(!zr(n,s)){var S=As(n);Ii(n,(S?S+" ":"")+s)}}function oe(n,s){n.classList!==void 0?n.classList.remove(s):Ii(n,z((" "+As(n)+" ").replace(" "+s+" "," ")))}function Ii(n,s){n.className.baseVal===void 0?n.className=s:n.className.baseVal=s}function As(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ie(n,s){"opacity"in n.style?n.style.opacity=s:"filter"in n.style&&Dr(n,s)}function Dr(n,s){var c=!1,m="DXImageTransform.Microsoft.Alpha";try{c=n.filters.item(m)}catch{if(s===1)return}s=Math.round(s*100),c?(c.Enabled=s!==100,c.Opacity=s):n.style.filter+=" progid:"+m+"(opacity="+s+")"}function Ua(n){for(var s=document.documentElement.style,c=0;c<n.length;c++)if(n[c]in s)return n[c];return!1}function zn(n,s,c){var m=s||new F(0,0);n.style[Xn]=(ht.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(c?" scale("+c+")":"")}function Ft(n,s){n._leaflet_pos=s,ht.any3d?zn(n,s):(n.style.left=s.x+"px",n.style.top=s.y+"px")}function Jn(n){return n._leaflet_pos||new F(0,0)}var Gi,wn,Ur;if("onselectstart"in document)Gi=function(){bt(window,"selectstart",he)},wn=function(){It(window,"selectstart",he)};else{var Vi=Ua(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Gi=function(){if(Vi){var n=document.documentElement.style;Ur=n[Vi],n[Vi]="none"}},wn=function(){Vi&&(document.documentElement.style[Vi]=Ur,Ur=void 0)}}function Cs(){bt(window,"dragstart",he)}function Ba(){It(window,"dragstart",he)}var Ns,Br;function $i(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Qe(),Ns=n,Br=n.style.outlineStyle,n.style.outlineStyle="none",bt(window,"keydown",Qe))}function Qe(){Ns&&(Ns.style.outlineStyle=Br,Ns=void 0,Br=void 0,It(window,"keydown",Qe))}function ks(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Pa(n){var s=n.getBoundingClientRect();return{x:s.width/n.offsetWidth||1,y:s.height/n.offsetHeight||1,boundingClientRect:s}}var Ki={__proto__:null,TRANSFORM:Xn,TRANSITION:za,TRANSITION_END:Lr,get:Mr,getStyle:Da,create:Ct,remove:Kt,empty:Je,toFront:Oe,toBack:vi,hasClass:zr,addClass:wt,removeClass:oe,setClass:Ii,getClass:As,setOpacity:ie,testProp:Ua,setTransform:zn,setPosition:Ft,getPosition:Jn,get disableTextSelection(){return Gi},get enableTextSelection(){return wn},disableImageDrag:Cs,enableImageDrag:Ba,preventOutline:$i,restoreOutline:Qe,getSizedParentNode:ks,getScale:Pa};function bt(n,s,c,m){if(s&&typeof s=="object")for(var g in s)cn(n,g,s[g],c);else{s=B(s);for(var S=0,O=s.length;S<O;S++)cn(n,s[S],c,m)}return this}var un="_leaflet_events";function It(n,s,c,m){if(arguments.length===1)Pr(n),delete n[un];else if(s&&typeof s=="object")for(var g in s)qa(n,g,s[g],c);else if(s=B(s),arguments.length===2)Pr(n,function(R){return dt(s,R)!==-1});else for(var S=0,O=s.length;S<O;S++)qa(n,s[S],c,m);return this}function Pr(n,s){for(var c in n[un]){var m=c.split(/\d/)[0];(!s||s(m))&&qa(n,m,null,null,c)}}var yi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function cn(n,s,c,m){var g=s+y(c)+(m?"_"+y(m):"");if(n[un]&&n[un][g])return this;var S=function(R){return c.call(m||n,R||window.event)},O=S;!ht.touchNative&&ht.pointer&&s.indexOf("touch")===0?S=Hu(n,s,S):ht.touch&&s==="dblclick"?S=nl(n,S):"addEventListener"in n?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?n.addEventListener(yi[s]||s,S,ht.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(S=function(R){R=R||window.event,Dn(n,R)&&O(R)},n.addEventListener(yi[s],S,!1)):n.addEventListener(s,O,!1):n.attachEvent("on"+s,S),n[un]=n[un]||{},n[un][g]=S}function qa(n,s,c,m,g){g=g||s+y(c)+(m?"_"+y(m):"");var S=n[un]&&n[un][g];if(!S)return this;!ht.touchNative&&ht.pointer&&s.indexOf("touch")===0?tl(n,s,S):ht.touch&&s==="dblclick"?gi(n,S):"removeEventListener"in n?n.removeEventListener(yi[s]||s,S,!1):n.detachEvent("on"+s,S),n[un][g]=null}function hn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function xn(n){return cn(n,"wheel",hn),this}function bi(n){return bt(n,"mousedown touchstart dblclick contextmenu",hn),n._leaflet_disable_click=!0,this}function he(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Qn(n){return he(n),hn(n),this}function Ha(n){if(n.composedPath)return n.composedPath();for(var s=[],c=n.target;c;)s.push(c),c=c.parentNode;return s}function Za(n,s){if(!s)return new F(n.clientX,n.clientY);var c=Pa(s),m=c.boundingClientRect;return new F((n.clientX-m.left)/c.x-s.clientLeft,(n.clientY-m.top)/c.y-s.clientTop)}var il=ht.linux&&ht.chrome?window.devicePixelRatio:ht.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ze(n){return ht.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/il:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Dn(n,s){var c=s.relatedTarget;if(!c)return!0;try{for(;c&&c!==n;)c=c.parentNode}catch{return!1}return c!==n}var js={__proto__:null,on:bt,off:It,stopPropagation:hn,disableScrollPropagation:xn,disableClickPropagation:bi,preventDefault:he,stop:Qn,getPropagationPath:Ha,getMousePosition:Za,getWheelDelta:ze,isExternalTarget:Dn,addListener:bt,removeListener:It},Yi=it.extend({run:function(n,s,c,m){this.stop(),this._el=n,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=Jn(n),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Qt(this._animate,this),this._step()},_step:function(n){var s=+new Date-this._startTime,c=this._duration*1e3;s<c?this._runFrame(this._easeOut(s/c),n):(this._runFrame(1),this._complete())},_runFrame:function(n,s){var c=this._startPos.add(this._offset.multiplyBy(n));s&&c._round(),Ft(this._el,c),this.fire("step")},_complete:function(){Wt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Rt=it.extend({options:{crs:ws,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,s){s=Z(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=_(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(rt(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=za&&ht.any3d&&!ht.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),bt(this._proxy,Lr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,s,c){if(s=s===void 0?this._zoom:this._limitZoom(s),n=this._limitCenter(rt(n),s,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=d({animate:c.animate},c.zoom),c.pan=d({animate:c.animate,duration:c.duration},c.pan));var m=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,s,c.zoom):this._tryAnimatedPan(n,c.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(n,s,c.pan&&c.pan.noMoveStart),this},setZoom:function(n,s){return this._loaded?this.setView(this.getCenter(),n,{zoom:s}):(this._zoom=n,this)},zoomIn:function(n,s){return n=n||(ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,s)},zoomOut:function(n,s){return n=n||(ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,s)},setZoomAround:function(n,s,c){var m=this.getZoomScale(s),g=this.getSize().divideBy(2),S=n instanceof F?n:this.latLngToContainerPoint(n),O=S.subtract(g).multiplyBy(1-1/m),R=this.containerPointToLatLng(g.add(O));return this.setView(R,s,{zoom:c})},_getBoundsCenterZoom:function(n,s){s=s||{},n=n.getBounds?n.getBounds():et(n);var c=st(s.paddingTopLeft||s.padding||[0,0]),m=st(s.paddingBottomRight||s.padding||[0,0]),g=this.getBoundsZoom(n,!1,c.add(m));if(g=typeof s.maxZoom=="number"?Math.min(s.maxZoom,g):g,g===1/0)return{center:n.getCenter(),zoom:g};var S=m.subtract(c).divideBy(2),O=this.project(n.getSouthWest(),g),R=this.project(n.getNorthEast(),g),P=this.unproject(O.add(R).divideBy(2).add(S),g);return{center:P,zoom:g}},fitBounds:function(n,s){if(n=et(n),!n.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(n,s);return this.setView(c.center,c.zoom,s)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,s){return this.setView(n,this._zoom,{pan:s})},panBy:function(n,s){if(n=st(n).round(),s=s||{},!n.x&&!n.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Yi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){wt(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,c,s.duration||.25,s.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,s,c){if(c=c||{},c.animate===!1||!ht.any3d)return this.setView(n,s,c);this._stop();var m=this.project(this.getCenter()),g=this.project(n),S=this.getSize(),O=this._zoom;n=rt(n),s=s===void 0?O:s;var R=Math.max(S.x,S.y),P=R*this.getZoomScale(O,s),J=g.distanceTo(m)||1,nt=1.42,ft=nt*nt;function Tt(ue){var qn=ue?-1:1,Ti=ue?P:R,to=P*P-R*R+qn*ft*ft*J*J,as=2*Ti*ft*J,ss=to/as,ri=Math.sqrt(ss*ss+1)-ss,Hn=ri<1e-9?-18:Math.log(ri);return Hn}function Ae(ue){return(Math.exp(ue)-Math.exp(-ue))/2}function fe(ue){return(Math.exp(ue)+Math.exp(-ue))/2}function Ke(ue){return Ae(ue)/fe(ue)}var Ut=Tt(0);function Bt(ue){return R*(fe(Ut)/fe(Ut+nt*ue))}function Nt(ue){return R*(fe(Ut)*Ke(Ut+nt*ue)-Ae(Ut))/ft}function ai(ue){return 1-Math.pow(1-ue,1.5)}var en=Date.now(),Vs=(Tt(1)-Ut)/nt,si=c.duration?1e3*c.duration:1e3*Vs*.8;function Fr(){var ue=(Date.now()-en)/si,qn=ai(ue)*Vs;ue<=1?(this._flyToFrame=Qt(Fr,this),this._move(this.unproject(m.add(g.subtract(m).multiplyBy(Nt(qn)/J)),O),this.getScaleZoom(R/Bt(qn),O),{flyTo:!0})):this._move(n,s)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),Fr.call(this),this},flyToBounds:function(n,s){var c=this._getBoundsCenterZoom(n,s);return this.flyTo(c.center,c.zoom,s)},setMaxBounds:function(n){return n=et(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var s=this.options.minZoom;return this.options.minZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var s=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,s){this._enforcingBounds=!0;var c=this.getCenter(),m=this._limitCenter(c,this._zoom,et(n));return c.equals(m)||this.panTo(m,s),this._enforcingBounds=!1,this},panInside:function(n,s){s=s||{};var c=st(s.paddingTopLeft||s.padding||[0,0]),m=st(s.paddingBottomRight||s.padding||[0,0]),g=this.project(this.getCenter()),S=this.project(n),O=this.getPixelBounds(),R=$([O.min.add(c),O.max.subtract(m)]),P=R.getSize();if(!R.contains(S)){this._enforcingBounds=!0;var J=S.subtract(R.getCenter()),nt=R.extend(S).getSize().subtract(P);g.x+=J.x<0?-nt.x:nt.x,g.y+=J.y<0?-nt.y:nt.y,this.panTo(this.unproject(g),s),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=d({animate:!1,pan:!0},n===!0?{animate:!0}:n);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),m=s.divideBy(2).round(),g=c.divideBy(2).round(),S=m.subtract(g);return!S.x&&!S.y?this:(n.animate&&n.pan?this.panBy(S):(n.pan&&this._rawPanBy(S),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=d({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=_(this._handleGeolocationResponse,this),c=_(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,c,n):navigator.geolocation.getCurrentPosition(s,c,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var s=n.code,c=n.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var s=n.coords.latitude,c=n.coords.longitude,m=new ot(s,c),g=m.toBounds(n.coords.accuracy*2),S=this._locateOptions;if(S.setView){var O=this.getBoundsZoom(g);this.setView(m,S.maxZoom?Math.min(O,S.maxZoom):O)}var R={latlng:m,bounds:g,timestamp:n.timestamp};for(var P in n.coords)typeof n.coords[P]=="number"&&(R[P]=n.coords[P]);this.fire("locationfound",R)}},addHandler:function(n,s){if(!s)return this;var c=this[n]=new s(this);return this._handlers.push(c),this.options[n]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Kt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Wt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Kt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,s){var c="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),m=Ct("div",c,s||this._mapPane);return n&&(this._panes[n]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),s=this.unproject(n.getBottomLeft()),c=this.unproject(n.getTopRight());return new tt(s,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,s,c){n=et(n),c=st(c||[0,0]);var m=this.getZoom()||0,g=this.getMinZoom(),S=this.getMaxZoom(),O=n.getNorthWest(),R=n.getSouthEast(),P=this.getSize().subtract(c),J=$(this.project(R,m),this.project(O,m)).getSize(),nt=ht.any3d?this.options.zoomSnap:1,ft=P.x/J.x,Tt=P.y/J.y,Ae=s?Math.max(ft,Tt):Math.min(ft,Tt);return m=this.getScaleZoom(Ae,m),nt&&(m=Math.round(m/(nt/100))*(nt/100),m=s?Math.ceil(m/nt)*nt:Math.floor(m/nt)*nt),Math.max(g,Math.min(S,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,s){var c=this._getTopLeftPoint(n,s);return new C(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,s){var c=this.options.crs;return s=s===void 0?this._zoom:s,c.scale(n)/c.scale(s)},getScaleZoom:function(n,s){var c=this.options.crs;s=s===void 0?this._zoom:s;var m=c.zoom(n*c.scale(s));return isNaN(m)?1/0:m},project:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(rt(n),s)},unproject:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(st(n),s)},layerPointToLatLng:function(n){var s=st(n).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(n){var s=this.project(rt(n))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(rt(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(et(n))},distance:function(n,s){return this.options.crs.distance(rt(n),rt(s))},containerPointToLayerPoint:function(n){return st(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return st(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var s=this.containerPointToLayerPoint(st(n));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(rt(n)))},mouseEventToContainerPoint:function(n){return Za(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var s=this._container=Mr(n);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");bt(s,"scroll",this._onScroll,this),this._containerId=y(s)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&ht.any3d,wt(n,"leaflet-container"+(ht.touch?" leaflet-touch":"")+(ht.retina?" leaflet-retina":"")+(ht.ielt9?" leaflet-oldie":"")+(ht.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Da(n,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ft(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(wt(n.markerPane,"leaflet-zoom-hide"),wt(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,s,c){Ft(this._mapPane,new F(0,0));var m=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var g=this._zoom!==s;this._moveStart(g,c)._move(n,s)._moveEnd(g),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(n,s){return n&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(n,s,c,m){s===void 0&&(s=this._zoom);var g=this._zoom!==s;return this._zoom=s,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),m?c&&c.pinch&&this.fire("zoom",c):((g||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Wt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Ft(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[y(this._container)]=this;var s=n?It:bt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),ht.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Wt(this._resizeRequest),this._resizeRequest=Qt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,s){for(var c=[],m,g=s==="mouseout"||s==="mouseover",S=n.target||n.srcElement,O=!1;S;){if(m=this._targets[y(S)],m&&(s==="click"||s==="preclick")&&this._draggableMoved(m)){O=!0;break}if(m&&m.listens(s,!0)&&(g&&!Dn(S,n)||(c.push(m),g))||S===this._container)break;S=S.parentNode}return!c.length&&!O&&!g&&this.listens(s,!0)&&(c=[this]),c},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var s=n.target||n.srcElement;if(!(!this._loaded||s._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(s))){var c=n.type;c==="mousedown"&&$i(s),this._fireDOMEvent(n,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,s,c){if(n.type==="click"){var m=d({},n);m.type="preclick",this._fireDOMEvent(m,m.type,c)}var g=this._findEventTargets(n,s);if(c){for(var S=[],O=0;O<c.length;O++)c[O].listens(s,!0)&&S.push(c[O]);g=S.concat(g)}if(g.length){s==="contextmenu"&&he(n);var R=g[0],P={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var J=R.getLatLng&&(!R._radius||R._radius<=10);P.containerPoint=J?this.latLngToContainerPoint(R.getLatLng()):this.mouseEventToContainerPoint(n),P.layerPoint=this.containerPointToLayerPoint(P.containerPoint),P.latlng=J?R.getLatLng():this.layerPointToLatLng(P.layerPoint)}for(O=0;O<g.length;O++)if(g[O].fire(s,P,!0),P.originalEvent._stopped||g[O].options.bubblingMouseEvents===!1&&dt(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,s=this._handlers.length;n<s;n++)this._handlers[n].disable()},whenReady:function(n,s){return this._loaded?n.call(s||this,{target:this}):this.on("load",n,s),this},_getMapPanePos:function(){return Jn(this._mapPane)||new F(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,s){var c=n&&s!==void 0?this._getNewPixelOrigin(n,s):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,s){var c=this.getSize()._divideBy(2);return this.project(n,s)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,s,c){var m=this._getNewPixelOrigin(c,s);return this.project(n,s)._subtract(m)},_latLngBoundsToNewLayerBounds:function(n,s,c){var m=this._getNewPixelOrigin(c,s);return $([this.project(n.getSouthWest(),s)._subtract(m),this.project(n.getNorthWest(),s)._subtract(m),this.project(n.getSouthEast(),s)._subtract(m),this.project(n.getNorthEast(),s)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,s,c){if(!c)return n;var m=this.project(n,s),g=this.getSize().divideBy(2),S=new C(m.subtract(g),m.add(g)),O=this._getBoundsOffset(S,c,s);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?n:this.unproject(m.add(O),s)},_limitOffset:function(n,s){if(!s)return n;var c=this.getPixelBounds(),m=new C(c.min.add(n),c.max.add(n));return n.add(this._getBoundsOffset(m,s))},_getBoundsOffset:function(n,s,c){var m=$(this.project(s.getNorthEast(),c),this.project(s.getSouthWest(),c)),g=m.min.subtract(n.min),S=m.max.subtract(n.max),O=this._rebound(g.x,-S.x),R=this._rebound(g.y,-S.y);return new F(O,R)},_rebound:function(n,s){return n+s>0?Math.round(n-s)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(s))},_limitZoom:function(n){var s=this.getMinZoom(),c=this.getMaxZoom(),m=ht.any3d?this.options.zoomSnap:1;return m&&(n=Math.round(n/m)*m),Math.max(s,Math.min(c,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,s){var c=this._getCenterOffset(n)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,s),!0)},_createAnimProxy:function(){var n=this._proxy=Ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(s){var c=Xn,m=this._proxy.style[c];zn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),m===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Kt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),s=this.getZoom();zn(this._proxy,this.project(n,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,s,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(s),g=this._getCenterOffset(n)._divideBy(1-1/m);return c.animate!==!0&&!this.getSize().contains(g)?!1:(Qt(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(n,s,!0)},this),!0)},_animateZoom:function(n,s,c,m){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=s,wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:s,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qr(n,s){return new Rt(n,s)}var $e=Ee.extend({options:{position:"topright"},initialize:function(n){Z(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var s=this._map;return s&&s.removeControl(this),this.options.position=n,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var s=this._container=this.onAdd(n),c=this.getPosition(),m=n._controlCorners[c];return wt(s,"leaflet-control"),c.indexOf("bottom")!==-1?m.insertBefore(s,m.firstChild):m.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Kt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Un=function(n){return new $e(n)};Rt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},s="leaflet-",c=this._controlContainer=Ct("div",s+"control-container",this._container);function m(g,S){var O=s+g+" "+s+S;n[g+S]=Ct("div",O,c)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Kt(this._controlCorners[n]);Kt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ia=$e.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,s,c,m){return c<m?-1:m<c?1:0}},initialize:function(n,s,c){Z(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in n)this._addLayer(n[m],m);for(m in s)this._addLayer(s[m],m,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return $e.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,s){return this._addLayer(n,s),this._map?this._update():this},addOverlay:function(n,s){return this._addLayer(n,s,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var s=this._getLayer(y(n));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",s=this._container=Ct("div",n),c=this.options.collapsed;s.setAttribute("aria-haspopup",!0),bi(s),xn(s);var m=this._section=Ct("section",n+"-list");c&&(this._map.on("click",this.collapse,this),bt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Ct("a",n+"-toggle",s);g.href="#",g.title="Layers",g.setAttribute("role","button"),bt(g,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){he(S),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Ct("div",n+"-base",m),this._separator=Ct("div",n+"-separator",m),this._overlaysList=Ct("div",n+"-overlays",m),s.appendChild(m)},_getLayer:function(n){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&y(this._layers[s].layer)===n)return this._layers[s]},_addLayer:function(n,s,c){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:s,overlay:c}),this.options.sortLayers&&this._layers.sort(_(function(m,g){return this.options.sortFunction(m.layer,g.layer,m.name,g.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Je(this._baseLayersList),Je(this._overlaysList),this._layerControlInputs=[];var n,s,c,m,g=0;for(c=0;c<this._layers.length;c++)m=this._layers[c],this._addItem(m),s=s||m.overlay,n=n||!m.overlay,g+=m.overlay?0:1;return this.options.hideSingleBase&&(n=n&&g>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=s&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var s=this._getLayer(y(n.target)),c=s.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;c&&this._map.fire(c,s)},_createRadioElement:function(n,s){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(s?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=c,m.firstChild},_addItem:function(n){var s=document.createElement("label"),c=this._map.hasLayer(n.layer),m;n.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=c):m=this._createRadioElement("leaflet-base-layers_"+y(this),c),this._layerControlInputs.push(m),m.layerId=y(n.layer),bt(m,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+n.name;var S=document.createElement("span");s.appendChild(S),S.appendChild(m),S.appendChild(g);var O=n.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,s,c,m=[],g=[];this._handlingClick=!0;for(var S=n.length-1;S>=0;S--)s=n[S],c=this._getLayer(s.layerId).layer,s.checked?m.push(c):s.checked||g.push(c);for(S=0;S<g.length;S++)this._map.hasLayer(g[S])&&this._map.removeLayer(g[S]);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])||this._map.addLayer(m[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,s,c,m=this._map.getZoom(),g=n.length-1;g>=0;g--)s=n[g],c=this._getLayer(s.layerId).layer,s.disabled=c.options.minZoom!==void 0&&m<c.options.minZoom||c.options.maxZoom!==void 0&&m>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,bt(n,"click",he),this.expand();var s=this;setTimeout(function(){It(n,"click",he),s._preventClick=!1})}}),al=function(n,s,c){return new Ia(n,s,c)},Hr=$e.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var s="leaflet-control-zoom",c=Ct("div",s+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,s+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,s+"-out",c,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,s,c,m,g){var S=Ct("a",c,m);return S.innerHTML=n,S.href="#",S.title=s,S.setAttribute("role","button"),S.setAttribute("aria-label",s),bi(S),bt(S,"click",Qn),bt(S,"click",g,this),bt(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var n=this._map,s="leaflet-disabled";oe(this._zoomInButton,s),oe(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(wt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(wt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Rt.mergeOptions({zoomControl:!0}),Rt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hr,this.addControl(this.zoomControl))});var Zu=function(n){return new Hr(n)},sl=$e.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var s="leaflet-control-scale",c=Ct("div",s),m=this.options;return this._addScales(m,s+"-line",c),n.on(m.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),c},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,s,c){n.metric&&(this._mScale=Ct("div",s,c)),n.imperial&&(this._iScale=Ct("div",s,c))},_update:function(){var n=this._map,s=n.getSize().y/2,c=n.distance(n.containerPointToLatLng([0,s]),n.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(c)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var s=this._getRoundNum(n),c=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,c,s/n)},_updateImperial:function(n){var s=n*3.2808399,c,m,g;s>5280?(c=s/5280,m=this._getRoundNum(c),this._updateScale(this._iScale,m+" mi",m/c)):(g=this._getRoundNum(s),this._updateScale(this._iScale,g+" ft",g/s))},_updateScale:function(n,s,c){n.style.width=Math.round(this.options.maxWidth*c)+"px",n.innerHTML=s},_getRoundNum:function(n){var s=Math.pow(10,(Math.floor(n)+"").length-1),c=n/s;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,s*c}}),Zr=function(n){return new sl(n)},Iu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ir=$e.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ht.inlineSvg?Iu+" ":"")+"Leaflet</a>"},initialize:function(n){Z(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Ct("div","leaflet-control-attribution"),bi(this._container);for(var s in n._layers)n._layers[s].getAttribution&&this.addAttribution(n._layers[s].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var s in this._attributions)this._attributions[s]&&n.push(s);var c=[];this.options.prefix&&c.push(this.options.prefix),n.length&&c.push(n.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Rt.mergeOptions({attributionControl:!0}),Rt.addInitHook(function(){this.options.attributionControl&&new Ir().addTo(this)});var Gu=function(n){return new Ir(n)};$e.Layers=Ia,$e.Zoom=Hr,$e.Scale=sl,$e.Attribution=Ir,Un.layers=al,Un.zoom=Zu,Un.scale=Zr,Un.attribution=Gu;var Sn=Ee.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Sn.addTo=function(n,s){return n.addHandler(s,this),this};var Vu={Events:V},Gr=ht.touch?"touchstart mousedown":"mousedown",Wn=it.extend({options:{clickTolerance:3},initialize:function(n,s,c,m){Z(this,m),this._element=n,this._dragStartTarget=s||n,this._preventOutline=c},enable:function(){this._enabled||(bt(this._dragStartTarget,Gr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Wn._dragging===this&&this.finishDrag(!0),It(this._dragStartTarget,Gr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!zr(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Wn._dragging===this&&this.finishDrag();return}if(!(Wn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Wn._dragging=this,this._preventOutline&&$i(this._element),Cs(),Gi(),!this._moving)){this.fire("down");var s=n.touches?n.touches[0]:n,c=ks(this._element);this._startPoint=new F(s.clientX,s.clientY),this._startPos=Jn(this._element),this._parentScale=Pa(c);var m=n.type==="mousedown";bt(document,m?"mousemove":"touchmove",this._onMove,this),bt(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var s=n.touches&&n.touches.length===1?n.touches[0]:n,c=new F(s.clientX,s.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,he(n),this._moved||(this.fire("dragstart"),this._moved=!0,wt(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Ft(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){oe(document.body,"leaflet-dragging"),this._lastTarget&&(oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),It(document,"mousemove touchmove",this._onMove,this),It(document,"mouseup touchend touchcancel",this._onUp,this),Ba(),wn();var s=this._moved&&this._moving;this._moving=!1,Wn._dragging=!1,s&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function rl(n,s,c){var m,g=[1,4,2,8],S,O,R,P,J,nt,ft,Tt;for(S=0,nt=n.length;S<nt;S++)n[S]._code=wi(n[S],s);for(R=0;R<4;R++){for(ft=g[R],m=[],S=0,nt=n.length,O=nt-1;S<nt;O=S++)P=n[S],J=n[O],P._code&ft?J._code&ft||(Tt=Rs(J,P,ft,s,c),Tt._code=wi(Tt,s),m.push(Tt)):(J._code&ft&&(Tt=Rs(J,P,ft,s,c),Tt._code=wi(Tt,s),m.push(Tt)),m.push(P));n=m}return n}function ol(n,s){var c,m,g,S,O,R,P,J,nt;if(!n||n.length===0)throw new Error("latlngs not passed");We(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ft=rt([0,0]),Tt=et(n),Ae=Tt.getNorthWest().distanceTo(Tt.getSouthWest())*Tt.getNorthEast().distanceTo(Tt.getNorthWest());Ae<1700&&(ft=Vr(n));var fe=n.length,Ke=[];for(c=0;c<fe;c++){var Ut=rt(n[c]);Ke.push(s.project(rt([Ut.lat-ft.lat,Ut.lng-ft.lng])))}for(R=P=J=0,c=0,m=fe-1;c<fe;m=c++)g=Ke[c],S=Ke[m],O=g.y*S.x-S.y*g.x,P+=(g.x+S.x)*O,J+=(g.y+S.y)*O,R+=O*3;R===0?nt=Ke[0]:nt=[P/R,J/R];var Bt=s.unproject(st(nt));return rt([Bt.lat+ft.lat,Bt.lng+ft.lng])}function Vr(n){for(var s=0,c=0,m=0,g=0;g<n.length;g++){var S=rt(n[g]);s+=S.lat,c+=S.lng,m++}return rt([s/m,c/m])}var $r={__proto__:null,clipPolygon:rl,polygonCenter:ol,centroid:Vr};function ll(n,s){if(!s||!n.length)return n.slice();var c=s*s;return n=Ku(n,c),n=cl(n,c),n}function ul(n,s,c){return Math.sqrt(Ga(n,s,c,!0))}function $u(n,s,c){return Ga(n,s,c)}function cl(n,s){var c=n.length,m=typeof Uint8Array<"u"?Uint8Array:Array,g=new m(c);g[0]=g[c-1]=1,Kr(n,g,s,0,c-1);var S,O=[];for(S=0;S<c;S++)g[S]&&O.push(n[S]);return O}function Kr(n,s,c,m,g){var S=0,O,R,P;for(R=m+1;R<=g-1;R++)P=Ga(n[R],n[m],n[g],!0),P>S&&(O=R,S=P);S>c&&(s[O]=1,Kr(n,s,c,m,O),Kr(n,s,c,O,g))}function Ku(n,s){for(var c=[n[0]],m=1,g=0,S=n.length;m<S;m++)Yu(n[m],n[g])>s&&(c.push(n[m]),g=m);return g<S-1&&c.push(n[S-1]),c}var hl;function fl(n,s,c,m,g){var S=m?hl:wi(n,c),O=wi(s,c),R,P,J;for(hl=O;;){if(!(S|O))return[n,s];if(S&O)return!1;R=S||O,P=Rs(n,s,R,c,g),J=wi(P,c),R===S?(n=P,S=J):(s=P,O=J)}}function Rs(n,s,c,m,g){var S=s.x-n.x,O=s.y-n.y,R=m.min,P=m.max,J,nt;return c&8?(J=n.x+S*(P.y-n.y)/O,nt=P.y):c&4?(J=n.x+S*(R.y-n.y)/O,nt=R.y):c&2?(J=P.x,nt=n.y+O*(P.x-n.x)/S):c&1&&(J=R.x,nt=n.y+O*(R.x-n.x)/S),new F(J,nt,g)}function wi(n,s){var c=0;return n.x<s.min.x?c|=1:n.x>s.max.x&&(c|=2),n.y<s.min.y?c|=4:n.y>s.max.y&&(c|=8),c}function Yu(n,s){var c=s.x-n.x,m=s.y-n.y;return c*c+m*m}function Ga(n,s,c,m){var g=s.x,S=s.y,O=c.x-g,R=c.y-S,P=O*O+R*R,J;return P>0&&(J=((n.x-g)*O+(n.y-S)*R)/P,J>1?(g=c.x,S=c.y):J>0&&(g+=O*J,S+=R*J)),O=n.x-g,R=n.y-S,m?O*O+R*R:new F(g,S)}function We(n){return!I(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Ls(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),We(n)}function Xi(n,s){var c,m,g,S,O,R,P,J;if(!n||n.length===0)throw new Error("latlngs not passed");We(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var nt=rt([0,0]),ft=et(n),Tt=ft.getNorthWest().distanceTo(ft.getSouthWest())*ft.getNorthEast().distanceTo(ft.getNorthWest());Tt<1700&&(nt=Vr(n));var Ae=n.length,fe=[];for(c=0;c<Ae;c++){var Ke=rt(n[c]);fe.push(s.project(rt([Ke.lat-nt.lat,Ke.lng-nt.lng])))}for(c=0,m=0;c<Ae-1;c++)m+=fe[c].distanceTo(fe[c+1])/2;if(m===0)J=fe[0];else for(c=0,S=0;c<Ae-1;c++)if(O=fe[c],R=fe[c+1],g=O.distanceTo(R),S+=g,S>m){P=(S-m)/g,J=[R.x-P*(R.x-O.x),R.y-P*(R.y-O.y)];break}var Ut=s.unproject(st(J));return rt([Ut.lat+nt.lat,Ut.lng+nt.lng])}var Xu={__proto__:null,simplify:ll,pointToSegmentDistance:ul,closestPointOnSegment:$u,clipSegment:fl,_getEdgeIntersection:Rs,_getBitCode:wi,_sqClosestPointOnSegment:Ga,isFlat:We,_flat:Ls,polylineCenter:Xi},Ms={project:function(n){return new F(n.lng,n.lat)},unproject:function(n){return new ot(n.y,n.x)},bounds:new C([-180,-90],[180,90])},zs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new C([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var s=Math.PI/180,c=this.R,m=n.lat*s,g=this.R_MINOR/c,S=Math.sqrt(1-g*g),O=S*Math.sin(m),R=Math.tan(Math.PI/4-m/2)/Math.pow((1-O)/(1+O),S/2);return m=-c*Math.log(Math.max(R,1e-10)),new F(n.lng*s*c,m)},unproject:function(n){for(var s=180/Math.PI,c=this.R,m=this.R_MINOR/c,g=Math.sqrt(1-m*m),S=Math.exp(-n.y/c),O=Math.PI/2-2*Math.atan(S),R=0,P=.1,J;R<15&&Math.abs(P)>1e-7;R++)J=g*Math.sin(O),J=Math.pow((1-J)/(1+J),g/2),P=Math.PI/2-2*Math.atan(S*J)-O,O+=P;return new ot(O*s,n.x*s/c)}},dl={__proto__:null,LonLat:Ms,Mercator:zs,SphericalMercator:ci},ml=d({},se,{code:"EPSG:3395",projection:zs,transformation:(function(){var n=.5/(Math.PI*zs.R);return hi(n,.5,-n,.5)})()}),Yr=d({},se,{code:"EPSG:4326",projection:Ms,transformation:hi(1/180,1,-1/180,.5)}),Ji=d({},Ot,{projection:Ms,transformation:hi(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,s){var c=s.lng-n.lng,m=s.lat-n.lat;return Math.sqrt(c*c+m*m)},infinite:!0});Ot.Earth=se,Ot.EPSG3395=ml,Ot.EPSG3857=ws,Ot.EPSG900913=fi,Ot.EPSG4326=Yr,Ot.Simple=Ji;var fn=it.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[y(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[y(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var s=n.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var c=this.getEvents();s.on(c,this),this.once("remove",function(){s.off(c,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Rt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var s=y(n);return this._layers[s]?this:(this._layers[s]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var s=y(n);return this._layers[s]?(this._loaded&&n.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return y(n)in this._layers},eachLayer:function(n,s){for(var c in this._layers)n.call(s,this._layers[c]);return this},_addLayers:function(n){n=n?I(n)?n:[n]:[];for(var s=0,c=n.length;s<c;s++)this.addLayer(n[s])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[y(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var s=y(n);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,s=-1/0,c=this._getZoomSpan();for(var m in this._zoomBoundLayers){var g=this._zoomBoundLayers[m].options;n=g.minZoom===void 0?n:Math.min(n,g.minZoom),s=g.maxZoom===void 0?s:Math.max(s,g.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=n===1/0?void 0:n,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qi=fn.extend({initialize:function(n,s){Z(this,s),this._layers={};var c,m;if(n)for(c=0,m=n.length;c<m;c++)this.addLayer(n[c])},addLayer:function(n){var s=this.getLayerId(n);return this._layers[s]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var s=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(n){var s=typeof n=="number"?n:this.getLayerId(n);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var s=Array.prototype.slice.call(arguments,1),c,m;for(c in this._layers)m=this._layers[c],m[n]&&m[n].apply(m,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,s){for(var c in this._layers)n.call(s,this._layers[c]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return y(n)}}),Ju=function(n,s){return new Qi(n,s)},Tn=Qi.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Qi.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Qi.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new tt;for(var s in this._layers){var c=this._layers[s];n.extend(c.getBounds?c.getBounds():c.getLatLng())}return n}}),pl=function(n,s){return new Tn(n,s)},En=Ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){Z(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,s){var c=this._getIconUrl(n);if(!c){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(c,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(m,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(n,s){var c=this.options,m=c[s+"Size"];typeof m=="number"&&(m=[m,m]);var g=st(m),S=st(s==="shadow"&&c.shadowAnchor||c.iconAnchor||g&&g.divideBy(2,!0));n.className="leaflet-marker-"+s+" "+(c.className||""),S&&(n.style.marginLeft=-S.x+"px",n.style.marginTop=-S.y+"px"),g&&(n.style.width=g.x+"px",n.style.height=g.y+"px")},_createImg:function(n,s){return s=s||document.createElement("img"),s.src=n,s},_getIconUrl:function(n){return ht.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Va(n){return new En(n)}var $a=En.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof $a.imagePath!="string"&&($a.imagePath=this._detectIconPath()),(this.options.imagePath||$a.imagePath)+En.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var s=function(c,m,g){var S=m.exec(c);return S&&S[g]};return n=s(n,/^url\((['"])?(.+)\1\)$/,2),n&&s(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Ct("div","leaflet-default-icon-path",document.body),s=Da(n,"background-image")||Da(n,"backgroundImage");if(document.body.removeChild(n),s=this._stripUrl(s),s)return s;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Ka=Sn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Wn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),wt(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var s=this._marker,c=s._map,m=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,S=Jn(s._icon),O=c.getPixelBounds(),R=c.getPixelOrigin(),P=$(O.min._subtract(R).add(g),O.max._subtract(R).subtract(g));if(!P.contains(S)){var J=st((Math.max(P.max.x,S.x)-P.max.x)/(O.max.x-P.max.x)-(Math.min(P.min.x,S.x)-P.min.x)/(O.min.x-P.min.x),(Math.max(P.max.y,S.y)-P.max.y)/(O.max.y-P.max.y)-(Math.min(P.min.y,S.y)-P.min.y)/(O.min.y-P.min.y)).multiplyBy(m);c.panBy(J,{animate:!1}),this._draggable._newPos._add(J),this._draggable._startPos._add(J),Ft(s._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=Qt(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(Wt(this._panRequest),this._panRequest=Qt(this._adjustPan.bind(this,n)))},_onDrag:function(n){var s=this._marker,c=s._shadow,m=Jn(s._icon),g=s._map.layerPointToLatLng(m);c&&Ft(c,m),s._latlng=g,n.latlng=g,n.oldLatLng=this._oldLatLng,s.fire("move",n).fire("drag",n)},_onDragEnd:function(n){Wt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Ya=fn.extend({options:{icon:new $a,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,s){Z(this,s),this._latlng=rt(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var s=this._latlng;return this._latlng=rt(n),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=n.icon.createIcon(this._icon),m=!1;c!==this._icon&&(this._icon&&this._removeIcon(),m=!0,n.title&&(c.title=n.title),c.tagName==="IMG"&&(c.alt=n.alt||"")),wt(c,s),n.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&bt(c,"focus",this._panOnFocus,this);var g=n.icon.createShadow(this._shadow),S=!1;g!==this._shadow&&(this._removeShadow(),S=!0),g&&(wt(g,s),g.alt=""),this._shadow=g,n.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&S&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&It(this._icon,"focus",this._panOnFocus,this),Kt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Kt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Ft(this._icon,n),this._shadow&&Ft(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ka)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ka(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ie(this._icon,n),this._shadow&&ie(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var s=this.options.icon.options,c=s.iconSize?st(s.iconSize):st(0,0),m=s.iconAnchor?st(s.iconAnchor):st(0,0);n.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:c.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function _l(n,s){return new Ya(n,s)}var On=fn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return Z(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Wi=On.extend({options:{fill:!0,radius:10},initialize:function(n,s){Z(this,s),this._latlng=rt(n),this._radius=this.options.radius},setLatLng:function(n){var s=this._latlng;return this._latlng=rt(n),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var s=n&&n.radius||this._radius;return On.prototype.setStyle.call(this,n),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,s=this._radiusY||n,c=this._clickTolerance(),m=[n+c,s+c];this._pxBounds=new C(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function gl(n,s){return new Wi(n,s)}var Ds=Wi.extend({initialize:function(n,s,c){if(typeof s=="number"&&(s=d({},c,{radius:s})),Z(this,s),this._latlng=rt(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new tt(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:On.prototype.setStyle,_project:function(){var n=this._latlng.lng,s=this._latlng.lat,c=this._map,m=c.options.crs;if(m.distance===se.distance){var g=Math.PI/180,S=this._mRadius/se.R/g,O=c.project([s+S,n]),R=c.project([s-S,n]),P=O.add(R).divideBy(2),J=c.unproject(P).lat,nt=Math.acos((Math.cos(S*g)-Math.sin(s*g)*Math.sin(J*g))/(Math.cos(s*g)*Math.cos(J*g)))/g;(isNaN(nt)||nt===0)&&(nt=S/Math.cos(Math.PI/180*s)),this._point=P.subtract(c.getPixelOrigin()),this._radius=isNaN(nt)?0:P.x-c.project([J,n-nt]).x,this._radiusY=P.y-O.y}else{var ft=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(ft).x}this._updateBounds()}});function vl(n,s,c){return new Ds(n,s,c)}var Bn=On.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,s){Z(this,s),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var s=1/0,c=null,m=Ga,g,S,O=0,R=this._parts.length;O<R;O++)for(var P=this._parts[O],J=1,nt=P.length;J<nt;J++){g=P[J-1],S=P[J];var ft=m(n,g,S,!0);ft<s&&(s=ft,c=m(n,g,S))}return c&&(c.distance=Math.sqrt(s)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,s){return s=s||this._defaultShape(),n=rt(n),s.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new tt,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return We(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var s=[],c=We(n),m=0,g=n.length;m<g;m++)c?(s[m]=rt(n[m]),this._bounds.extend(s[m])):s[m]=this._convertLatLngs(n[m]);return s},_project:function(){var n=new C;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),s=new F(n,n);this._rawPxBounds&&(this._pxBounds=new C([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(n,s,c){var m=n[0]instanceof ot,g=n.length,S,O;if(m){for(O=[],S=0;S<g;S++)O[S]=this._map.latLngToLayerPoint(n[S]),c.extend(O[S]);s.push(O)}else for(S=0;S<g;S++)this._projectLatlngs(n[S],s,c)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,c,m,g,S,O,R,P;for(c=0,g=0,S=this._rings.length;c<S;c++)for(P=this._rings[c],m=0,O=P.length;m<O-1;m++)R=fl(P[m],P[m+1],n,m,!0),R&&(s[g]=s[g]||[],s[g].push(R[0]),(R[1]!==P[m+1]||m===O-2)&&(s[g].push(R[1]),g++))}},_simplifyPoints:function(){for(var n=this._parts,s=this.options.smoothFactor,c=0,m=n.length;c<m;c++)n[c]=ll(n[c],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,s){var c,m,g,S,O,R,P=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(c=0,S=this._parts.length;c<S;c++)for(R=this._parts[c],m=0,O=R.length,g=O-1;m<O;g=m++)if(!(!s&&m===0)&&ul(n,R[g],R[m])<=P)return!0;return!1}});function Qu(n,s){return new Bn(n,s)}Bn._flat=Ls;var Fi=Bn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ol(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var s=Bn.prototype._convertLatLngs.call(this,n),c=s.length;return c>=2&&s[0]instanceof ot&&s[0].equals(s[c-1])&&s.pop(),s},_setLatLngs:function(n){Bn.prototype._setLatLngs.call(this,n),We(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return We(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,s=this.options.weight,c=new F(s,s);if(n=new C(n.min.subtract(c),n.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,g=this._rings.length,S;m<g;m++)S=rl(this._rings[m],n,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var s=!1,c,m,g,S,O,R,P,J;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(S=0,P=this._parts.length;S<P;S++)for(c=this._parts[S],O=0,J=c.length,R=J-1;O<J;R=O++)m=c[O],g=c[R],m.y>n.y!=g.y>n.y&&n.x<(g.x-m.x)*(n.y-m.y)/(g.y-m.y)+m.x&&(s=!s);return s||Bn.prototype._containsPoint.call(this,n,!0)}});function Wu(n,s){return new Fi(n,s)}var Pn=Tn.extend({initialize:function(n,s){Z(this,s),this._layers={},n&&this.addData(n)},addData:function(n){var s=I(n)?n:n.features,c,m,g;if(s){for(c=0,m=s.length;c<m;c++)g=s[c],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var S=this.options;if(S.filter&&!S.filter(n))return this;var O=je(n,S);return O?(O.feature=Ps(n),O.defaultOptions=O.options,this.resetStyle(O),S.onEachFeature&&S.onEachFeature(n,O),this.addLayer(O)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=d({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(s){this._setLayerStyle(s,n)},this)},_setLayerStyle:function(n,s){n.setStyle&&(typeof s=="function"&&(s=s(n.feature)),n.setStyle(s))}});function je(n,s){var c=n.type==="Feature"?n.geometry:n,m=c?c.coordinates:null,g=[],S=s&&s.pointToLayer,O=s&&s.coordsToLatLng||Us,R,P,J,nt;if(!m&&!c)return null;switch(c.type){case"Point":return R=O(m),ta(S,n,R,s);case"MultiPoint":for(J=0,nt=m.length;J<nt;J++)R=O(m[J]),g.push(ta(S,n,R,s));return new Tn(g);case"LineString":case"MultiLineString":return P=Xa(m,c.type==="LineString"?0:1,O),new Bn(P,s);case"Polygon":case"MultiPolygon":return P=Xa(m,c.type==="Polygon"?1:2,O),new Fi(P,s);case"GeometryCollection":for(J=0,nt=c.geometries.length;J<nt;J++){var ft=je({geometry:c.geometries[J],type:"Feature",properties:n.properties},s);ft&&g.push(ft)}return new Tn(g);case"FeatureCollection":for(J=0,nt=c.features.length;J<nt;J++){var Tt=je(c.features[J],s);Tt&&g.push(Tt)}return new Tn(g);default:throw new Error("Invalid GeoJSON object.")}}function ta(n,s,c,m){return n?n(s,c):new Ya(c,m&&m.markersInheritOptions&&m)}function Us(n){return new ot(n[1],n[0],n[2])}function Xa(n,s,c){for(var m=[],g=0,S=n.length,O;g<S;g++)O=s?Xa(n[g],s-1,c):(c||Us)(n[g]),m.push(O);return m}function Bs(n,s){return n=rt(n),n.alt!==void 0?[M(n.lng,s),M(n.lat,s),M(n.alt,s)]:[M(n.lng,s),M(n.lat,s)]}function Ja(n,s,c,m){for(var g=[],S=0,O=n.length;S<O;S++)g.push(s?Ja(n[S],We(n[S])?0:s-1,c,m):Bs(n[S],m));return!s&&c&&g.length>0&&g.push(g[0].slice()),g}function Fn(n,s){return n.feature?d({},n.feature,{geometry:s}):Ps(s)}function Ps(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var ti={toGeoJSON:function(n){return Fn(this,{type:"Point",coordinates:Bs(this.getLatLng(),n)})}};Ya.include(ti),Ds.include(ti),Wi.include(ti),Bn.include({toGeoJSON:function(n){var s=!We(this._latlngs),c=Ja(this._latlngs,s?1:0,!1,n);return Fn(this,{type:(s?"Multi":"")+"LineString",coordinates:c})}}),Fi.include({toGeoJSON:function(n){var s=!We(this._latlngs),c=s&&!We(this._latlngs[0]),m=Ja(this._latlngs,c?2:s?1:0,!0,n);return s||(m=[m]),Fn(this,{type:(c?"Multi":"")+"Polygon",coordinates:m})}}),Qi.include({toMultiPoint:function(n){var s=[];return this.eachLayer(function(c){s.push(c.toGeoJSON(n).geometry.coordinates)}),Fn(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(n){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(n);var c=s==="GeometryCollection",m=[];return this.eachLayer(function(g){if(g.toGeoJSON){var S=g.toGeoJSON(n);if(c)m.push(S.geometry);else{var O=Ps(S);O.type==="FeatureCollection"?m.push.apply(m,O.features):m.push(O)}}}),c?Fn(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function qs(n,s){return new Pn(n,s)}var Qa=qs,ea=fn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,s,c){this._url=n,this._bounds=et(s),Z(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Kt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Oe(this._image),this},bringToBack:function(){return this._map&&vi(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=et(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",s=this._image=n?this._url:Ct("img");if(wt(s,"leaflet-image-layer"),this._zoomAnimated&&wt(s,"leaflet-zoom-animated"),this.options.className&&wt(s,this.options.className),s.onselectstart=N,s.onmousemove=N,s.onload=_(this.fire,this,"load"),s.onerror=_(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(n){var s=this._map.getZoomScale(n.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;zn(this._image,c,s)},_reset:function(){var n=this._image,s=new C(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=s.getSize();Ft(n,s.min),n.style.width=c.x+"px",n.style.height=c.y+"px"},_updateOpacity:function(){ie(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),yl=function(n,s,c){return new ea(n,s,c)},ei=ea.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",s=this._image=n?this._url:Ct("video");if(wt(s,"leaflet-image-layer"),this._zoomAnimated&&wt(s,"leaflet-zoom-animated"),this.options.className&&wt(s,this.options.className),s.onselectstart=N,s.onmousemove=N,s.onloadeddata=_(this.fire,this,"load"),n){for(var c=s.getElementsByTagName("source"),m=[],g=0;g<c.length;g++)m.push(c[g].src);this._url=c.length>0?m:[s.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var O=Ct("source");O.src=this._url[S],s.appendChild(O)}}});function na(n,s,c){return new ei(n,s,c)}var Hs=ea.extend({_initImage:function(){var n=this._image=this._url;wt(n,"leaflet-image-layer"),this._zoomAnimated&&wt(n,"leaflet-zoom-animated"),this.options.className&&wt(n,this.options.className),n.onselectstart=N,n.onmousemove=N}});function bl(n,s,c){return new Hs(n,s,c)}var Re=fn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,s){n&&(n instanceof ot||I(n))?(this._latlng=rt(n),Z(this,s)):(Z(this,n),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ie(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ie(this._container,1),this.bringToFront(),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ie(this._container,0),this._removeTimeout=setTimeout(_(Kt,void 0,this._container),200)):Kt(this._container),this.options.interactive&&(oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=rt(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Oe(this._container),this},bringToBack:function(){return this._map&&vi(this._container),this},_prepareOpen:function(n){var s=this._source;if(!s._map)return!1;if(s instanceof Tn){s=null;var c=this._source._layers;for(var m in c)if(c[m]._map){s=c[m];break}if(!s)return!1;this._source=s}if(!n)if(s.getCenter)n=s.getCenter();else if(s.getLatLng)n=s.getLatLng();else if(s.getBounds)n=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")n.innerHTML=s;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),s=st(this.options.offset),c=this._getAnchor();this._zoomAnimated?Ft(this._container,n.add(c)):s=s.add(n).add(c);var m=this._containerBottom=-s.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=m+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Rt.include({_initOverlay:function(n,s,c,m){var g=s;return g instanceof n||(g=new n(m).setContent(s)),c&&g.setLatLng(c),g}}),fn.include({_initOverlay:function(n,s,c,m){var g=c;return g instanceof n?(Z(g,m),g._source=this):(g=s&&!m?s:new n(m,this),g.setContent(c)),g}});var Wa=Re.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Re.prototype.openOn.call(this,n)},onAdd:function(n){Re.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof On||this._source.on("preclick",hn))},onRemove:function(n){Re.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof On||this._source.off("preclick",hn))},getEvents:function(){var n=Re.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",s=this._container=Ct("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Ct("div",n+"-content-wrapper",s);if(this._contentNode=Ct("div",n+"-content",c),bi(s),xn(this._contentNode),bt(s,"contextmenu",hn),this._tipContainer=Ct("div",n+"-tip-container",s),this._tip=Ct("div",n+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Ct("a",n+"-close-button",s);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',bt(m,"click",function(g){he(g),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,s=n.style;s.width="",s.whiteSpace="nowrap";var c=n.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),s.width=c+1+"px",s.whiteSpace="",s.height="";var m=n.offsetHeight,g=this.options.maxHeight,S="leaflet-popup-scrolled";g&&m>g?(s.height=g+"px",wt(n,S)):oe(n,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),c=this._getAnchor();Ft(this._container,s.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,s=parseInt(Da(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+s,m=this._containerWidth,g=new F(this._containerLeft,-c-this._containerBottom);g._add(Jn(this._container));var S=n.layerPointToContainerPoint(g),O=st(this.options.autoPanPadding),R=st(this.options.autoPanPaddingTopLeft||O),P=st(this.options.autoPanPaddingBottomRight||O),J=n.getSize(),nt=0,ft=0;S.x+m+P.x>J.x&&(nt=S.x+m-J.x+P.x),S.x-nt-R.x<0&&(nt=S.x-R.x),S.y+c+P.y>J.y&&(ft=S.y+c-J.y+P.y),S.y-ft-R.y<0&&(ft=S.y-R.y),(nt||ft)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([nt,ft]))}},_getAnchor:function(){return st(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),wl=function(n,s){return new Wa(n,s)};Rt.mergeOptions({closePopupOnClick:!0}),Rt.include({openPopup:function(n,s,c){return this._initOverlay(Wa,n,s,c).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),fn.include({bindPopup:function(n,s){return this._popup=this._initOverlay(Wa,this._popup,n,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Tn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Qn(n);var s=n.layer||n.target;if(this._popup._source===s&&!(s instanceof On)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=s,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Fa=Re.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Re.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Re.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Re.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",s=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ct("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var s,c,m=this._map,g=this._container,S=m.latLngToContainerPoint(m.getCenter()),O=m.layerPointToContainerPoint(n),R=this.options.direction,P=g.offsetWidth,J=g.offsetHeight,nt=st(this.options.offset),ft=this._getAnchor();R==="top"?(s=P/2,c=J):R==="bottom"?(s=P/2,c=0):R==="center"?(s=P/2,c=J/2):R==="right"?(s=0,c=J/2):R==="left"?(s=P,c=J/2):O.x<S.x?(R="right",s=0,c=J/2):(R="left",s=P+(nt.x+ft.x)*2,c=J/2),n=n.subtract(st(s,c,!0)).add(nt).add(ft),oe(g,"leaflet-tooltip-right"),oe(g,"leaflet-tooltip-left"),oe(g,"leaflet-tooltip-top"),oe(g,"leaflet-tooltip-bottom"),wt(g,"leaflet-tooltip-"+R),Ft(g,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ie(this._container,n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(s)},_getAnchor:function(){return st(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Fu=function(n,s){return new Fa(n,s)};Rt.include({openTooltip:function(n,s,c){return this._initOverlay(Fa,n,s,c).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),fn.include({bindTooltip:function(n,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Fa,this._tooltip,n,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var s=n?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[s](c),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Tn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&(bt(s,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),bt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var s=n.latlng,c,m;this._tooltip.options.sticky&&n.originalEvent&&(c=this._map.mouseEventToContainerPoint(n.originalEvent),m=this._map.containerPointToLayerPoint(c),s=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(s)}});var xl=En.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var s=n&&n.tagName==="DIV"?n:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Je(s),s.appendChild(c.html)):s.innerHTML=c.html!==!1?c.html:"",c.bgPos){var m=st(c.bgPos);s.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function tc(n){return new xl(n)}En.Default=$a;var ia=fn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ht.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){Z(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Kt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Oe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof F?n:new F(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var s=this.getPane().children,c=-n(-1/0,1/0),m=0,g=s.length,S;m<g;m++)S=s[m].style.zIndex,s[m]!==this._container&&S&&(c=n(c,+S));isFinite(c)&&(this.options.zIndex=c+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ht.ielt9){ie(this._container,this.options.opacity);var n=+new Date,s=!1,c=!1;for(var m in this._tiles){var g=this._tiles[m];if(!(!g.current||!g.loaded)){var S=Math.min(1,(n-g.loaded)/200);ie(g.el,S),S<1?s=!0:(g.active?c=!0:this._onOpaqueTile(g),g.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),s&&(Wt(this._fadeFrame),this._fadeFrame=Qt(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=Ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,s=this.options.maxZoom;if(n!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===n?(this._levels[c].el.style.zIndex=s-Math.abs(n-c),this._onUpdateLevel(c)):(Kt(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var m=this._levels[n],g=this._map;return m||(m=this._levels[n]={},m.el=Ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=s,m.origin=g.project(g.unproject(g.getPixelOrigin()),n).round(),m.zoom=n,this._setZoomTransform(m,g.getCenter(),g.getZoom()),N(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(this._map){var n,s,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)s=this._tiles[n],s.retain=s.current;for(n in this._tiles)if(s=this._tiles[n],s.current&&!s.active){var m=s.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var s in this._tiles)this._tiles[s].coords.z===n&&this._removeTile(s)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Kt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,s,c,m){var g=Math.floor(n/2),S=Math.floor(s/2),O=c-1,R=new F(+g,+S);R.z=+O;var P=this._tileCoordsToKey(R),J=this._tiles[P];return J&&J.active?(J.retain=!0,!0):(J&&J.loaded&&(J.retain=!0),O>m?this._retainParent(g,S,O,m):!1)},_retainChildren:function(n,s,c,m){for(var g=2*n;g<2*n+2;g++)for(var S=2*s;S<2*s+2;S++){var O=new F(g,S);O.z=c+1;var R=this._tileCoordsToKey(O),P=this._tiles[R];if(P&&P.active){P.retain=!0;continue}else P&&P.loaded&&(P.retain=!0);c+1<m&&this._retainChildren(g,S,c+1,m)}},_resetView:function(n){var s=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var s=this.options;return s.minNativeZoom!==void 0&&n<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<n?s.maxNativeZoom:n},_setView:function(n,s,c,m){var g=Math.round(s);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var S=this.options.updateWhenZooming&&g!==this._tileZoom;(!m||S)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(n),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(n,s)},_setZoomTransforms:function(n,s){for(var c in this._levels)this._setZoomTransform(this._levels[c],n,s)},_setZoomTransform:function(n,s,c){var m=this._map.getZoomScale(c,n.zoom),g=n.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(s,c)).round();ht.any3d?zn(n.el,g,m):Ft(n.el,g)},_resetGrid:function(){var n=this._map,s=n.options.crs,c=this._tileSize=this.getTileSize(),m=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,s.wrapLng[0]],m).x/c.x),Math.ceil(n.project([0,s.wrapLng[1]],m).x/c.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([s.wrapLat[0],0],m).y/c.x),Math.ceil(n.project([s.wrapLat[1],0],m).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var s=this._map,c=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),m=s.getZoomScale(c,this._tileZoom),g=s.project(n,this._tileZoom).floor(),S=s.getSize().divideBy(m*2);return new C(g.subtract(S),g.add(S))},_update:function(n){var s=this._map;if(s){var c=this._clampZoom(s.getZoom());if(n===void 0&&(n=s.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(n),g=this._pxBoundsToTileRange(m),S=g.getCenter(),O=[],R=this.options.keepBuffer,P=new C(g.getBottomLeft().subtract([R,-R]),g.getTopRight().add([R,-R]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var J in this._tiles){var nt=this._tiles[J].coords;(nt.z!==this._tileZoom||!P.contains(new F(nt.x,nt.y)))&&(this._tiles[J].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(n,c);return}for(var ft=g.min.y;ft<=g.max.y;ft++)for(var Tt=g.min.x;Tt<=g.max.x;Tt++){var Ae=new F(Tt,ft);if(Ae.z=this._tileZoom,!!this._isValidTile(Ae)){var fe=this._tiles[this._tileCoordsToKey(Ae)];fe?fe.current=!0:O.push(Ae)}}if(O.sort(function(Ut,Bt){return Ut.distanceTo(S)-Bt.distanceTo(S)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ke=document.createDocumentFragment();for(Tt=0;Tt<O.length;Tt++)this._addTile(O[Tt],Ke);this._level.el.appendChild(Ke)}}}},_isValidTile:function(n){var s=this._map.options.crs;if(!s.infinite){var c=this._globalTileRange;if(!s.wrapLng&&(n.x<c.min.x||n.x>c.max.x)||!s.wrapLat&&(n.y<c.min.y||n.y>c.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(n);return et(this.options.bounds).overlaps(m)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var s=this._map,c=this.getTileSize(),m=n.scaleBy(c),g=m.add(c),S=s.unproject(m,n.z),O=s.unproject(g,n.z);return[S,O]},_tileCoordsToBounds:function(n){var s=this._tileCoordsToNwSe(n),c=new tt(s[0],s[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var s=n.split(":"),c=new F(+s[0],+s[1]);return c.z=+s[2],c},_removeTile:function(n){var s=this._tiles[n];s&&(Kt(s.el),delete this._tiles[n],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){wt(n,"leaflet-tile");var s=this.getTileSize();n.style.width=s.x+"px",n.style.height=s.y+"px",n.onselectstart=N,n.onmousemove=N,ht.ielt9&&this.options.opacity<1&&ie(n,this.options.opacity)},_addTile:function(n,s){var c=this._getTilePos(n),m=this._tileCoordsToKey(n),g=this.createTile(this._wrapCoords(n),_(this._tileReady,this,n));this._initTile(g),this.createTile.length<2&&Qt(_(this._tileReady,this,n,null,g)),Ft(g,c),this._tiles[m]={el:g,coords:n,current:!0},s.appendChild(g),this.fire("tileloadstart",{tile:g,coords:n})},_tileReady:function(n,s,c){s&&this.fire("tileerror",{error:s,tile:c,coords:n});var m=this._tileCoordsToKey(n);c=this._tiles[m],c&&(c.loaded=+new Date,this._map._fadeAnimated?(ie(c.el,0),Wt(this._fadeFrame),this._fadeFrame=Qt(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),s||(wt(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ht.ielt9||!this._map._fadeAnimated?Qt(this._pruneTiles,this):setTimeout(_(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var s=new F(this._wrapX?E(n.x,this._wrapX):n.x,this._wrapY?E(n.y,this._wrapY):n.y);return s.z=n.z,s},_pxBoundsToTileRange:function(n){var s=this.getTileSize();return new C(n.min.unscaleBy(s).floor(),n.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Sl(n){return new ia(n)}var ni=ia.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,s){this._url=n,s=Z(this,s),s.detectRetina&&ht.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,s){return this._url===n&&s===void 0&&(s=!0),this._url=n,s||this.redraw(),this},createTile:function(n,s){var c=document.createElement("img");return bt(c,"load",_(this._tileOnLoad,this,s,c)),bt(c,"error",_(this._tileOnError,this,s,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(n),c},getTileUrl:function(n){var s={r:ht.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-n.y;this.options.tms&&(s.y=c),s["-y"]=c}return X(this._url,d(s,this.options))},_tileOnLoad:function(n,s){ht.ielt9?setTimeout(_(n,this,null,s),0):n(null,s)},_tileOnError:function(n,s,c){var m=this.options.errorTileUrl;m&&s.getAttribute("src")!==m&&(s.src=m),n(c,s)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,s=this.options.maxZoom,c=this.options.zoomReverse,m=this.options.zoomOffset;return c&&(n=s-n),n+m},_getSubdomain:function(n){var s=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var n,s;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(s=this._tiles[n].el,s.onload=N,s.onerror=N,!s.complete)){s.src=zt;var c=this._tiles[n].coords;Kt(s),delete this._tiles[n],this.fire("tileabort",{tile:s,coords:c})}},_removeTile:function(n){var s=this._tiles[n];if(s)return s.el.setAttribute("src",zt),ia.prototype._removeTile.call(this,n)},_tileReady:function(n,s,c){if(!(!this._map||c&&c.getAttribute("src")===zt))return ia.prototype._tileReady.call(this,n,s,c)}});function Fe(n,s){return new ni(n,s)}var ts=ni.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,s){this._url=n;var c=d({},this.defaultWmsParams);for(var m in s)m in this.options||(c[m]=s[m]);s=Z(this,s);var g=s.detectRetina&&ht.retina?2:1,S=this.getTileSize();c.width=S.x*g,c.height=S.y*g,this.wmsParams=c},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,ni.prototype.onAdd.call(this,n)},getTileUrl:function(n){var s=this._tileCoordsToNwSe(n),c=this._crs,m=$(c.project(s[0]),c.project(s[1])),g=m.min,S=m.max,O=(this._wmsVersion>=1.3&&this._crs===Yr?[g.y,g.x,S.y,S.x]:[g.x,g.y,S.x,S.y]).join(","),R=ni.prototype.getTileUrl.call(this,n);return R+H(this.wmsParams,R,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(n,s){return d(this.wmsParams,n),s||this.redraw(),this}});function tn(n,s){return new ts(n,s)}ni.WMS=ts,Fe.wms=tn;var He=fn.extend({options:{padding:.1},initialize:function(n){Z(this,n),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,s){var c=this._map.getZoomScale(s,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,s),S=m.multiplyBy(-c).add(g).subtract(this._map._getNewPixelOrigin(n,s));ht.any3d?zn(this._container,S,c):Ft(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,s=this._map.getSize(),c=this._map.containerPointToLayerPoint(s.multiplyBy(-n)).round();this._bounds=new C(c,c.add(s.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Zs=He.extend({options:{tolerance:0},getEvents:function(){var n=He.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){He.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");bt(n,"mousemove",this._onMouseMove,this),bt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),bt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){Wt(this._redrawRequest),delete this._ctx,Kt(this._container),It(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var s in this._layers)n=this._layers[s],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){He.prototype._update.call(this);var n=this._bounds,s=this._container,c=n.getSize(),m=ht.retina?2:1;Ft(s,n.min),s.width=m*c.x,s.height=m*c.y,s.style.width=c.x+"px",s.style.height=c.y+"px",ht.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){He.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[y(n)]=n;var s=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var s=n._order,c=s.next,m=s.prev;c?c.prev=m:this._drawLast=m,m?m.next=c:this._drawFirst=c,delete n._order,delete this._layers[y(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var s=n.options.dashArray.split(/[, ]+/),c=[],m,g;for(g=0;g<s.length;g++){if(m=Number(s[g]),isNaN(m))return;c.push(m)}n.options._dashArray=c}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||Qt(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var s=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new C,this._redrawBounds.extend(n._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(n._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var s=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,s=this._redrawBounds;if(this._ctx.save(),s){var c=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)n=m.layer,(!s||n._pxBounds&&n._pxBounds.intersects(s))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,s){if(this._drawing){var c,m,g,S,O=n._parts,R=O.length,P=this._ctx;if(R){for(P.beginPath(),c=0;c<R;c++){for(m=0,g=O[c].length;m<g;m++)S=O[c][m],P[m?"lineTo":"moveTo"](S.x,S.y);s&&P.closePath()}this._fillStroke(P,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var s=n._point,c=this._ctx,m=Math.max(Math.round(n._radius),1),g=(Math.max(Math.round(n._radiusY),1)||m)/m;g!==1&&(c.save(),c.scale(1,g)),c.beginPath(),c.arc(s.x,s.y/g,m,0,Math.PI*2,!1),g!==1&&c.restore(),this._fillStroke(c,n)}},_fillStroke:function(n,s){var c=s.options;c.fill&&(n.globalAlpha=c.fillOpacity,n.fillStyle=c.fillColor||c.color,n.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(n.setLineDash&&n.setLineDash(s.options&&s.options._dashArray||[]),n.globalAlpha=c.opacity,n.lineWidth=c.weight,n.strokeStyle=c.color,n.lineCap=c.lineCap,n.lineJoin=c.lineJoin,n.stroke())},_onClick:function(n){for(var s=this._map.mouseEventToLayerPoint(n),c,m,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(s)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(c))&&(m=c);this._fireEvent(m?[m]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,s)}},_handleMouseOut:function(n){var s=this._hoveredLayer;s&&(oe(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,s){if(!this._mouseHoverThrottled){for(var c,m,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(s)&&(m=c);m!==this._hoveredLayer&&(this._handleMouseOut(n),m&&(wt(this._container,"leaflet-interactive"),this._fireEvent([m],n,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(_(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,s,c){this._map._fireDOMEvent(s,c||s.type,n)},_bringToFront:function(n){var s=n._order;if(s){var c=s.next,m=s.prev;if(c)c.prev=m;else return;m?m.next=c:c&&(this._drawFirst=c),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(n)}},_bringToBack:function(n){var s=n._order;if(s){var c=s.next,m=s.prev;if(m)m.next=c;else return;c?c.prev=m:m&&(this._drawLast=m),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(n)}}});function es(n){return ht.canvas?new Zs(n):null}var ii=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Xr={_initContainer:function(){this._container=Ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(He.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var s=n._container=ii("shape");wt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",n._path=ii("path"),s.appendChild(n._path),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){var s=n._container;this._container.appendChild(s),n.options.interactive&&n.addInteractiveTarget(s)},_removePath:function(n){var s=n._container;Kt(s),n.removeInteractiveTarget(s),delete this._layers[y(n)]},_updateStyle:function(n){var s=n._stroke,c=n._fill,m=n.options,g=n._container;g.stroked=!!m.stroke,g.filled=!!m.fill,m.stroke?(s||(s=n._stroke=ii("stroke")),g.appendChild(s),s.weight=m.weight+"px",s.color=m.color,s.opacity=m.opacity,m.dashArray?s.dashStyle=I(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=m.lineCap.replace("butt","flat"),s.joinstyle=m.lineJoin):s&&(g.removeChild(s),n._stroke=null),m.fill?(c||(c=n._fill=ii("fill")),g.appendChild(c),c.color=m.fillColor||m.color,c.opacity=m.fillOpacity):c&&(g.removeChild(c),n._fill=null)},_updateCircle:function(n){var s=n._point.round(),c=Math.round(n._radius),m=Math.round(n._radiusY||c);this._setPath(n,n._empty()?"M0 0":"AL "+s.x+","+s.y+" "+c+","+m+" 0,"+65535*360)},_setPath:function(n,s){n._path.v=s},_bringToFront:function(n){Oe(n._container)},_bringToBack:function(n){vi(n._container)}},An=ht.vml?ii:xs,aa=He.extend({_initContainer:function(){this._container=An("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=An("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Kt(this._container),It(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){He.prototype._update.call(this);var n=this._bounds,s=n.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,c.setAttribute("width",s.x),c.setAttribute("height",s.y)),Ft(c,n.min),c.setAttribute("viewBox",[n.min.x,n.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(n){var s=n._path=An("path");n.options.className&&wt(s,n.options.className),n.options.interactive&&wt(s,"leaflet-interactive"),this._updateStyle(n),this._layers[y(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Kt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[y(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var s=n._path,c=n.options;s&&(c.stroke?(s.setAttribute("stroke",c.color),s.setAttribute("stroke-opacity",c.opacity),s.setAttribute("stroke-width",c.weight),s.setAttribute("stroke-linecap",c.lineCap),s.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?s.setAttribute("stroke-dasharray",c.dashArray):s.removeAttribute("stroke-dasharray"),c.dashOffset?s.setAttribute("stroke-dashoffset",c.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),c.fill?(s.setAttribute("fill",c.fillColor||c.color),s.setAttribute("fill-opacity",c.fillOpacity),s.setAttribute("fill-rule",c.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(n,s){this._setPath(n,Ss(n._parts,s))},_updateCircle:function(n){var s=n._point,c=Math.max(Math.round(n._radius),1),m=Math.max(Math.round(n._radiusY),1)||c,g="a"+c+","+m+" 0 1,0 ",S=n._empty()?"M0 0":"M"+(s.x-c)+","+s.y+g+c*2+",0 "+g+-c*2+",0 ";this._setPath(n,S)},_setPath:function(n,s){n._path.setAttribute("d",s)},_bringToFront:function(n){Oe(n._path)},_bringToBack:function(n){vi(n._path)}});ht.vml&&aa.include(Xr);function ns(n){return ht.svg||ht.vml?new aa(n):null}Rt.include({getRenderer:function(n){var s=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var s=this._paneRenderers[n];return s===void 0&&(s=this._createRenderer({pane:n}),this._paneRenderers[n]=s),s},_createRenderer:function(n){return this.options.preferCanvas&&es(n)||ns(n)}});var xi=Fi.extend({initialize:function(n,s){Fi.prototype.initialize.call(this,this._boundsToLatLngs(n),s)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=et(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function ec(n,s){return new xi(n,s)}aa.create=An,aa.pointsToPath=Ss,Pn.geometryToLayer=je,Pn.coordsToLatLng=Us,Pn.coordsToLatLngs=Xa,Pn.latLngToCoords=Bs,Pn.latLngsToCoords=Ja,Pn.getFeature=Fn,Pn.asFeature=Ps,Rt.mergeOptions({boxZoom:!0});var Ze=Sn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){bt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){It(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Kt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Gi(),Cs(),this._startPoint=this._map.mouseEventToContainerPoint(n),bt(document,{contextmenu:Qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Ct("div","leaflet-zoom-box",this._container),wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var s=new C(this._point,this._startPoint),c=s.getSize();Ft(this._box,s.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Kt(this._box),oe(this._container,"leaflet-crosshair")),wn(),Ba(),It(document,{contextmenu:Qn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_(this._resetState,this),0);var s=new tt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Rt.addInitHook("addHandler","boxZoom",Ze),Rt.mergeOptions({doubleClickZoom:!0});var Is=Sn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var s=this._map,c=s.getZoom(),m=s.options.zoomDelta,g=n.originalEvent.shiftKey?c-m:c+m;s.options.doubleClickZoom==="center"?s.setZoom(g):s.setZoomAround(n.containerPoint,g)}});Rt.addInitHook("addHandler","doubleClickZoom",Is),Rt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Cn=Sn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Wn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){oe(this._map._container,"leaflet-grab"),oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=et(this._map.options.maxBounds);this._offsetLimit=$(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var s=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(s),this._prunePositions(s)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,s){return n-(n-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;n.x<s.min.x&&(n.x=this._viscousLimit(n.x,s.min.x)),n.y<s.min.y&&(n.y=this._viscousLimit(n.y,s.min.y)),n.x>s.max.x&&(n.x=this._viscousLimit(n.x,s.max.x)),n.y>s.max.y&&(n.y=this._viscousLimit(n.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,s=Math.round(n/2),c=this._initialWorldOffset,m=this._draggable._newPos.x,g=(m-s+c)%n+s-c,S=(m+s+c)%n-s-c,O=Math.abs(g+c)<Math.abs(S+c)?g:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(n){var s=this._map,c=s.options,m=!c.inertia||n.noInertia||this._times.length<2;if(s.fire("dragend",n),m)s.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,O=c.easeLinearity,R=g.multiplyBy(O/S),P=R.distanceTo([0,0]),J=Math.min(c.inertiaMaxSpeed,P),nt=R.multiplyBy(J/P),ft=J/(c.inertiaDeceleration*O),Tt=nt.multiplyBy(-ft/2).round();!Tt.x&&!Tt.y?s.fire("moveend"):(Tt=s._limitOffset(Tt,s.options.maxBounds),Qt(function(){s.panBy(Tt,{duration:ft,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Rt.addInitHook("addHandler","dragging",Cn),Rt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Jr=Sn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),bt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),It(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,s=document.documentElement,c=n.scrollTop||s.scrollTop,m=n.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(m,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var s=this._panKeys={},c=this.keyCodes,m,g;for(m=0,g=c.left.length;m<g;m++)s[c.left[m]]=[-1*n,0];for(m=0,g=c.right.length;m<g;m++)s[c.right[m]]=[n,0];for(m=0,g=c.down.length;m<g;m++)s[c.down[m]]=[0,n];for(m=0,g=c.up.length;m<g;m++)s[c.up[m]]=[0,-1*n]},_setZoomDelta:function(n){var s=this._zoomKeys={},c=this.keyCodes,m,g;for(m=0,g=c.zoomIn.length;m<g;m++)s[c.zoomIn[m]]=n;for(m=0,g=c.zoomOut.length;m<g;m++)s[c.zoomOut[m]]=-n},_addHooks:function(){bt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){It(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var s=n.keyCode,c=this._map,m;if(s in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(m=this._panKeys[s],n.shiftKey&&(m=st(m).multiplyBy(3)),c.options.maxBounds&&(m=c._limitOffset(st(m),c.options.maxBounds)),c.options.worldCopyJump){var g=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(m)));c.panTo(g)}else c.panBy(m)}else if(s in this._zoomKeys)c.setZoom(c.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Qn(n)}}});Rt.addInitHook("addHandler","keyboard",Jr),Rt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var is=Sn.extend({addHooks:function(){bt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){It(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var s=ze(n),c=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var m=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_(this._performZoom,this),m),Qn(n)},_performZoom:function(){var n=this._map,s=n.getZoom(),c=this._map.options.zoomSnap||0;n._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,S=c?Math.ceil(g/c)*c:g,O=n._limitZoom(s+(this._delta>0?S:-S))-s;this._delta=0,this._startTime=null,O&&(n.options.scrollWheelZoom==="center"?n.setZoom(s+O):n.setZoomAround(this._lastMousePos,s+O))}});Rt.addInitHook("addHandler","scrollWheelZoom",is);var Si=600;Rt.mergeOptions({tapHold:ht.touchNative&&ht.safari&&ht.mobile,tapTolerance:15});var Gs=Sn.extend({addHooks:function(){bt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){It(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var s=n.touches[0];this._startPos=this._newPos=new F(s.clientX,s.clientY),this._holdTimeout=setTimeout(_(function(){this._cancel(),this._isTapValid()&&(bt(document,"touchend",he),bt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Si),bt(document,"touchend touchcancel contextmenu",this._cancel,this),bt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){It(document,"touchend",he),It(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),It(document,"touchend touchcancel contextmenu",this._cancel,this),It(document,"touchmove",this._onMove,this)},_onMove:function(n){var s=n.touches[0];this._newPos=new F(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,s){var c=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});c._simulated=!0,s.target.dispatchEvent(c)}});Rt.addInitHook("addHandler","tapHold",Gs),Rt.mergeOptions({touchZoom:ht.touch,bounceAtZoomLimits:!0});var Qr=Sn.extend({addHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),bt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){oe(this._map._container,"leaflet-touch-zoom"),It(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var s=this._map;if(!(!n.touches||n.touches.length!==2||s._animatingZoom||this._zooming)){var c=s.mouseEventToContainerPoint(n.touches[0]),m=s.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(c.add(m)._divideBy(2))),this._startDist=c.distanceTo(m),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),bt(document,"touchmove",this._onTouchMove,this),bt(document,"touchend touchcancel",this._onTouchEnd,this),he(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var s=this._map,c=s.mouseEventToContainerPoint(n.touches[0]),m=s.mouseEventToContainerPoint(n.touches[1]),g=c.distanceTo(m)/this._startDist;if(this._zoom=s.getScaleZoom(g,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&g<1||this._zoom>s.getMaxZoom()&&g>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var S=c._add(m)._divideBy(2)._subtract(this._centerPoint);if(g===1&&S.x===0&&S.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),Wt(this._animRequest);var O=_(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Qt(O,this,!0),he(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Wt(this._animRequest),It(document,"touchmove",this._onTouchMove,this),It(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Rt.addInitHook("addHandler","touchZoom",Qr),Rt.BoxZoom=Ze,Rt.DoubleClickZoom=Is,Rt.Drag=Cn,Rt.Keyboard=Jr,Rt.ScrollWheelZoom=is,Rt.TapHold=Gs,Rt.TouchZoom=Qr,o.Bounds=C,o.Browser=ht,o.CRS=Ot,o.Canvas=Zs,o.Circle=Ds,o.CircleMarker=Wi,o.Class=Ee,o.Control=$e,o.DivIcon=xl,o.DivOverlay=Re,o.DomEvent=js,o.DomUtil=Ki,o.Draggable=Wn,o.Evented=it,o.FeatureGroup=Tn,o.GeoJSON=Pn,o.GridLayer=ia,o.Handler=Sn,o.Icon=En,o.ImageOverlay=ea,o.LatLng=ot,o.LatLngBounds=tt,o.Layer=fn,o.LayerGroup=Qi,o.LineUtil=Xu,o.Map=Rt,o.Marker=Ya,o.Mixin=Vu,o.Path=On,o.Point=F,o.PolyUtil=$r,o.Polygon=Fi,o.Polyline=Bn,o.Popup=Wa,o.PosAnimation=Yi,o.Projection=dl,o.Rectangle=xi,o.Renderer=He,o.SVG=aa,o.SVGOverlay=Hs,o.TileLayer=ni,o.Tooltip=Fa,o.Transformation=Pi,o.Util=ui,o.VideoOverlay=ei,o.bind=_,o.bounds=$,o.canvas=es,o.circle=vl,o.circleMarker=gl,o.control=Un,o.divIcon=tc,o.extend=d,o.featureGroup=pl,o.geoJSON=qs,o.geoJson=Qa,o.gridLayer=Sl,o.icon=Va,o.imageOverlay=yl,o.latLng=rt,o.latLngBounds=et,o.layerGroup=Ju,o.map=qr,o.marker=_l,o.point=st,o.polygon=Wu,o.polyline=Qu,o.popup=wl,o.rectangle=ec,o.setOptions=Z,o.stamp=y,o.svg=ns,o.svgOverlay=bl,o.tileLayer=Fe,o.tooltip=Fu,o.transformation=hi,o.version=u,o.videoOverlay=na;var Wr=window.L;o.noConflict=function(){return window.L=Wr,this},window.L=o}))})(Do,Do.exports)),Do.exports}var Lu=$b();const C_=hf(Lu);function N_(l,a,o){return Object.freeze({instance:l,context:a,container:o})}function k_(l,a){return a==null?function(u,d){const p=at.useRef(void 0);return p.current||(p.current=l(u,d)),p}:function(u,d){const p=at.useRef(void 0);p.current||(p.current=l(u,d));const _=at.useRef(u),{instance:w}=p.current;return at.useEffect(function(){_.current!==u&&(a(w,u,_.current),_.current=u)},[w,u,a]),p}}function Kb(l,a){at.useEffect(function(){return(a.layerContainer??a.map).addLayer(l.instance),function(){a.layerContainer?.removeLayer(l.instance),a.map.removeLayer(l.instance)}},[a,l])}function j_(l){return function(o){const u=O_(),d=l(A_(o,u),u);return Bb(u.map,o.attribution),Gb(d.current,o.eventHandlers),Kb(d.current,u),d}}function Yb(l,a){const o=k_(l,a),u=j_(o);return Zb(u)}function Xb(l,a){const o=k_(l,a),u=j_(o);return Ib(u)}function Jb(l,a,o){const{opacity:u,zIndex:d}=a;u!=null&&u!==o.opacity&&l.setOpacity(u),d!=null&&d!==o.zIndex&&l.setZIndex(d)}function R_(){return O_().map}function Qb(l){const a=R_();return at.useEffect(function(){return a.on(l),function(){a.off(l)}},[a,l]),a}function Wb({bounds:l,boundsOptions:a,center:o,children:u,className:d,id:p,placeholder:_,style:w,whenReady:y,zoom:x,...E},N){const[M]=at.useState({className:d,id:p,style:w}),[z,B]=at.useState(null),Z=at.useRef(void 0);at.useImperativeHandle(N,()=>z?.map??null,[z]);const H=at.useCallback(X=>{if(X!==null&&!Z.current){const I=new Lu.Map(X,E);Z.current=I,o!=null&&x!=null?I.setView(o,x):l!=null&&I.fitBounds(l,a),y!=null&&I.whenReady(y),B(qb(I))}},[]);at.useEffect(()=>()=>{z?.map.remove()},[z]);const W=z?Eu.createElement(xf,{value:z},u):_??null;return Eu.createElement("div",{...M,ref:H},W)}const Fb=at.forwardRef(Wb),tw=Yb(function({position:a,...o},u){const d=new Lu.Marker(a,o);return N_(d,Hb(u,{overlayContainer:d}))},function(a,o,u){o.position!==u.position&&a.setLatLng(o.position),o.icon!=null&&o.icon!==u.icon&&a.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==u.zIndexOffset&&a.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==u.opacity&&a.setOpacity(o.opacity),a.dragging!=null&&o.draggable!==u.draggable&&(o.draggable===!0?a.dragging.enable():a.dragging.disable())}),ew=Xb(function({url:a,...o},u){const d=new Lu.TileLayer(a,A_(o,u));return N_(d,u)},function(a,o,u){Jb(a,o,u);const{url:d}=o;d!=null&&d!==u.url&&a.setUrl(d)});delete C_.Icon.Default.prototype._getIconUrl;C_.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});function nw(){const l=R_();return at.useEffect(()=>{setTimeout(()=>{l.invalidateSize()},350)},[l]),null}function iw({onSelect:l}){const[a,o]=at.useState(null);return Qb({click(u){o(u.latlng),l(u.latlng)}}),a?b.jsx(tw,{position:a}):null}function aw({onSelect:l}){return b.jsxs(Fb,{center:[21.1458,79.0882],zoom:16,className:"h-full w-full",scrollWheelZoom:!1,dragging:!0,tap:!0,children:[b.jsx(nw,{}),b.jsx(ew,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),b.jsx(iw,{onSelect:l})]})}const sw=({isOpen:l,onClose:a,onSave:o})=>{if(!l)return null;const[u,d]=at.useState(!1),[p,_]=at.useState(!1),[w,y]=at.useState(null),[x,E]=at.useState({name:"",location:"",budget:"",startDate:new Date().toISOString().split("T")[0]}),N=async(B,Z)=>{try{return(await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${B}&lon=${Z}`)).json()).display_name||""}catch{return""}},M=()=>{navigator.geolocation.getCurrentPosition(async B=>{const{latitude:Z,longitude:H}=B.coords;y({lat:Z,lng:H});const W=await N(Z,H);E(X=>({...X,location:W})),_(!0)})},z=async()=>{if(!x.name||!x.location){alert("Project Name & Location required");return}d(!0);const{data:{user:B}}=await At.auth.getUser(),{data:Z,error:H}=await At.from("siteboss_projects").insert([{owner_id:B.id,name:x.name,location:x.location,budget:Number(x.budget)||0,start_date:x.startDate,status:"Active",progress:0,latitude:w?.lat,longitude:w?.lng}]).select().single();H?alert(H.message):(o?.(Z),a()),d(!1)};return b.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center",children:[b.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:a}),b.jsxs("div",{className:"relative bg-white w-full sm:max-w-md rounded-t-3xl sm:rounded-3xl p-6 space-y-5",onClick:B=>B.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h3",{className:"text-xl font-bold",children:"New Project"}),b.jsx("button",{onClick:a,children:b.jsx(wf,{})})]}),b.jsxs("div",{className:"relative",children:[b.jsx(Tr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),b.jsx("input",{className:"w-full bg-slate-100 pl-12 p-4 rounded-xl font-bold",placeholder:"Project Name",value:x.name,onChange:B=>E({...x,name:B.target.value})})]}),b.jsxs("div",{className:"relative",children:[b.jsx(of,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),b.jsx("input",{className:"w-full bg-slate-100 pl-12 p-4 rounded-xl font-bold",placeholder:"Site Location",value:x.location,onChange:B=>E({...x,location:B.target.value})})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:M,className:"flex-1 bg-slate-900 text-white py-2 rounded-lg flex items-center justify-center gap-2",children:[b.jsx(S_,{size:16})," Use Current"]}),b.jsxs("button",{onClick:()=>_(B=>!B),className:"flex-1 bg-slate-200 py-2 rounded-lg flex items-center justify-center gap-2",children:[b.jsx(lf,{size:16})," ",p?"Hide Map":"Pick on Map"]})]}),b.jsx("div",{className:`transition-all duration-300 ease-out overflow-hidden ${p?"max-h-[260px] mt-3":"max-h-0"}`,children:b.jsxs("div",{className:"relative h-[240px] w-full rounded-xl overflow-hidden border",style:{touchAction:"pan-x pan-y"},onTouchStart:B=>B.stopPropagation(),onTouchMove:B=>B.stopPropagation(),onWheel:B=>B.stopPropagation(),children:[b.jsx(aw,{onSelect:async({lat:B,lng:Z})=>{y({lat:B,lng:Z});const H=await N(B,Z);E(W=>({...W,location:H}))}}),b.jsx("div",{className:"absolute top-3 left-1/2 -translate-x-1/2 bg-white/90 px-3 py-1 rounded-full text-xs font-bold shadow",children:"Drag map or tap to select"})]})}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"relative",children:[b.jsx(cf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),b.jsx("input",{type:"number",placeholder:"Budget ",className:"w-full bg-slate-100 pl-12 p-4 rounded-xl font-bold",value:x.budget,onChange:B=>E({...x,budget:B.target.value})})]}),b.jsx("input",{type:"date",className:"bg-slate-100 p-4 rounded-xl font-bold",value:x.startDate,onChange:B=>E({...x,startDate:B.target.value})})]}),b.jsxs("button",{onClick:z,disabled:u,className:"w-full bg-slate-900 text-white py-4 rounded-xl font-bold flex justify-center gap-2",children:[b.jsx(vf,{})," Launch Project"]})]})]})},rw=({project:l,onBack:a})=>{const[o,u]=at.useState("ISSUES"),[d,p]=at.useState(!1),[_,w]=at.useState(!1),[y,x]=at.useState([]),[E,N]=at.useState([]),[M,z]=at.useState([]);at.useEffect(()=>{l?.id&&B()},[l?.id]);const B=async()=>{p(!0);const{data:X}=await At.from("siteboss_issues").select("*").eq("project_id",l.id).order("created_at",{ascending:!1});N(X||[]);const{data:I}=await At.from("siteboss_workers").select("*").eq("project_id",l.id).eq("status","ACTIVE");x(I||[]);const{data:dt}=await At.from("siteboss_inventory").select("*").eq("project_id",l.id).order("updated_at",{ascending:!1});z(dt||[]),p(!1)},Z=async X=>{await At.from("siteboss_issues").update({status:"RESOLVED"}).eq("id",X),B()},H=async()=>{if(!confirm(`Are you sure you want to delete ${l.name}? This cannot be undone.`))return;const{error:X}=await At.from("siteboss_projects").delete().eq("id",l.id);X?alert("Error deleting: "+X.message):a()},W=async()=>{const X=prompt("Enter new project name:",l.name);if(!X||X===l.name)return;const{error:I}=await At.from("siteboss_projects").update({name:X}).eq("id",l.id);I?alert("Error updating: "+I.message):a()};return b.jsxs("div",{className:"h-full flex flex-col bg-nexus-surface animate-in slide-in-from-right-10 duration-300",children:[b.jsxs("div",{className:"bg-white border-b border-slate-200 px-4 py-4 shrink-0 sticky top-0 z-30",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:a,className:"p-2 bg-slate-100 rounded-full text-slate-600 active:bg-slate-200 hover:bg-slate-200 transition-colors",children:b.jsx(v_,{className:"w-5 h-5"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-lg font-bold text-nexus-dark truncate max-w-[200px]",children:l.name}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-nexus-muted",children:[b.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 font-bold",children:[b.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),"Active"]}),b.jsxs("span",{children:[" ",l.location]})]})]})]}),b.jsxs("div",{className:"flex gap-2 relative",children:[b.jsx("button",{className:"p-2 text-nexus-accent active:bg-amber-50 rounded-lg hover:bg-amber-50 transition-colors",children:b.jsx(Sb,{className:"w-5 h-5"})}),b.jsx("button",{onClick:()=>w(!_),className:"p-2 text-slate-400 active:bg-slate-100 rounded-lg hover:bg-slate-50 transition-colors",children:b.jsx(b_,{className:"w-5 h-5"})}),_&&b.jsxs("div",{className:"absolute right-0 top-10 bg-white shadow-xl rounded-xl border border-slate-100 w-40 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[b.jsxs("button",{onClick:W,className:"w-full text-left px-4 py-3 text-sm font-bold text-slate-600 hover:bg-slate-50 flex items-center gap-2",children:[b.jsx(_b,{className:"w-4 h-4"})," Edit Name"]}),b.jsxs("button",{onClick:H,className:"w-full text-left px-4 py-3 text-sm font-bold text-red-500 hover:bg-red-50 flex items-center gap-2",children:[b.jsx(bf,{className:"w-4 h-4"})," Delete Site"]})]})]})]}),b.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-xl overflow-x-auto no-scrollbar gap-2 shadow-inner",children:[b.jsx(Tu,{label:"Issues",count:E.filter(X=>X.status==="OPEN").length,active:o==="ISSUES",onClick:()=>u("ISSUES")}),b.jsx(Tu,{label:"Labor",count:y.length,active:o==="LABOR",onClick:()=>u("LABOR")}),b.jsx(Tu,{label:"Stock",active:o==="INVENTORY",onClick:()=>u("INVENTORY")}),b.jsx(Tu,{label:"Plan",active:o==="TIMELINE",onClick:()=>u("TIMELINE")})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-32 bg-slate-50",onClick:()=>w(!1),children:b.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[d&&b.jsx("div",{className:"text-center py-10 text-slate-400",children:"Loading live data..."}),!d&&o==="ISSUES"&&b.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[E.length===0&&b.jsxs("div",{className:"text-center py-10 border-2 border-dashed border-slate-200 rounded-2xl",children:[b.jsx(y_,{className:"w-10 h-10 text-emerald-300 mx-auto mb-2"}),b.jsx("p",{className:"text-slate-400 font-bold",children:"No issues reported here."})]}),E.map(X=>b.jsx("div",{className:`bg-white p-5 rounded-2xl shadow-sm border ${X.status==="RESOLVED"?"opacity-60":"border-l-4 border-l-red-500"}`,children:b.jsxs("div",{className:"flex justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-bold",children:X.title}),b.jsx("p",{className:"text-xs text-slate-400",children:new Date(X.created_at).toLocaleDateString()})]}),X.status==="OPEN"&&b.jsx("button",{onClick:()=>Z(X.id),className:"bg-nexus-dark text-white text-xs px-3 py-1 rounded-lg",children:"Resolve"})]})},X.id))]}),!d&&o==="LABOR"&&b.jsx("div",{className:"space-y-4",children:y.map(X=>b.jsxs("div",{className:"bg-white p-4 rounded-xl",children:[b.jsx("p",{className:"font-bold",children:X.name}),b.jsx("p",{className:"text-xs text-slate-500",children:X.role})]},X.id))}),!d&&o==="INVENTORY"&&b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:M.map(X=>b.jsxs("div",{className:"bg-white p-4 rounded-xl",children:[b.jsx("p",{className:"font-bold",children:X.name}),b.jsxs("p",{className:"text-xs text-slate-500",children:[X.qty," ",X.unit]})]},X.id))}),!d&&o==="TIMELINE"&&b.jsxs("div",{className:"text-center py-10 border-2 border-dashed border-slate-200 rounded-2xl",children:[b.jsx(J0,{className:"w-10 h-10 text-slate-300 mx-auto mb-2"}),b.jsx("p",{className:"text-slate-400 font-bold",children:"Timeline feature coming soon."})]})]})})]})},Tu=({label:l,active:a,onClick:o,count:u})=>b.jsxs("button",{onClick:o,className:`flex-none px-5 py-2.5 text-xs font-bold rounded-xl transition-all whitespace-nowrap shadow-sm border ${a?"bg-nexus-dark text-white border-nexus-dark ring-2 ring-nexus-dark/20":"text-slate-500 bg-white border-slate-200 hover:border-slate-300 hover:text-slate-700"}`,children:[l," ",u>0&&b.jsx("span",{className:"ml-1.5 bg-red-500 text-white px-1.5 py-0.5 rounded-full text-[9px]",children:u})]}),ow=()=>{const[l,a]=at.useState(!1),[o,u]=at.useState(!1),[d,p]=at.useState([]),[_,w]=at.useState({spent:0,income:0,pending:0}),[y,x]=at.useState({title:"",amount:"",type:"EXPENSE",category:"Material"});at.useEffect(()=>{E()},[]);const E=async()=>{u(!0);const{data:z,error:B}=await At.from("siteboss_transactions").select("*").eq("owner_id",(await At.auth.getUser()).data.user.id).order("created_at",{ascending:!1});if(z){p(z);const Z=z.filter(X=>X.type==="EXPENSE").reduce((X,I)=>X+I.amount,0),H=z.filter(X=>X.type==="INCOME").reduce((X,I)=>X+I.amount,0),W=z.filter(X=>X.status==="PENDING").reduce((X,I)=>X+I.amount,0);w({spent:Z,income:H,pending:W})}u(!1)},N=async()=>{if(!y.title||!y.amount){alert("Please fill all fields");return}if(await At.from("siteboss_transactions").insert([{owner_id:user.id,project_id:selectedProjectId||null,title:y.title,amount:Number(y.amount),type:y.type,status:y.type==="INCOME"?"RECEIVED":"PAID",category:y.category,created_by:user.id}]),error){alert(error.message);return}a(!1),x({title:"",amount:"",type:"EXPENSE",category:"Material"}),E()},M=async()=>{if(!d.length)return alert("No data to export");const z=[["Date","Title","Category","Type","Amount","Status"],...d.map(H=>[new Date(H.created_at).toLocaleDateString(),H.title,H.category,H.type,H.amount,H.status])].map(H=>H.join(",")).join(`
`),B=new Blob([z],{type:"text/csv"}),Z=new File([B],"financials.csv",{type:"text/csv"});if(navigator.share)await navigator.share({title:"Financial Report",files:[Z]});else{const H=URL.createObjectURL(B),W=document.createElement("a");W.href=H,W.download="financials.csv",W.click(),URL.revokeObjectURL(H)}};return b.jsxs("div",{className:"p-4 md:p-10 space-y-8 pb-32",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-nexus-dark",children:"Financial Overview"}),b.jsx("p",{className:"text-nexus-muted text-sm",children:"Live database"})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:E,className:"p-3 bg-white border rounded-xl",children:b.jsx(E_,{className:`w-4 h-4 ${o?"animate-spin":""}`})}),b.jsxs("button",{onClick:M,className:"px-4 py-3 bg-nexus-dark text-white rounded-xl font-bold flex items-center gap-2",children:[b.jsx(nb,{className:"w-4 h-4"})," Export"]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsx(Kh,{label:"Total Spent",value:_.spent,color:"text-amber-600"}),b.jsx(Kh,{label:"Pending",value:_.pending,color:"text-red-500"}),b.jsx(Kh,{label:"Income",value:_.income,color:"text-emerald-600"})]}),b.jsx("div",{className:"bg-white rounded-2xl shadow-card overflow-hidden",children:d.length===0?b.jsx("div",{className:"p-8 text-center text-slate-400",children:"No transactions found"}):b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"bg-slate-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-4 text-xs font-bold",children:"Transaction"}),b.jsx("th",{className:"p-4 text-xs font-bold",children:"Category"}),b.jsx("th",{className:"p-4 text-xs font-bold",children:"Amount"}),b.jsx("th",{className:"p-4 text-xs font-bold",children:"Status"})]})}),b.jsx("tbody",{children:d.map(z=>b.jsxs("tr",{className:"border-t",children:[b.jsx("td",{className:"p-4 font-bold",children:z.title}),b.jsx("td",{className:"p-4",children:z.category}),b.jsxs("td",{className:"p-4",children:[z.type==="INCOME"?"+":"-"," ",z.amount]}),b.jsx("td",{className:"p-4",children:z.status})]},z.id))})]})}),b.jsx("button",{onClick:()=>a(!0),className:"fixed bottom-24 right-6 bg-nexus-dark text-white p-4 rounded-full shadow-2xl z-40",children:b.jsx(T_,{})}),l&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[b.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>a(!1)}),b.jsxs("div",{className:"relative bg-white w-full sm:max-w-md rounded-t-3xl sm:rounded-3xl p-6 space-y-5 z-10",onClick:z=>z.stopPropagation(),children:[b.jsx("h3",{className:"font-bold text-xl text-nexus-dark",children:"Add Transaction"}),b.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl",children:[b.jsx("button",{type:"button",onClick:()=>x({...y,type:"EXPENSE"}),className:`flex-1 py-3 rounded-lg font-bold ${y.type==="EXPENSE"?"bg-white text-red-500":"text-slate-400"}`,children:"Expense"}),b.jsx("button",{type:"button",onClick:()=>x({...y,type:"INCOME"}),className:`flex-1 py-3 rounded-lg font-bold ${y.type==="INCOME"?"bg-white text-emerald-500":"text-slate-400"}`,children:"Income"})]}),b.jsx("input",{type:"number",placeholder:"Amount",className:"w-full p-4 bg-slate-100 rounded-xl text-2xl font-bold outline-none",value:y.amount,onChange:z=>x({...y,amount:z.target.value})}),b.jsx("input",{type:"text",placeholder:"Description",className:"w-full p-4 bg-slate-100 rounded-xl font-bold outline-none",value:y.title,onChange:z=>x({...y,title:z.target.value})}),b.jsxs("select",{className:"w-full p-4 bg-slate-100 rounded-xl font-bold outline-none",value:y.category,onChange:z=>x({...y,category:z.target.value}),children:[b.jsx("option",{children:"Material"}),b.jsx("option",{children:"Labour"}),b.jsx("option",{children:"Fuel"}),b.jsx("option",{children:"Other"})]}),b.jsxs("button",{onClick:N,className:"w-full bg-nexus-dark text-white py-4 rounded-xl font-bold flex items-center justify-center gap-2",children:[b.jsx(vf,{className:"w-5 h-5"}),"Save Transaction"]})]})]})]})},Kh=({label:l,value:a,color:o})=>b.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-card",children:[b.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:l}),b.jsxs("p",{className:`text-2xl font-bold ${o}`,children:["",a]})]}),lw=()=>{const[l,a]=at.useState(""),[o,u]=at.useState(!1),[d,p]=at.useState(!1),[_,w]=at.useState([]),[y,x]=at.useState([]),[E,N]=at.useState({name:"",role:"Supervisor",mobile:"",site_id:""});at.useEffect(()=>{M()},[]);const M=async()=>{p(!0);const{data:{user:H}}=await At.auth.getUser();if(!H){p(!1);return}const{data:W,error:X}=await At.from("siteboss_projects").select("id, name").eq("owner_id",H.id).order("created_at",{ascending:!1});X||x(W||[]);const{data:I}=await At.from("siteboss_workers").select(`
        *,
        siteboss_projects ( name )
      `).eq("owner_id",H.id).order("created_at",{ascending:!1});I&&w(I),p(!1)},z=async()=>{if(!E.name||!E.mobile||!E.site_id){alert("Name, Mobile and Site are required");return}p(!0);const{data:{user:H}}=await At.auth.getUser();if(!H){p(!1);return}const{data:W}=await At.from("siteboss_workers").select("id").eq("mobile",E.mobile).maybeSingle();if(W){alert("This mobile number is already registered"),p(!1);return}const{error:X}=await At.from("siteboss_workers").insert([{owner_id:H.id,name:E.name,role:E.role,mobile:E.mobile,project_id:E.site_id,status:"ACTIVE"}]);X?alert(X.message):(u(!1),N({name:"",role:"Supervisor",mobile:"",site_id:""}),M()),p(!1)},B=async H=>{confirm("Permanently remove this staff member?")&&(await At.from("siteboss_workers").delete().eq("id",H),M())},Z=_.filter(H=>H.name.toLowerCase().includes(l.toLowerCase())||H.mobile.includes(l));return b.jsxs("div",{className:"p-4 md:p-8 space-y-6 pb-32 animate-in fade-in duration-500",children:[b.jsxs("div",{className:"flex items-center justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-nexus-dark",children:"Staff Directory"}),b.jsxs("p",{className:"text-nexus-muted text-sm",children:[_.length," registered members"]})]}),b.jsxs("button",{onClick:()=>u(!0),className:"bg-nexus-dark text-white px-4 py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 shadow-lg",children:[b.jsx(kb,{className:"w-4 h-4"}),b.jsx("span",{className:"hidden sm:inline",children:"Add Staff"})]})]}),b.jsxs("div",{className:"relative",children:[b.jsx(wb,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),b.jsx("input",{type:"text",placeholder:"Search by name...",className:"w-full bg-white pl-12 pr-4 py-4 rounded-xl shadow-card font-medium outline-none",value:l,onChange:H=>a(H.target.value)})]}),d&&_.length===0?b.jsxs("div",{className:"text-center py-10 text-slate-400",children:[b.jsx(E_,{className:"w-8 h-8 mx-auto animate-spin mb-2"}),"Loading..."]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Z.map(H=>b.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-card border-l-4 border-emerald-500",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-lg text-nexus-dark",children:H.name}),b.jsx("p",{className:"text-xs text-nexus-muted font-semibold uppercase",children:H.role})]}),b.jsxs("span",{className:"px-2 py-1 rounded-md text-[10px] font-bold uppercase bg-blue-50 text-blue-600 flex items-center gap-1",children:[b.jsx(Tr,{className:"w-3 h-3"}),H.siteboss_projects?.name||"Unassigned"]})]}),b.jsxs("div",{className:"bg-nexus-surface p-3 rounded-xl border border-slate-200 mb-4 flex items-center gap-3",children:[b.jsx("div",{className:"p-2 rounded-lg bg-nexus-dark text-nexus-accent",children:b.jsx(yf,{className:"w-4 h-4"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] text-nexus-muted uppercase font-bold",children:"Login ID"}),b.jsx("p",{className:"font-mono font-bold text-lg tracking-wider text-nexus-dark",children:H.mobile})]})]}),b.jsxs("button",{onClick:()=>B(H.id),className:"w-full py-2 flex items-center justify-center gap-2 text-xs font-bold text-red-500 bg-red-50 rounded-lg",children:[b.jsx(bf,{className:"w-3 h-3"}),"Remove"]})]},H.id))}),o&&b.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center",children:[b.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm",onClick:()=>u(!1)}),b.jsxs("div",{className:"relative bg-white w-full sm:max-w-md rounded-t-3xl sm:rounded-3xl p-6 space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 pb-4",children:[b.jsx("h3",{className:"font-bold text-xl text-nexus-dark",children:"Add New Staff"}),b.jsx("button",{onClick:()=>u(!1),className:"p-2 bg-slate-100 rounded-full",children:b.jsx(wf,{className:"w-5 h-5"})})]}),b.jsxs("select",{className:"w-full bg-nexus-surface p-4 rounded-xl font-bold outline-none",value:E.site_id,onChange:H=>N({...E,site_id:H.target.value}),children:[b.jsx("option",{value:"",children:"-- Select Project --"}),y.map(H=>b.jsx("option",{value:H.id,children:H.name},H.id))]}),b.jsx("input",{type:"text",className:"w-full bg-nexus-surface p-4 rounded-xl font-bold outline-none",placeholder:"Name",value:E.name,onChange:H=>N({...E,name:H.target.value})}),b.jsx("input",{type:"tel",className:"w-full bg-nexus-surface p-4 rounded-xl font-bold outline-none",placeholder:"Mobile",value:E.mobile,onChange:H=>N({...E,mobile:H.target.value})}),b.jsxs("select",{className:"w-full bg-nexus-surface p-4 rounded-xl font-bold outline-none",value:E.role,onChange:H=>N({...E,role:H.target.value}),children:[b.jsx("option",{children:"Supervisor"}),b.jsx("option",{children:"Store Keeper"})]}),b.jsx("button",{onClick:z,disabled:d,className:"w-full bg-nexus-dark text-white py-4 rounded-xl font-bold flex items-center justify-center gap-2",children:d?"Saving...":b.jsxs(b.Fragment,{children:[b.jsx(vf,{className:"w-5 h-5"})," Create Account"]})})]})]})]})},uw=()=>{const[l,a]=at.useState([]);at.useEffect(()=>{o();const _=At.channel("public:nexus_notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"nexus_notifications"},w=>{a(y=>[w.new,...y])}).subscribe();return()=>{At.removeChannel(_)}},[]);const o=async()=>{const{data:_}=await At.from("nexus_notifications").select("*").order("created_at",{ascending:!1});_&&a(_)},u=async _=>{const{error:w}=await At.from("nexus_notifications").delete().eq("id",_);w||a(l.filter(y=>y.id!==_))},d=async _=>{if(_.title==="Material Request"){const w=prompt(`Enter Order Value for ${_.item}:`,"5000");if(!w)return;await At.from("nexus_transactions").insert([{title:`Order: ${_.item}`,amount:parseFloat(w),type:"EXPENSE",status:"Paid",category:"Material",added_by:"Owner"}]);const y=_.msg.match(/(\d+)/),x=y?y[0]:"Bulk";await At.from("nexus_orders").insert([{item:_.item||"Unknown Item",qty:`${x} Units`,status:"IN_TRANSIT",payment:"PAID",eta:"4 Hours"}]),alert("Order Placed! Sent to Store Keeper dashboard."),u(_.id)}else alert(`Action Triggered: ${_.action}`),u(_.id)},p=_=>{switch(_){case"URGENT":return{bg:"bg-red-50",border:"border-red-100",iconBg:"bg-red-100",iconColor:"text-red-600",icon:Cb};case"WARNING":return{bg:"bg-amber-50",border:"border-amber-100",iconBg:"bg-amber-100",iconColor:"text-amber-600",icon:Rb};case"SUCCESS":return{bg:"bg-emerald-50",border:"border-emerald-100",iconBg:"bg-emerald-100",iconColor:"text-emerald-600",icon:y_};default:return{bg:"bg-white",border:"border-slate-100",iconBg:"bg-slate-100",iconColor:"text-slate-500",icon:Nu}}};return b.jsxs("div",{className:"p-4 md:p-8 space-y-6 pb-32 animate-in fade-in duration-500",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-nexus-dark",children:"Notifications"}),b.jsxs("p",{className:"text-nexus-muted text-sm",children:["You have ",l.length," unread updates"]})]}),b.jsx("button",{onClick:()=>o(),className:"text-xs font-bold text-slate-400 hover:text-nexus-accent uppercase tracking-wider",children:"Refresh"})]}),b.jsx("div",{className:"space-y-3",children:l.length===0?b.jsxs("div",{className:"text-center py-20 opacity-50",children:[b.jsx(Nu,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),b.jsx("p",{className:"text-slate-400 font-medium",children:"All caught up!"})]}):l.map(_=>{const w=p(_.type),y=w.icon;return b.jsxs("div",{className:`p-4 rounded-2xl border ${w.bg} ${w.border} flex gap-4 relative group transition-all hover:shadow-md`,children:[b.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${w.iconBg} ${w.iconColor}`,children:b.jsx(y,{className:"w-6 h-6"})}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsx("h3",{className:`font-bold text-sm ${w.iconColor}`,children:_.title}),b.jsxs("span",{className:"text-[10px] font-bold text-slate-400 flex items-center gap-1",children:[b.jsx(tb,{className:"w-3 h-3"})," Now"]})]}),b.jsx("p",{className:"text-sm text-nexus-dark mt-1 leading-snug",children:_.msg}),_.action&&b.jsxs("button",{onClick:()=>d(_),className:"mt-3 px-4 py-2 bg-white border border-slate-200 rounded-lg text-xs font-bold text-nexus-dark shadow-sm flex items-center gap-2 active:scale-95 transition-transform",children:[_.action," ",b.jsx($0,{className:"w-3 h-3"})]})]}),b.jsx("button",{onClick:()=>u(_.id),className:"absolute top-2 right-2 p-2 text-slate-300 hover:text-red-400 active:scale-90 transition-transform",children:b.jsx(bf,{className:"w-4 h-4"})})]},_.id)})})]})},cw=({onBack:l,onLogout:a})=>{const[o,u]=at.useState(!0),[d,p]=at.useState(!1),[_,w]=at.useState({name:"",phone:"",company_name:"",notifications_enabled:!0,default_view:"dashboard"});at.useEffect(()=>{y()},[]);const y=async()=>{u(!0);const{data:{user:E}}=await At.auth.getUser();if(!E)return;const{data:N}=await At.from("siteboss_users").select("*").eq("id",E.id).single();N&&w({name:N.name||"",phone:N.phone||"",company_name:N.company_name||"",notifications_enabled:N.notifications_enabled??!0,default_view:N.default_view||"dashboard"}),u(!1)},x=async()=>{p(!0);const{data:{user:E}}=await At.auth.getUser();await At.from("siteboss_users").update(_).eq("id",E.id),p(!1),alert("Profile updated")};return o?b.jsx("div",{className:"p-6 text-center text-slate-400",children:"Loading profile"}):b.jsxs("div",{className:"min-h-screen bg-nexus-surface pb-32",children:[b.jsxs("div",{className:"bg-white border-b border-slate-200 p-4 flex items-center gap-3",children:[b.jsx("button",{onClick:l,className:"p-2 bg-slate-100 rounded-full",children:b.jsx(v_,{className:"w-5 h-5"})}),b.jsx("h1",{className:"font-bold text-lg text-nexus-dark",children:"Profile & Settings"})]}),b.jsxs("div",{className:"p-6 space-y-8",children:[b.jsxs("section",{className:"bg-white rounded-2xl p-6 shadow-card space-y-4",children:[b.jsxs("h2",{className:"font-bold text-nexus-dark flex items-center gap-2",children:[b.jsx(uf,{className:"w-5 h-5"})," Profile"]}),b.jsx(Yh,{icon:uf,label:"Name",value:_.name,onChange:E=>w({..._,name:E})}),b.jsx(Yh,{icon:yf,label:"Mobile",value:_.phone,onChange:E=>w({..._,phone:E})}),b.jsx(Yh,{icon:Tr,label:"Company",value:_.company_name,onChange:E=>w({..._,company_name:E})})]}),b.jsxs("section",{className:"bg-white rounded-2xl p-6 shadow-card space-y-4",children:[b.jsxs("h2",{className:"font-bold text-nexus-dark flex items-center gap-2",children:[b.jsx(w_,{className:"w-5 h-5"})," App Settings"]}),b.jsx(hw,{icon:Nu,label:"Notifications",checked:_.notifications_enabled,onChange:E=>w({..._,notifications_enabled:E})}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-slate-500",children:"Default Home Screen"}),b.jsxs("select",{className:"w-full mt-1 bg-slate-100 p-3 rounded-xl font-bold",value:_.default_view,onChange:E=>w({..._,default_view:E.target.value}),children:[b.jsx("option",{value:"dashboard",children:"Dashboard"}),b.jsx("option",{value:"map",children:"Live Map"})]})]})]}),b.jsxs("section",{className:"bg-white rounded-2xl p-6 shadow-card space-y-4",children:[b.jsxs("h2",{className:"font-bold text-nexus-dark flex items-center gap-2",children:[b.jsx(Eb,{className:"w-5 h-5"})," Account"]}),b.jsxs("button",{onClick:a,className:"w-full bg-red-50 text-red-600 font-bold py-3 rounded-xl flex items-center justify-center gap-2",children:[b.jsx(x_,{className:"w-4 h-4"})," Logout"]})]}),b.jsx("button",{onClick:x,disabled:d,className:"w-full bg-nexus-dark text-white py-4 rounded-xl font-bold",children:d?"Saving":"Save Changes"})]})]})},Yh=({icon:l,label:a,value:o,onChange:u})=>b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-slate-500",children:a}),b.jsxs("div",{className:"relative mt-1",children:[b.jsx(l,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),b.jsx("input",{className:"w-full bg-slate-100 pl-10 p-3 rounded-xl font-bold",value:o,onChange:d=>u(d.target.value)})]})]}),hw=({icon:l,label:a,checked:o,onChange:u})=>b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2 font-bold text-nexus-dark",children:[b.jsx(l,{className:"w-4 h-4"})," ",a]}),b.jsx("input",{type:"checkbox",checked:o,onChange:d=>u(d.target.checked),className:"w-5 h-5"})]}),fw=({user:l,onLogout:a})=>{const[o,u]=at.useState(!1),[d,p]=at.useState("dashboard"),[_,w]=at.useState(!1),[y,x]=at.useState(null),[E,N]=at.useState([]),[M,z]=at.useState({activeSites:0,totalWorkers:0,cashOutflow:0,notifications:0});at.useEffect(()=>{B()},[d,_]);const B=async()=>{const{data:I,error:dt}=await At.from("siteboss_projects").select("*").eq("owner_id",l.id).order("created_at",{ascending:!1});N(!dt&&I?I:[]);const zt=I?.length||0,{data:_t}=await At.from("siteboss_transactions").select("amount").eq("owner_id",l.id).eq("type","EXPENSE"),lt=_t?.reduce((Rn,Qt)=>Rn+Number(Qt.amount||0),0)||0,{count:$t}=await At.from("siteboss_notifications").select("*",{count:"exact",head:!0}).eq("owner_id",l.id).eq("read",!1),{count:ee}=await At.from("siteboss_workers").select("*",{count:"exact",head:!0}).eq("owner_id",l.id).neq("status","INACTIVE");z({activeSites:zt,totalWorkers:ee||0,cashOutflow:lt,notifications:$t||0})},Z=I=>{N([I,...E]),B()},H=I=>{p(I),x(null),u(!1)},W=()=>y?y.name:d==="dashboard"?"Dashboard":d==="map"?"Live Map":d==="workers"?"Site Workers":d==="financials"?"Financials":d==="notifications"?"Notifications":d==="profile"?"Profile":"SiteBoss",X=[{title:"Active Sites",value:M.activeSites,change:"Live Projects",icon:Tr,color:"text-blue-500",bg:"bg-blue-100"},{title:"Total Staff",value:M.totalWorkers,change:"Registered",icon:Qp,color:"text-emerald-500",bg:"bg-emerald-100"},{title:"Total Expense",value:`${(M.cashOutflow/1e5).toFixed(2)}L`,change:"Total Outflow",icon:cf,color:"text-amber-500",bg:"bg-amber-100"}];return b.jsxs("div",{className:"flex h-screen bg-nexus-surface font-sans overflow-hidden",children:[o&&b.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>u(!1)}),b.jsxs("aside",{className:`fixed z-50 h-full w-64 bg-nexus-dark text-white transition-transform duration-300 ease-in-out md:relative md:translate-x-0 ${o?"translate-x-0":"-translate-x-full"}`,children:[b.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-slate-700",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-8 h-8 bg-nexus-accent rounded-lg flex items-center justify-center",children:b.jsx("span",{className:"font-bold text-nexus-dark",children:"N"})}),b.jsx("span",{className:"text-xl font-bold tracking-wide",children:"NEXUS"})]}),b.jsx("button",{onClick:()=>u(!1),className:"md:hidden text-slate-400",children:b.jsx(wf,{className:"w-6 h-6"})})]}),b.jsxs("nav",{className:"p-4 space-y-2",children:[b.jsx("div",{onClick:()=>H("dashboard"),children:b.jsx(Mo,{icon:w_,label:"Dashboard",active:d==="dashboard"&&!y})}),b.jsx("div",{onClick:()=>H("map"),children:b.jsx(Mo,{icon:lf,label:"Live Map",active:d==="map"})}),b.jsx("div",{onClick:()=>H("workers"),children:b.jsx(Mo,{icon:Qp,label:"Site Workers",active:d==="workers"})}),b.jsx("div",{onClick:()=>H("financials"),children:b.jsx(Mo,{icon:cf,label:"Financials",active:d==="financials"})}),b.jsx("div",{className:"pt-8 text-xs font-bold text-slate-500 uppercase tracking-wider px-4",children:"System"}),b.jsx("div",{onClick:()=>H("notifications"),children:b.jsx(Mo,{icon:Nu,label:"Notifications",badge:M.notifications>0?M.notifications:null,active:d==="notifications"})}),b.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 px-4 py-3 text-slate-400 hover:text-red-400 hover:bg-slate-800 rounded-xl transition-colors cursor-pointer mt-4",children:[b.jsx(x_,{className:"w-5 h-5"}),b.jsx("span",{className:"font-medium",children:"Logout"})]})]})]}),b.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[b.jsxs("header",{className:"h-16 md:h-20 bg-white border-b border-slate-100 flex items-center justify-between px-4 md:px-10 shrink-0 z-30",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>u(!0),className:"md:hidden p-2 hover:bg-slate-100 rounded-lg",children:b.jsx(db,{className:"w-6 h-6 text-nexus-dark"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-lg md:text-xl font-bold text-nexus-dark",children:W()}),b.jsx("p",{className:"text-xs text-nexus-muted hidden md:block",children:new Date().toDateString()})]})]}),b.jsxs("div",{onClick:()=>H("profile"),className:"flex items-center gap-3 pl-4 border-l border-slate-200 cursor-pointer",children:[b.jsxs("div",{className:"text-right hidden md:block",children:[b.jsx("p",{className:"text-sm font-bold text-nexus-dark",children:l.name}),b.jsx("p",{className:"text-xs text-nexus-muted font-semibold",children:l.companyName})]}),b.jsx("div",{className:"w-10 h-10 bg-nexus-primary rounded-full flex items-center justify-center text-white font-bold border-2 border-white shadow-sm",children:l.name.charAt(0)})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto",children:[d==="profile"?b.jsx(cw,{onLogout:a}):y?b.jsx(rw,{project:y,onBack:()=>x(null)}):b.jsxs(b.Fragment,{children:[d==="dashboard"&&b.jsxs("div",{className:"p-4 md:p-10 space-y-6 md:space-y-8 animate-in fade-in duration-500 pb-24",children:[b.jsxs("div",{className:"bg-nexus-dark rounded-3xl p-6 md:p-8 text-white relative overflow-hidden shadow-floating",children:[b.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-nexus-accent opacity-10 rounded-full blur-3xl -mr-16 -mt-16"}),b.jsxs("div",{className:"relative z-10",children:[b.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Welcome back, Boss."}),b.jsx("p",{className:"text-slate-400 mb-6 max-w-lg text-sm md:text-base",children:M.notifications>0?`You have ${M.notifications} unread updates pending.`:"All caught up. No pending alerts."}),b.jsxs("button",{onClick:()=>w(!0),className:"bg-nexus-accent active:bg-amber-600 text-nexus-dark px-6 py-3 rounded-xl font-bold text-sm flex items-center gap-2 transition-transform active:scale-95 cursor-pointer shadow-lg",children:[b.jsx(T_,{className:"w-4 h-4"}),b.jsx("span",{children:"Create New Project"})]})]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:X.map((I,dt)=>b.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-card flex items-start justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold text-nexus-muted uppercase",children:I.title}),b.jsx("p",{className:"text-2xl font-bold text-nexus-dark mt-1",children:I.value}),b.jsx("p",{className:`text-[10px] font-bold mt-1 ${I.color}`,children:I.change})]}),b.jsx("div",{className:`p-3 rounded-xl ${I.bg} ${I.color}`,children:b.jsx(I.icon,{className:"w-5 h-5"})})]},dt))}),b.jsxs("div",{children:[b.jsx("div",{className:"flex items-center justify-between mb-4",children:b.jsxs("h3",{className:"text-lg font-bold text-nexus-dark",children:["Active Projects (",E.length,")"]})}),E.length===0?b.jsxs("div",{className:"text-center py-10 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200",children:[b.jsx("p",{className:"text-slate-400 font-bold mb-2",children:"No projects yet."}),b.jsx("p",{className:"text-xs text-slate-400",children:'Click "Create New Project" to start tracking.'})]}):b.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:E.map(I=>b.jsxs("div",{onClick:()=>x(I),className:"bg-white p-6 rounded-2xl shadow-card border border-transparent active:border-nexus-accent transition-all active:scale-[0.99] cursor-pointer group",children:[b.jsxs("div",{className:"flex justify-between items-start mb-6",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-lg text-nexus-dark",children:I.name}),b.jsxs("div",{className:"flex items-center gap-1 text-nexus-muted text-xs mt-1",children:[b.jsx(lf,{className:"w-3 h-3"}),I.location]})]}),b.jsx(b_,{className:"w-5 h-5 text-slate-300"})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[b.jsx("span",{className:"text-slate-500",children:I.status}),b.jsxs("span",{className:"text-nexus-dark",children:[I.progress||0,"%"]})]}),b.jsx("div",{className:"w-full h-2 bg-slate-100 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full rounded-full bg-slate-200",children:b.jsx("div",{className:`h-full ${I.color||"bg-blue-500"}`,style:{width:`${I.progress||0}%`}})})})]})]},I.id))})]})]}),d==="map"&&b.jsx("div",{className:"h-full md:p-6 pb-20",children:b.jsx(Ub,{})}),d==="workers"&&b.jsx("div",{className:"h-full animate-in fade-in duration-500",children:b.jsx(lw,{})}),d==="financials"&&b.jsx("div",{className:"h-full",children:b.jsx(ow,{})}),d==="notifications"&&b.jsx("div",{className:"h-full animate-in fade-in duration-500",children:b.jsx(uw,{})})]}),b.jsx(sw,{isOpen:_,onClose:()=>w(!1),onSave:Z})]})]})]})},Mo=({icon:l,label:a,active:o,badge:u})=>b.jsxs("div",{className:`w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all cursor-pointer ${o?"bg-nexus-accent text-nexus-dark font-bold shadow-lg shadow-amber-500/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(l,{className:"w-5 h-5"}),b.jsx("span",{className:"text-sm font-medium",children:a})]}),u&&b.jsx("span",{className:"bg-red-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full",children:u})]}),dw=({onLoginSuccess:l})=>{const[a,o]=at.useState("OWNER"),[u,d]=at.useState(!1),[p,_]=at.useState({mobile:"",name:"",companyName:""}),[w,y]=at.useState(""),x=async()=>{if(!p.mobile||!p.name||!p.companyName)return alert("Fill all details");d(!0);const{data:N,error:M}=await At.auth.signInAnonymously();if(M||!N?.user)return d(!1),alert("Login failed");const z=N.user;await At.from("siteboss_users").upsert({id:z.id,role:"OWNER",name:p.name,mobile:p.mobile,company_name:p.companyName,is_active:!0}),d(!1),l({id:z.id,role:"OWNER",name:p.name,companyName:p.companyName})},E=async()=>{if(!w)return alert("Enter Mobile Number");d(!0);const{data:N,error:M}=await At.from("siteboss_workers").select(`
        id,
        name,
        role,
        siteboss_projects ( name )
      `).eq("mobile",w).maybeSingle();if(M||!N)return d(!1),alert("Access Denied. ID not found.");d(!1),l({id:N.id,role:N.role||"WORKER",name:N.name,projectName:N.siteboss_projects?.name||"Unassigned"})};return b.jsx("div",{className:"min-h-screen bg-nexus-surface flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-floating overflow-hidden",children:[b.jsxs("div",{className:"bg-nexus-dark p-8 text-center",children:[b.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"SITEBOSS"}),b.jsxs("div",{className:"flex bg-slate-800/50 p-1 rounded-xl mx-auto max-w-[200px]",children:[b.jsx("button",{onClick:()=>o("OWNER"),className:`flex-1 py-3 text-xs font-bold rounded-lg ${a==="OWNER"?"bg-nexus-accent text-nexus-dark":"text-slate-400"}`,children:"Owner"}),b.jsx("button",{onClick:()=>o("WORKER"),className:`flex-1 py-3 text-xs font-bold rounded-lg ${a==="WORKER"?"bg-nexus-accent text-nexus-dark":"text-slate-400"}`,children:"Team"})]})]}),b.jsx("div",{className:"p-8 space-y-5",children:a==="OWNER"?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"relative",children:[b.jsx(yf,{className:"absolute left-4 top-3 text-slate-400 w-5 h-5"}),b.jsx("input",{type:"tel",placeholder:"Mobile",className:"w-full pl-12 p-3 bg-nexus-surface rounded-xl outline-none",value:p.mobile,onChange:N=>_({...p,mobile:N.target.value})})]}),b.jsxs("div",{className:"relative",children:[b.jsx(uf,{className:"absolute left-4 top-3 text-slate-400 w-5 h-5"}),b.jsx("input",{type:"text",placeholder:"Name",className:"w-full pl-12 p-3 bg-nexus-surface rounded-xl outline-none",value:p.name,onChange:N=>_({...p,name:N.target.value})})]}),b.jsxs("div",{className:"relative",children:[b.jsx(Tr,{className:"absolute left-4 top-3 text-slate-400 w-5 h-5"}),b.jsx("input",{type:"text",placeholder:"Company",className:"w-full pl-12 p-3 bg-nexus-surface rounded-xl outline-none",value:p.companyName,onChange:N=>_({...p,companyName:N.target.value})})]}),b.jsx("button",{onClick:x,disabled:u,className:"w-full bg-nexus-dark text-white font-bold py-4 rounded-xl mt-2",children:u?"Loading...":"Login"})]}):b.jsxs("div",{className:"text-center",children:[b.jsx(ob,{className:"mx-auto text-emerald-500 w-8 h-8 mb-4"}),b.jsx("h3",{className:"font-bold text-nexus-dark text-lg mb-1",children:"Site Access"}),b.jsx("p",{className:"text-xs text-slate-400 mb-4",children:"Enter Registered Mobile"}),b.jsx("input",{type:"tel",placeholder:"9876543210",className:"w-full text-center text-2xl font-bold p-4 bg-nexus-surface rounded-xl mb-4 outline-none",value:w,onChange:N=>y(N.target.value)}),b.jsx("button",{onClick:E,disabled:u,className:"w-full bg-nexus-dark text-white font-bold py-4 rounded-xl",children:u?"Verify & Enter":"Enter Site"})]})})]})})};function mw(){const[l,a]=at.useState(null),[o,u]=at.useState(!0);at.useEffect(()=>{(async()=>{const{data:_}=await At.auth.getUser();_?.user&&a({id:_.user.id,email:_.user.email,role:"OWNER",name:_.user.user_metadata?.name||"Owner"}),u(!1)})()},[]);const d=async()=>{await At.auth.signOut(),a(null)};return o?b.jsx("div",{children:"Loading..."}):l?b.jsx(fw,{user:l,onLogout:d}):b.jsx(dw,{onLoginSuccess:p=>{a(p)}})}av.createRoot(document.getElementById("root")).render(b.jsx(Eu.StrictMode,{children:b.jsx(mw,{})}));
